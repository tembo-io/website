<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">26 posts tagged with &quot;postgres&quot; | Tembo</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://tembo.io/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://tembo.io/img/social-card.png"><meta data-rh="true" property="og:url" content="https://tembo.io/blog/tags/postgres"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="26 posts tagged with &quot;postgres&quot; | Tembo"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://tembo.io/blog/tags/postgres"><link data-rh="true" rel="alternate" href="https://tembo.io/blog/tags/postgres" hreflang="en"><link data-rh="true" rel="alternate" href="https://tembo.io/blog/tags/postgres" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Tembo RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Tembo Atom Feed">





<script id="hs-script-loader" src="//js.hs-scripts.com/23590420.js"></script>
<link rel="preconnect" href="https://cdn.segment.io">
<script>!function(){var e=window.analytics=window.analytics||[];if(!e.initialize)if(e.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{e.invoked=!0,e.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"],e.factory=function(t){return function(){if(window.analytics.initialized)return window.analytics[t].apply(window.analytics,arguments);var n=Array.prototype.slice.call(arguments);return n.unshift(t),e.push(n),e}};for(var t=0;t<e.methods.length;t++){var n=e.methods[t];e[n]=e.factory(n)}e.load=function(t,n){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(a,i),e._loadOptions=n},e._writeKey="YT4AfD2TuYaN7DiGR20tAnstYP1ujjyE",e.SNIPPET_VERSION="4.16.1",e.load("YT4AfD2TuYaN7DiGR20tAnstYP1ujjyE"),e.page()}}()</script>
<link key="docusaurus-plugin-plausible-preconnect" rel="preconnect" href="https://plausible.io">
<script key="docusaurus-plugin-plausible-script" async defer="defer" data-domain="tembo.io" src="https://plausible.io/js/plausible.js"></script>
<script key="docusaurus-plugin-plausible-custom-events">window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)}</script>

<script>prefinery=window.prefinery||function(){(window.prefinery.q=window.prefinery.q||[]).push(arguments)}</script>
<script src="https://widget.prefinery.com/widget/v2/yisnnyak.js" defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.92bb70b2.css">
<link rel="preload" href="/assets/js/runtime~main.ef584dc9.js" as="script">
<link rel="preload" href="/assets/js/main.75ceccb8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/title-logo.svg" alt="Tembo Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/title-logo.svg" alt="Tembo Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" href="/docs">Docs</a><a class="navbar__item navbar__link" target="_blank" href="/blog">Blog</a><a href="https://cloud.tembo.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Tembo Cloud<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/tembo-io/tembo-stacks" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/hacking-postgres-ep8">Hacking Postgres, Ep. 8: Philippe Noël</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/pgmq-self-regulating-queue">PGMQ: Lightweight Message Queue on Postgres with No Background Worker</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/hacking-postgres-ep7">Hacking Postgres Ep. 7: Burak Yucesoy</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/tembo-operator-apps">Application Services: Helping Postgres Do More, Faster</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/hacking-postgres-ep6">Hacking Postgres, Ep. 6: Regina Obe and Paul Ramsey</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/tembo-operator">Tembo Operator: A Rust-based Kubernetes Operator for Postgres</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/anon-dump">Anonymized dump of your Postgres data</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/hacking-postgres-ep5">Hacking Postgres, Ep. 5: Alexander Korotkov</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/hacking-postgres-ep4">Hacking Postgres, Ep. 4: Pavlo Golub</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/hacking-postgres-ep3">Hacking Postgres, Ep. 3: Eric Ridge</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/hacking-postgres-ep2">Hacking Postgres, Ep. 2: Adam Hendel</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/pgvector-and-embedding-solutions-with-postgres">Unleashing the power of vector embeddings with PostgreSQL</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/hacking-postgres-ep1">Hacking Postgres Ep. 1: Marco Slot</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/introducing-terraform-provider-for-tembo">Introducing Terraform Provider for Tembo</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/clerk-fdw">Unlocking value from your Clerk User Management platform with Postgres</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/table-version-history">Version History and Lifecycle Policies for Postgres Tables</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/postgres-extension-in-rust-pgmq">Anatomy of a Postgres extension written in Rust: pgmq</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/postgres-16">Postgres 16: The exciting and the unnoticed</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/four-types-of-extensions">Enter the matrix: the four types of Postgres extensions</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/tembo-stacks-intro">Tembo Stacks: Making Postgres the Everything Database</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/optimizing-postgres-auto-vacuum">Optimizing Postgres&#x27;s Autovacuum for High-Churn Tables</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/pgmq-with-python">Using pgmq with Python</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/introducing-pg-later">Introducing pg_later: Asynchronous Queries for Postgres, Inspired by Snowflake</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/introducing-pgmq">Introducing PGMQ: Simple Message Queues built on Postgres</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/tembo-manifesto">Tembo Manifesto</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/introducing-tembo">Introducing Tembo</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>26 posts tagged with &quot;postgres&quot;</h1><a href="/blog/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/hacking-postgres-ep8">Hacking Postgres, Ep. 8: Philippe Noël</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-11-10T00:00:00.000Z" itemprop="datePublished">November 10, 2023</time> · <!-- -->32 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ericankenman" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ericankenman.png" alt="Eric Ankenman"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ericankenman" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Eric Ankenman</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Search is simple in theory. In practice? Anything but. In today’s Episode 8 of Hacking Postgres, Ry sits down with Philippe Noël of ParadeDB to talk about how search is evolving, the influence of AI, and the lessons you&#x27;d tell your younger self.</p><p>Watch below, or listen on Apple/Spotify (or your podcast platform of choice). Special thanks to Regina and Paul for joining us today!</p><iframe width="560" height="315" src="https://www.youtube.com/embed/o73EMG1c3cA?si=ypM2zuSnQD-elBSB" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe><p>Want to know more about something they mentioned? Here’s a starting point:</p><ul><li>ParadeDB - <a href="https://www.paradedb.com/" target="_blank" rel="noopener noreferrer">https://www.paradedb.com/</a></li><li>pg_bm25 - <a href="https://docs.paradedb.com/blog/introducing_bm25" target="_blank" rel="noopener noreferrer">https://docs.paradedb.com/blog/introducing_bm25</a></li><li>pgvector - <a href="https://github.com/pgvector/pgvector" target="_blank" rel="noopener noreferrer">https://github.com/pgvector/pgvector</a></li><li>pgrx - <a href="https://github.com/pgcentralfoundation/pgrx" target="_blank" rel="noopener noreferrer">https://github.com/pgcentralfoundation/pgrx</a></li><li>Elastic - <a href="https://www.elastic.co/" target="_blank" rel="noopener noreferrer">https://www.elastic.co/</a></li><li>pg_search - <a href="https://github.com/Casecommons/pg_search" target="_blank" rel="noopener noreferrer">https://github.com/Casecommons/pg_search</a></li><li>zombodb - <a href="https://github.com/zombodb/zombodb" target="_blank" rel="noopener noreferrer">https://github.com/zombodb/zombodb</a></li><li>Algolia - <a href="https://www.algolia.com/" target="_blank" rel="noopener noreferrer">https://www.algolia.com/</a></li><li>InterDB - <a href="https://www.interdb.jp/" target="_blank" rel="noopener noreferrer">https://www.interdb.jp/</a></li></ul><p>Did you enjoy the episode? Have ideas for someone else we should invite? Let us know your thoughts on X at @tembo_io or share them with the team in our <a href="https://join.slack.com/t/tembocommunity/shared_invite/zt-23o25qt91-AnZoC1jhLMLubwia4GeNGw" target="_blank" rel="noopener noreferrer">Slack Community</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="transcript">Transcript<a href="#transcript" class="hash-link" aria-label="Direct link to Transcript" title="Direct link to Transcript">​</a></h2><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000012---ry">[00:00:12]<!-- --> - Ry<a href="#000012---ry" class="hash-link" aria-label="Direct link to 000012---ry" title="Direct link to 000012---ry">​</a></h5><p>Welcome to Hacking Postgres, an interview podcast with the people working on open source projects around Postgres, which in my opinion is the world&#x27;s best open source database. I&#x27;m Rye Walker, founder of Tembo, a managed Postgres company, and today I have Phil Noel from ParadeDB, working on ParadeDB as my guest. Phil, welcome to the show.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000037---phil">[00:00:37]<!-- --> - Phil<a href="#000037---phil" class="hash-link" aria-label="Direct link to 000037---phil" title="Direct link to 000037---phil">​</a></h5><p>Thanks. Yeah, thanks. Nice to meet you. Thanks for having me.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000042---ry">[00:00:42]<!-- --> - Ry<a href="#000042---ry" class="hash-link" aria-label="Direct link to 000042---ry" title="Direct link to 000042---ry">​</a></h5><p>Great to actually meet you. I&#x27;d like to start...maybe you could give us a quick background, like maybe where&#x27;d you grow up in the world? And what were you doing before?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000053---phil">[00:00:53]<!-- --> - Phil<a href="#000053---phil" class="hash-link" aria-label="Direct link to 000053---phil" title="Direct link to 000053---phil">​</a></h5><p>Yeah, absolutely. Happy to. So I&#x27;m originally from Quebec City, the French part of Canada. I actually grew up in this small town called <!-- -->[inaudible 01:02]<!-- --> , which is 2 hours East. Spent most of my life there, and then eventually I left to go to university. I stayed in Boston, studied computer science and neuroscience, did a few things. I started a browser company before ParadeDB, which I ran for about three years, and then after that got acquaintance with the joys of Postgres, you could say through that experience. Sounds somewhat similar to yours, maybe, although not to the same scale. And my previous co founder and I only started ParadeDB.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000135---ry">[00:01:35]<!-- --> - Ry<a href="#000135---ry" class="hash-link" aria-label="Direct link to 000135---ry" title="Direct link to 000135---ry">​</a></h5><p>Nice. Tell the browser company, what was that called and how far did you get in that project?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000143---phil">[00:01:43]<!-- --> - Phil<a href="#000143---phil" class="hash-link" aria-label="Direct link to 000143---phil" title="Direct link to 000143---phil">​</a></h5><p>Oh, that is both a short and a long story. It was called Wisp. We were building like a cloud based web browser, so the initial idea was to offload heavy processing to the cloud by streaming, which is like an age old idea, but we were young and dumb, so we thought we had invented something. We did that for a while, raised a couple of rounds of funding, grew a team to like 25 people, but we never quite found PMF and eventually pivoted to cybersecurity. Did that for a while, but it was a much better market, but not our battle to win. So we closed down the company. Yeah.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000221---ry">[00:02:21]<!-- --> - Ry<a href="#000221---ry" class="hash-link" aria-label="Direct link to 000221---ry" title="Direct link to 000221---ry">​</a></h5><p>Okay. I&#x27;m sure we both have a lot of battle stories we could commiserate over. Do you remember when you first started using Postgres? I can&#x27;t remember. That&#x27;s why I ask this question, because it kind of just happened at some point in my career. But do you remember specifically when you started with Postgres?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000245---phil">[00:02:45]<!-- --> - Phil<a href="#000245---phil" class="hash-link" aria-label="Direct link to 000245---phil" title="Direct link to 000245---phil">​</a></h5><p>I don&#x27;t know. Actually. That&#x27;s a good question. I don&#x27;t know. As a user? I don&#x27;t know. As a developer since earlier this year or last year.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000258---ry">[00:02:58]<!-- --> - Ry<a href="#000258---ry" class="hash-link" aria-label="Direct link to 000258---ry" title="Direct link to 000258---ry">​</a></h5><p>Well, cool. Obviously as a user, you&#x27;ve used it for years, I&#x27;m sure. Tell me about your Postgres work. What have you built in the past and what are you building now? Or is this all just the first thing?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000312---phil">[00:03:12]<!-- --> - Phil<a href="#000312---phil" class="hash-link" aria-label="Direct link to 000312---phil" title="Direct link to 000312---phil">​</a></h5><p>I guess I would say it&#x27;s the first major thing. So we can keep it to that, what we&#x27;re doing. So we&#x27;re building ParadeDB. ParadeDB is like a Postgres database, essentially, or Postgres extension, where we&#x27;re integrating native full text search within Postgres, which is something that some people are quick to jump to say this already exists, and some people are quick to jump to say the one that exists is very bad. And so they&#x27;re excited about what we&#x27;re doing. So it depends which camp you fall on. But the first thing we released is this extension is called pg_bm25, where we&#x27;re essentially integrating proper full text search within Postgres and then combine this with some of the existing innovations that&#x27;s come, like pgvector to build hybrid search. And our goal is to build this Postgres type database that is sort of the go to choice for companies where search is critical to the product they&#x27;re building. </p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000408---ry">[00:04:08]<!-- --> - Ry<a href="#000408---ry" class="hash-link" aria-label="Direct link to 000408---ry" title="Direct link to 000408---ry">​</a></h5><p>Nice. Why do you think you&#x27;re working on this? What led you here?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000414---phil">[00:04:14]<!-- --> - Phil<a href="#000414---phil" class="hash-link" aria-label="Direct link to 000414---phil" title="Direct link to 000414---phil">​</a></h5><p>Yeah, that&#x27;s a good question, actually. This is a problem we face ourselves and that&#x27;s kind of why we wanted to solve it. So after my first company, my co founder and I, we were trying to decide what we&#x27;re going to do next. So we started doing some contracting work sort of left and right. I was living in Paris at the time and working with a lot of French and German company. And when we were working with this German automaker, they just really needed high quality full text search within Postgres. So the promo we were building for them, and instead we had to glue Elasticsearch or some vector database on top. And it was just a nightmare. And we were very frustrated how bad it was and decided, you know what, maybe we should just fix it ourselves. And so that kind of led us to today. </p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000500---ry">[00:05:00]<!-- --> - Ry<a href="#000500---ry" class="hash-link" aria-label="Direct link to 000500---ry" title="Direct link to 000500---ry">​</a></h5><p>Got it. Yeah, it&#x27;s interesting. I don&#x27;t know. There was a famous tweet that I can&#x27;t remember the exact wording on, but it basically said something to the effect that, hey, tech founders, you do yourself well to pivot to building something that would support whatever you would be building today. Basically go one level deeper than your current idea is similar to what we did at Astronomer, because we were basically building a competitor to segment clickstream data processing. And then we started using Airflow. Then we said, hey, let&#x27;s just provide airflow as a service. And kind of made that switch to go down a level and that was the winning pivot for that company. So it sounds like you&#x27;ve kind of jumped down to more of an infrastructural issue, which I think is good. Well, what challenges? Obviously there&#x27;s a lot of ground to cover, but what are your biggest challenges, would you say you face so far? Building this thing.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000612---phil">[00:06:12]<!-- --> - Phil<a href="#000612---phil" class="hash-link" aria-label="Direct link to 000612---phil" title="Direct link to 000612---phil">​</a></h5><p>You mean like business wise or technical wise or process wise?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000616---ry">[00:06:16]<!-- --> - Ry<a href="#000616---ry" class="hash-link" aria-label="Direct link to 000616---ry" title="Direct link to 000616---ry">​</a></h5><p>Actually, yeah. I&#x27;d love to hear all categories of challenge. Yeah, spill the beans. What&#x27;s hard about this? I imagine fundraise. I mean, it&#x27;s a tough time to fundraise, so that&#x27;s probably not awesome. But yeah, maybe start technically.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000633---phil">[00:06:33]<!-- --> - Phil<a href="#000633---phil" class="hash-link" aria-label="Direct link to 000633---phil" title="Direct link to 000633---phil">​</a></h5><p>Yeah, I can start technically. I think software is the easiest part of building a company, so I would say these are our simplest set of challenges. Not to say it&#x27;s know, I was actually talking to Eric that I listened to the Hacking Postgres episode with Eric and I talked to him afterwards. At first we didn&#x27;t know pgrx was a thing, and we were like, oh my God, how on earth is this even going to be a thing? And then we found out pgrx was a thing and we&#x27;re like, wow, it went from near impossible to quite doable, really. So, like on the technical front, I mean, there&#x27;s just so much you need to do when you&#x27;re building search, right? We have covered a small ground of features of what people expect, and there are so many more that we need to build, and so we&#x27;re trying to prioritize that.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000725---ry">[00:07:25]<!-- --> - Ry<a href="#000725---ry" class="hash-link" aria-label="Direct link to 000725---ry" title="Direct link to 000725---ry">​</a></h5><p>Obviously Elastic is probably the big competitor. Can you estimate what percentage of their functionality you aim to replace? Is it essentially 100% and what&#x27;s your progress towards that?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000741---phil">[00:07:41]<!-- --> - Phil<a href="#000741---phil" class="hash-link" aria-label="Direct link to 000741---phil" title="Direct link to 000741---phil">​</a></h5><p>Yeah, that&#x27;s a good question. I mean, our progress was small. It&#x27;s small enough that you can use it, but Elastic is enormous, right? I don&#x27;t think we aim to replace or not to replace, sorry. To match 100% of their features, at least for transactional data, which is what we need today. I think we actually had a decent bit of the way done and definitely enough to keep us busy for a couple of months. But I think that&#x27;s sort of the first step of what we&#x27;re looking to match beyond that, like what everything elastic does for observability, that&#x27;s sort of another story, and that&#x27;s another milestone that we will see depending on what our customers want.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000829---ry">[00:08:29]<!-- --> - Ry<a href="#000829---ry" class="hash-link" aria-label="Direct link to 000829---ry" title="Direct link to 000829---ry">​</a></h5><p>Obviously I&#x27;m building a fresh new tech startup as well, and I understand you got to match the functionality of, I call it the table stakes features. But then you also have to come up with some differentiators or else no one will care. So what are the biggest differentiators you&#x27;re thinking about with ParadeDB?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000849---phil">[00:08:49]<!-- --> - Phil<a href="#000849---phil" class="hash-link" aria-label="Direct link to 000849---phil" title="Direct link to 000849---phil">​</a></h5><p>Yeah, so that&#x27;s a good question. I think for ParadeDB right now, the differentiator has been, ironically, I would say the combination of two non differentiated things, if that makes sense, which is like, if you want to do search over transactional data, ParadeDB is sort of the best solution today because it&#x27;s the only thing that actually truly combines the two. It wasn&#x27;t done before. And so sort of our initial interest, I would say, has come from that. So typically when people wanted to do this, they would have some managed Postgres provider, of which there are many, and then they would use Elastic and then they would need to combine the two and then run the two and so on. It can be a ton of work. And so ParadeDB sort of makes that a single system and especially for small companies, which is where you&#x27;ve been really, it&#x27;s been a lot easier to manage, I would say. And so that really draws them to us. That&#x27;s sort of like our initial point initially, but we have some other things that will be coming up which hopefully will expand on this sort of initial interest.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000952---ry">[00:09:52]<!-- --> - Ry<a href="#000952---ry" class="hash-link" aria-label="Direct link to 000952---ry" title="Direct link to 000952---ry">​</a></h5><p>Yeah, it seemed to me like as I think about building my next search bar in a product, I have to decide do I want to go what I can so call like the old school way versus vector search? Maybe I can get away with some sort of AI integration for search. Are people asking that question or do they have the perception that maybe like vector search somehow gets, replaces or displaces in some way traditional full text search type features?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001028---phil">[00:10:28]<!-- --> - Phil<a href="#001028---phil" class="hash-link" aria-label="Direct link to 001028---phil" title="Direct link to 001028---phil">​</a></h5><p>Yeah, that&#x27;s a very good question. A lot of people have, I&#x27;ve talked to a lot of people who weigh in on both sides of the coin. I would say my personal take is both will remain quite important just because at the end of the day people will still have data and we&#x27;ll still need to be able to find instances of those data. Right. And there&#x27;s one way to find it via similarity, but there&#x27;s also sometimes you just want to start from a clean place. And so I think both are quite valuable. Most of the people we talk to, hybrid search is very important to them, like the combination of the two, both big and small companies. And that&#x27;s one of the reasons why we built Parade the way we did today, where pgvector exists and so many others. And I would almost say vector search is kind of table stake now. We don&#x27;t really have to innovate on that so much ourselves, I would say. But the traditional search is kind of the piece that&#x27;s been missing, which is why we released this first extension, pg_bm25, and then we offered the combination of both as well <!-- -->[inaudible 11:29]<!-- -->  with another extension called pg_search, which we&#x27;re going to be publicizing more heavily soon.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001135---ry">[00:11:35]<!-- --> - Ry<a href="#001135---ry" class="hash-link" aria-label="Direct link to 001135---ry" title="Direct link to 001135---ry">​</a></h5><p>Yeah, I think it seems like, well, it seems to me like everything has to have an AI story or else perhaps it&#x27;s been outdated. Right. So I think even search, even full tech search, you can say I like that the hybrid answer is a good answer. Obviously then you have to figure out how to hybridize it all. And that&#x27;s not necessarily trivial. But yeah, I&#x27;m curious to see what you come up with on this.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001207---phil">[00:12:07]<!-- --> - Phil<a href="#001207---phil" class="hash-link" aria-label="Direct link to 001207---phil" title="Direct link to 001207---phil">​</a></h5><p>Yeah, it takes some effort. It takes some effort. I would say we definitely have an AI story, but our personal take on the whole AI world and fade is like AI is sort of a step function improvement on existing things being done, but you need a foundation of value proposition for customers on the fundamental non AI part of the product, if that makes sense. And that&#x27;s kind of how we think about it. There are so many people that are trying to bring AI when there was nothing useful to begin with. Well, I really think of AI as taking something that was useful to begin with and making it that much better. And so it kind of plays quite well actually with the way we&#x27;ve been going about delivering this product and saying like, hey, we&#x27;ll just give you really good full text search and obviously so much more can be done. But if that is not useful in the first place in Postgres, then who cares that I can add AI to.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001301---ry">[00:13:01]<!-- --> - Ry<a href="#001301---ry" class="hash-link" aria-label="Direct link to 001301---ry" title="Direct link to 001301---ry">​</a></h5><p>Yeah, yeah, I agree. Yeah, I think about it. Know you can&#x27;t build AI without training data, right? And you can&#x27;t, you can&#x27;t have training data without a product. You know, to collect some base level data. If you have a base level of product without AI, basically you have to start without AI, don&#x27;t have data at all. And I think that&#x27;s a challenge. A lot of founders, maybe they&#x27;re thinking they&#x27;re going to go straight to AI. They&#x27;re like, there&#x27;s nothing. You got to start basic. Yeah, I agree. What are some big milestones? How many big milestones do you have envisioned for ParadeDB at this moment?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001344---phil">[00:13:44]<!-- --> - Phil<a href="#001344---phil" class="hash-link" aria-label="Direct link to 001344---phil" title="Direct link to 001344---phil">​</a></h5><p>That&#x27;s also a good question.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001346---ry">[00:13:46]<!-- --> - Ry<a href="#001346---ry" class="hash-link" aria-label="Direct link to 001346---ry" title="Direct link to 001346---ry">​</a></h5><p>I mean you probably have a next one, right? You usually know your next big milestone.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001350---phil">[00:13:50]<!-- --> - Phil<a href="#001350---phil" class="hash-link" aria-label="Direct link to 001350---phil" title="Direct link to 001350---phil">​</a></h5><p>Hopefully you&#x27;d have that. Yeah, of course.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001353---ry">[00:13:53]<!-- --> - Ry<a href="#001353---ry" class="hash-link" aria-label="Direct link to 001353---ry" title="Direct link to 001353---ry">​</a></h5><p>And you also tell me what it is. But I&#x27;m curious.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001358---phil">[00:13:58]<!-- --> - Phil<a href="#001358---phil" class="hash-link" aria-label="Direct link to 001358---phil" title="Direct link to 001358---phil">​</a></h5><p>Happy to share. I mean, to be honest our big milestones was to get a thousand stars in new Hub and then some stranger posted our repo on Hacker News and somehow that happened in a couple of days, which was really exciting and rather unexpected. Now our big milestone is we&#x27;re about to release our own small version of managed Postgres ish specifically for ParadeDB to test how else we can deliver value to people. Like many that have been using the product so far have been using our self hosted version, which I&#x27;m sure you&#x27;re extremely familiar with how people don&#x27;t want to do this, doing Tembo. So that&#x27;s the next big milestone that&#x27;s coming, trying to learn to manage this. And then after that we have a couple of, I think after that we&#x27;ll see the exact number. We&#x27;re just trying to get more people on it and see what they think. Really.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001453---ry">[00:14:53]<!-- --> - Ry<a href="#001453---ry" class="hash-link" aria-label="Direct link to 001453---ry" title="Direct link to 001453---ry">​</a></h5><p>Yeah, just grow users. This is another thing I&#x27;ve been thinking about around just even like we have stacks at Tembo with different use cases for Postgres, and then some things ought to be workloads separated from other things. Like for example, do you keep your analytical workload separate from transactional? That&#x27;s clear. But search is interesting, whether that&#x27;s like an add on. Is that just work that the transactional database should be doing, or is it somehow, do you think the workload for search should be isolated from traditional transactional workloads? From an application standpoint, that&#x27;s a good question.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001536---phil">[00:15:36]<!-- --> - Phil<a href="#001536---phil" class="hash-link" aria-label="Direct link to 001536---phil" title="Direct link to 001536---phil">​</a></h5><p>I think it depends what product you&#x27;re building, to be honest, because you don&#x27;t want to slow down transactions. That&#x27;s something that&#x27;s very important to us. For example, I think it&#x27;s possible to integrate it, actually. I think it&#x27;s up to you, the way we&#x27;re thinking about it. So the way we&#x27;ve built ParadeDB is we offer weak consistency over search. So what this means is the way we build searches, we have inverted indices that store the tokenized data that you want to search over, but those are weakly consistent. So just like if you use Elastic, for example, and something like Zombodb, and then you synchronize it, there will be some lag between transactions being updated in your database and eventually being reflected in your search engine, the same thing happens, but it happens automatically for ParadB, instead of being it can be minutes sometimes here will be like a few seconds at the very most, but it ensures that your transactions are never slowed down, which is quite critical for people. So I think if you build in that way, it&#x27;s actually quite possible to centralize it and have it be integrated with the actual database. If you don&#x27;t use a product where search is built that way, then I don&#x27;t think you want to slow down your transaction so you have to isolate them.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001648---ry">[00:16:48]<!-- --> - Ry<a href="#001648---ry" class="hash-link" aria-label="Direct link to 001648---ry" title="Direct link to 001648---ry">​</a></h5><p>Yeah, I think a lot of people just obviously just do it inside their transactional database because it seems like overkill. Spin up a new Postgres, just especially like traditional shitty full tech search that&#x27;s available. But if we want to get good search, if I wanted to build really good search into an application, I would go buy Algolia or something like that. And that clearly is a microservice at that point, right? I&#x27;m sending data to them to index and they&#x27;re sending me back results really quickly that are happening. It&#x27;s not taxing my main database as a part of that. So I kind of like thinking of search as, let&#x27;s call it great search as a microservice candidate for sure, because the better you make it, the more compute it requires. The more compute it requires, the more it&#x27;s competing. Right? So I don&#x27;t know, I like the idea of just taking that worldview. That great search needs to be separated from the transactional or analytical.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001803---phil">[00:18:03]<!-- --> - Phil<a href="#001803---phil" class="hash-link" aria-label="Direct link to 001803---phil" title="Direct link to 001803---phil">​</a></h5><p>Yeah, I think you&#x27;re right in a lot of ways. You do need to be able to orchestrate it properly at scale. This is definitely something that we will ponder more and more as we have more people using it and using it at greater scale. I do think even if it needs to be solely separate from what we have done today, one of the great things and where DBMS and Postgres managed companies like ParadeDB or Tembo show up is in the ability to just make it transparent to the customer. The actual complexity of the orchestration behind the.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001837---ry">[00:18:37]<!-- --> - Ry<a href="#001837---ry" class="hash-link" aria-label="Direct link to 001837---ry" title="Direct link to 001837---ry">​</a></h5><p>So, you know, you&#x27;ve been writing code for a number of years now. What would you say your most important lesson has been? Kind of switching from the technical to the interpersonal or just like professional. Do you have any top lesson? If you&#x27;re going to meet with a young developer, you&#x27;d say.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001900---phil">[00:19:00]<!-- --> - Phil<a href="#001900---phil" class="hash-link" aria-label="Direct link to 001900---phil" title="Direct link to 001900---phil">​</a></h5><p>Specifically on writing code? Yeah, specifically on writing code. I would say only write the code that you need to write. I think that&#x27;s like a big one. Our previous company, maybe I&#x27;ll bother with this one. I like to think of products and startups now as like science experiments, as works of art. And I think our previous company, we thought of it as a work of art. So we came out of college, we were so incredibly into it and we wanted to be perfect. We cared so tremendously about what we did, that we always went above and beyond and it always made the product better and it involved writing more code, but it did not always make the product better in a way that meaningfully improved the experience of the user or brought us closer to product market fit. Right. And so I think if you think of a work of art like it&#x27;s never finished, it needs to be perfect, versus a science experiment is more like, what&#x27;s the bare minimum I can do to validate or invalidate this hypothesis I have or deliver value to a customer. And so what I would say, what I wish I could say to my younger self was, if no one has asked for this, I don&#x27;t think you need to do it.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002012---ry">[00:20:12]<!-- --> - Ry<a href="#002012---ry" class="hash-link" aria-label="Direct link to 002012---ry" title="Direct link to 002012---ry">​</a></h5><p>Yeah, it&#x27;s a good point. So you&#x27;re saying be more of a scientist than an artist, perhaps to some degree. When you&#x27;re starting on something and it&#x27;s not validated.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002026---phil">[00:20:26]<!-- --> - Phil<a href="#002026---phil" class="hash-link" aria-label="Direct link to 002026---phil" title="Direct link to 002026---phil">​</a></h5><p>I think a lot of great products are almost like work of arts. Like, people were so obsessed over it and you can feel that. And so I don&#x27;t think you want to leave all types of esthetic approach or care to it, but I think definitely early on, before you even sink so much time into it, you just want to get feedback quickly. Right. And that involves just only writing the code you need to write. Yeah.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002049---ry">[00:20:49]<!-- --> - Ry<a href="#002049---ry" class="hash-link" aria-label="Direct link to 002049---ry" title="Direct link to 002049---ry">​</a></h5><p>I&#x27;ll tell you a quick story. Like when we started astronomer, I have a good friend, Greg Neiheisel. He was CTO and basically my partner of crime. And we just very much mind melded on a lot of things. But our attitude following your principle was really what we were building was this beautiful lattice of glue, and everything was open source inside. So we used, for example, we used Google&#x27;s material design, which had just come out, and we built a UI, like, adhering to it perfectly, and ended up being a beautiful UI because guess what? Those guys built a great framework and we had no designer on the team. Google was our designer. We would joke about it all the time, and we actually chose a color scheme for the company that was kind of Googley, had the same four main colors. So it was really easy to build something great. But that we really built the first version of our product was entirely open source components just glued together in a unique way. And that was our art. It was like this inner skeleton of orchestration, or just like I said, I can think of it like a lattice of glue that&#x27;s holding all these things together. And, yeah, it was a very successful product. And it looks basically how you arrange open source components is art. It&#x27;s a creative endeavor, I think, and it&#x27;s enough for a brand new product. It&#x27;s enough art. You don&#x27;t have to go and reinvent, like, for example, the airflow UI during this really hard early project. And you don&#x27;t have to go reinvent the Postgres UI. Maybe you want to, but you&#x27;re like, let&#x27;s handle the first things first. So did you think of a lesson that was non technical that you learned that you would tell your younger self or not really?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002249---phil">[00:22:49]<!-- --> - Phil<a href="#002249---phil" class="hash-link" aria-label="Direct link to 002249---phil" title="Direct link to 002249---phil">​</a></h5><p>Oh, I have so many. I spent a lot of time thinking after our previous companies didn&#x27;t work out specifically. I don&#x27;t know. This is a broad question. I can go in every direction. Let me think, which one is the best one to share? Yeah, I would say, okay. One interesting lesson is I&#x27;ll focus on the youth as well. And what you mentioned. When we were building our first company, our first product, we felt very righteous. We were doing something very difficult and objectively, technically difficult. And a lot of people have tried before, and we were like, they must have done it wrong. Who are they? People with more experience and context than us to know how to do this really well. And so we always started every premise of what we were doing from the premise that we were correct. Right. And then we were strived to further validate the fact that we were correct. And I think this leads to a lot of cognitive dissonance when you turn out to be wrong. Right. Because you had this idea of what you were thinking, and it&#x27;s now being challenged versus now the way we think about it.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002407---phil">[00:24:07]<!-- --> - Phil<a href="#002407---phil" class="hash-link" aria-label="Direct link to 002407---phil" title="Direct link to 002407---phil">​</a></h5><p>And I mean this from a personal standpoint, from the way we talk and hire people, from the way we talk to customers, from the way we try to build product now, we just think we&#x27;re wrong. I always assume I&#x27;m wrong in what I think, and then I strive to prove myself correct. Right. And if we do manage to prove ourselves to be correct, then it&#x27;s like a very positive moment. You&#x27;re like, that&#x27;s amazing. I found this great surprise that I wasn&#x27;t fully convinced of before. And if you turn out to be wrong, you&#x27;re like, well, kind of thought I could be wrong all along, not a big deal, and then sort of drop this and move to something else. And I think it&#x27;s a mental framework that has served us a lot better in everything that we do now.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002445---ry">[00:24:45]<!-- --> - Ry<a href="#002445---ry" class="hash-link" aria-label="Direct link to 002445---ry" title="Direct link to 002445---ry">​</a></h5><p>Yeah, I love that.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002447---phil">[00:24:47]<!-- --> - Phil<a href="#002447---phil" class="hash-link" aria-label="Direct link to 002447---phil" title="Direct link to 002447---phil">​</a></h5><p>Yeah.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002448---ry">[00:24:48]<!-- --> - Ry<a href="#002448---ry" class="hash-link" aria-label="Direct link to 002448---ry" title="Direct link to 002448---ry">​</a></h5><p>I think it&#x27;s a tricky catch 22. Like, you have to, as a founder, live in a reality distortion field just to change the world. You have to have a crazy idea that most people disagree with. Those are the best ideas. Unfortunately, they&#x27;re also the worst ideas.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002505---phil">[00:25:05]<!-- --> - Phil<a href="#002505---phil" class="hash-link" aria-label="Direct link to 002505---phil" title="Direct link to 002505---phil">​</a></h5><p>Exactly.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002506---ry">[00:25:06]<!-- --> - Ry<a href="#002506---ry" class="hash-link" aria-label="Direct link to 002506---ry" title="Direct link to 002506---ry">​</a></h5><p>Just accept that, hey, you might be. At the same time, you have to also fight for your idea. Even if you hear negative, it&#x27;s like, oh, man, I built all this infrastructure for it to be righteous, and now it&#x27;s hard to give up on it. I think it&#x27;s wrong to give up on it a lot of times, because, again, I think that some of the best ideas almost everyone would disagree with as it starts. I agree. It&#x27;s a much better mindset to understand that it&#x27;s a lottery ticket sort of odds not, hey, well, if you were a good student, you know you can get an A in a class, right? You know you can get an A. It&#x27;s just a matter of doing the right amount of work, and you&#x27;ll get an A. But it doesn&#x27;t work that way with startups. Exactly.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002559---phil">[00:25:59]<!-- --> - Phil<a href="#002559---phil" class="hash-link" aria-label="Direct link to 002559---phil" title="Direct link to 002559---phil">​</a></h5><p>Yeah.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002600---ry">[00:26:00]<!-- --> - Ry<a href="#002600---ry" class="hash-link" aria-label="Direct link to 002600---ry" title="Direct link to 002600---ry">​</a></h5><p>Cool. So, well, I&#x27;m curious, like, are you paying attention to the Postgres ecosystem and other developments maybe that you&#x27;re excited about that you&#x27;ve seen since you started working on.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002613---phil">[00:26:13]<!-- --> - Phil<a href="#002613---phil" class="hash-link" aria-label="Direct link to 002613---phil" title="Direct link to 002613---phil">​</a></h5><p>Have. I mean, there&#x27;s, there&#x27;s just so much that&#x27;s happening in Postgres, obviously pretty excited about Tembo. I&#x27;ve been following you guys&#x27; journey. Just like, recently, there are people that I forget the name of the developer. That&#x27;s very embarrassing. But someone released PG branching, which maybe you&#x27;ve seen, which is like, so I was talking to Nikita, the CEO of Neon, right? And he was, like, raving about their branching system, which I&#x27;m sure is world class and amazing. But it turns out other people might be able to do this someday, which is good for the community, perhaps. So I think that&#x27;s quite an exciting extension that hasn&#x27;t been made by us, for example, that we&#x27;re very excited about. And there&#x27;s many others that I could list.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002656---ry">[00:26:56]<!-- --> - Ry<a href="#002656---ry" class="hash-link" aria-label="Direct link to 002656---ry" title="Direct link to 002656---ry">​</a></h5><p>Yeah, it&#x27;s interesting. My first reaction I saw, like, AWS announce, oh, we have active, active replication available on RDS. It&#x27;s a new extension, you know. And I responded on Twitter, is it going to be open source? And crickets. So it makes me feel like time to. We&#x27;ll study that extension, and the community needs to just build the open source version of it if they won&#x27;t do it. I&#x27;m not salty about how the big clouds operate. Extracting value from open source. Because I&#x27;m extracting value from open source, and you are, too. We all are. All the way down. Like I said, it&#x27;s like value extraction all the way down to Linux, but they could be. Obviously their goal is to build a proprietary alternatives and I really wish there was a Postgres company out there that was big and was worrying about the whole open source ecosystem. That&#x27;s what we&#x27;re trying to do. Yeah, there&#x27;s so much going on. I don&#x27;t know if it&#x27;s because I&#x27;m looking at it now or if things have changed in 2023 versus 2022. It&#x27;s great that it&#x27;s happening too during what I would consider like a law in the venture ecosystem as well. So I think the stuff that&#x27;s happening now will be strong. They always say like the startups that start during the slow parts of venture usually end up being more successful than the ones at the hype cycle. So you and I are both lucky we&#x27;re starting here. Even those. It might not feel that way sometimes.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002839---phil">[00:28:39]<!-- --> - Phil<a href="#002839---phil" class="hash-link" aria-label="Direct link to 002839---phil" title="Direct link to 002839---phil">​</a></h5><p>I think it does feel that way though. We raised our seed round, things went quite well. It was a challenging raise, but challenging because people were very critical about what we&#x27;re doing and I think that&#x27;s good, right? Like the first company, we raised money on a terrible idea and we thought raising money was the good part. But actually if you have a terrible idea and people convince you of that early on, they&#x27;re actually doing you a favor, right? Yeah, I think it&#x27;s good. I&#x27;m very bullish on the companies that are going to be founded, that have been founded this year, that will be found next year and so on, because I think you&#x27;re right. Overall, typically they turn out to be quite good. Yeah.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002922---ry">[00:29:22]<!-- --> - Ry<a href="#002922---ry" class="hash-link" aria-label="Direct link to 002922---ry" title="Direct link to 002922---ry">​</a></h5><p>So do you have a couple of favorite people that you&#x27;ve met in Postgres Land? Give them a shout out if you do.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002929---phil">[00:29:29]<!-- --> - Phil<a href="#002929---phil" class="hash-link" aria-label="Direct link to 002929---phil" title="Direct link to 002929---phil">​</a></h5><p>Yes, sure. I mean I met Eric, which I think will take the prize for my favorite. He. He&#x27;s very humble about it. He keeps saying TCDI needed pgrx. I think they really did it beyond what was needed for the benefit of the community. So I think he&#x27;s definitely gone above and beyond and he continues to go above and beyond. Another one maybe you know him or not. He&#x27;s the writer of one of the PG internals book called Hironobu, who&#x27;s this Japanese man who lives in Europe now I haven&#x27;t engaged with him very much, but he&#x27;s made this resource called I think InterDB.jp or something like that. I could send you the link if you&#x27;re curious, which goes into Postgres internals at a great detail. And it&#x27;s been like a good resource for us in it. So shout out to that guy.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003023---ry">[00:30:23]<!-- --> - Ry<a href="#003023---ry" class="hash-link" aria-label="Direct link to 003023---ry" title="Direct link to 003023---ry">​</a></h5><p>Yeah, I definitely read the website, but I haven&#x27;t spoken to the man.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003029---phil">[00:30:29]<!-- --> - Phil<a href="#003029---phil" class="hash-link" aria-label="Direct link to 003029---phil" title="Direct link to 003029---phil">​</a></h5><p>Maybe we should try to email him a few times. Yeah, I tried to convince him to join us, but it was too difficult to sell.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003037---ry">[00:30:37]<!-- --> - Ry<a href="#003037---ry" class="hash-link" aria-label="Direct link to 003037---ry" title="Direct link to 003037---ry">​</a></h5><p>Yeah, maybe he, I mean, I tried to convince Eric Ridge to join Tembo in the early on and he was too hard to sell.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003043---phil">[00:30:43]<!-- --> - Phil<a href="#003043---phil" class="hash-link" aria-label="Direct link to 003043---phil" title="Direct link to 003043---phil">​</a></h5><p>I&#x27;m sure you did. Of course, I would have loved to convince, um, the naive part of me was like, I can&#x27;t wait to convince Eric to join Parade. And then I talked to him, realized he basically is the co founder and CTO of TCDI. And I was like, okay, this isn&#x27;t happening.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003101---ry">[00:31:01]<!-- --> - Ry<a href="#003101---ry" class="hash-link" aria-label="Direct link to 003101---ry" title="Direct link to 003101---ry">​</a></h5><p>Yeah, I was probably the 25th person to go after him. And you were probably the 27th person to go after him. Whatever.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003110---phil">[00:31:10]<!-- --> - Phil<a href="#003110---phil" class="hash-link" aria-label="Direct link to 003110---phil" title="Direct link to 003110---phil">​</a></h5><p>Exactly.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003111---ry">[00:31:11]<!-- --> - Ry<a href="#003111---ry" class="hash-link" aria-label="Direct link to 003111---ry" title="Direct link to 003111---ry">​</a></h5><p>Yeah, I think it&#x27;s great. I&#x27;m kind of excited that these people, I&#x27;ll call them like the gods of Postgres, are kind of locked up up on Mount Olympus. We don&#x27;t get to see them or talk to them very much. That&#x27;s exciting to me, to know that someday we&#x27;ll get there. Someday, if our companies are strong enough, maybe we can get to work with those people. But it&#x27;s great to be in an ecosystem where there is a tier of people that are just amazing. I was talking to Samay, who&#x27;s the CTO here at Tembo, and he did the quick analysis. To see that most people become a committer at Postgres takes like around seven or eight years of contributing to Postgres before you get the commit bit, which is like, wow, that is an amazing. You think of venture backed startups, it&#x27;s like two startups worth of effort sticking around for your full vesting before you get to be up. So it has nothing to do with the company that you&#x27;re working for, it&#x27;s just you&#x27;re going to dedicate yourself to an open source project for the core of your professional life. Because once you get there, you probably want to stick around for another eight years, I&#x27;m sure.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003227---ry">[00:32:27]<!-- --> - Ry<a href="#003227---ry" class="hash-link" aria-label="Direct link to 003227---ry" title="Direct link to 003227---ry">​</a></h5><p>Yeah, it&#x27;s pretty cool.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003228---phil">[00:32:28]<!-- --> - Phil<a href="#003228---phil" class="hash-link" aria-label="Direct link to 003228---phil" title="Direct link to 003228---phil">​</a></h5><p>Yeah. But these people are great, and I think that&#x27;s one of the things that&#x27;s so great about Postgres community. Even though Eric and so on, they&#x27;re amazing people and they&#x27;re doing great things and they&#x27;re very busy and so on. This are quite accessible, really. Eric is very accessible in the pgrx discord and so on. So I do feel like by building open source, we still get to work with them, even though not in the same organization. And some other people I forgot to shout out, which perhaps deserve a lot of shout out, is maybe like Umur and Ozgun from Citus, right? They were like truly visionaries of the Postgres world, building extensions when Postgres was a toy database, as people would like, critic being critical of.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003317---ry">[00:33:17]<!-- --> - Ry<a href="#003317---ry" class="hash-link" aria-label="Direct link to 003317---ry" title="Direct link to 003317---ry">​</a></h5><p>Yeah, yeah, we&#x27;re definitely standing on their shoulders. They&#x27;ve, they did a lot of hard work early on and yeah, it&#x27;s great. If you had a magic wand, you could add any feature to Postgres tomorrow and it existed. Is there anything that you would use that wand on? Do you have any things you wish Postgres was that it isn&#x27;t?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003340---phil">[00:33:40]<!-- --> - Phil<a href="#003340---phil" class="hash-link" aria-label="Direct link to 003340---phil" title="Direct link to 003340---phil">​</a></h5><p>That&#x27;s very interesting. I think the answer would be better distributed support. Actually, what Citus has done is amazing. But the whole reason Yugabyte exists today, for example, is because there&#x27;s only so much you can do when you&#x27;re an extension like Citus did, right? And like Yugabyte is basically trying to be the Postgres equivalent of CockroachDB. And I think if that was baked in natively to Postgres, it would be good for a lot of people that are building on Postgres included.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003413---ry">[00:34:13]<!-- --> - Ry<a href="#003413---ry" class="hash-link" aria-label="Direct link to 003413---ry" title="Direct link to 003413---ry">​</a></h5><p>Yeah, that&#x27;s a good one. Do you listen to podcasts very much?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003419---phil">[00:34:19]<!-- --> - Phil<a href="#003419---phil" class="hash-link" aria-label="Direct link to 003419---phil" title="Direct link to 003419---phil">​</a></h5><p>Not very much, not very much. Only yours.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003422---ry">[00:34:22]<!-- --> - Ry<a href="#003422---ry" class="hash-link" aria-label="Direct link to 003422---ry" title="Direct link to 003422---ry">​</a></h5><p>Okay, good, thank you. No, I listen to PostgresFM all the time. I&#x27;m huge fans of those guys. I do listen to a lot of podcasts. But yeah. Just going to ask you what your favorites are. But you already said. All right, well cool. It was great talking to you. Where can listeners find you online? Maybe just tell us about yourself and then ParadeDB url and so on.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003449---phil">[00:34:49]<!-- --> - Phil<a href="#003449---phil" class="hash-link" aria-label="Direct link to 003449---phil" title="Direct link to 003449---phil">​</a></h5><p>Yeah, so you can find us on paradedb.com or on a GitHub is ParadeDB as well. It&#x27;s open source. We welcome contributions and users and so on. Of course we&#x27;re very responsive. As for me specifically, I think you&#x27;re going to link my Twitter in the bio, but my Twitter is PhilippeMNoel. It&#x27;s basically my handle across every social media. I feel like when you can find one, you sort of keep it. There&#x27;s so many people now on the internet, so that&#x27;s my handle everywhere. People can find me there and I love chatting.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003520---ry">[00:35:20]<!-- --> - Ry<a href="#003520---ry" class="hash-link" aria-label="Direct link to 003520---ry" title="Direct link to 003520---ry">​</a></h5><p>Awesome. Well, thanks for joining. Love to have you on again in the future. We&#x27;ll see again, it&#x27;s super early in this podcast life, but track what&#x27;s going on with ParadeDB and if there&#x27;s more stuff to talk about, we&#x27;ll get back together.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003536---phil">[00:35:36]<!-- --> - Phil<a href="#003536---phil" class="hash-link" aria-label="Direct link to 003536---phil" title="Direct link to 003536---phil">​</a></h5><p>Of course. Yeah, I would love to be there. Thank you for having me.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/postgres">postgres</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/hacking-postgres">hacking_postgres</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/pgmq-self-regulating-queue">PGMQ: Lightweight Message Queue on Postgres with No Background Worker</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-11-07T00:00:00.000Z" itemprop="datePublished">November 7, 2023</time> · <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ChuckHend" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/chuckhend.png" alt="Adam Hendel"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ChuckHend" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Adam Hendel</span></a></div><small class="avatar__subtitle" itemprop="description">Founding Engineer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><div style="width:75%"><p><img loading="lazy" alt="image" src="/assets/images/tembo-queue-805449fd409081b900fb16cefd7e52e5.png" width="822" height="753" class="img_ev3q"></p></div><p>Your app needs a message queue. Simple enough—until you try to do it, anyway.</p><p>Go set it up on Kafka? Sure...but now you have a Kafka cluster to manage.
Redis could work, but now you&#x27;re just managing Redis instances instead.
SQS? That means you have to reconfigure your application to talk to AWS, and you also get an extra external bill as icing on the cake.
Let&#x27;s build it on Postgres! However, if you follow most blogs and guides, you&#x27;ll probably end up building an agent, watcher process, or background worker to make sure the queue stays healthy. It&#x27;s better, but if the background worker fails, you could end up with bigger problems.</p><p>Fortunately, there&#x27;s a better way.</p><p>By designing with a visibility timeout, we remove the need for external processes for queue management. PGMQ is a Postgres extension built following exactly this sort of self-regulating queue. Today we&#x27;re going to combine PGMQ with pair of core Postgres features—FOR UPDATE and SKIP LOCKED—to cover all the needs of our message queue. FOR UPDATE helps ensure that just a single consumer receives a message in the queue. And SKIP LOCKED is required if you want to have multiple consumers on the same queue – without it each consumer would wait for the others to remove their locks. Before we put all the pieces together, let&#x27;s do a quick refresher on how each of these works.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="for-update-ensuring-exclusive-access">FOR UPDATE: Ensuring Exclusive Access<a href="#for-update-ensuring-exclusive-access" class="hash-link" aria-label="Direct link to FOR UPDATE: Ensuring Exclusive Access" title="Direct link to FOR UPDATE: Ensuring Exclusive Access">​</a></h2><p>Imagine a crowded store with a single cashier. As customers approach the counter, the cashier must serve them one at a time, ensuring each transaction is complete before moving on to the next. Similarly, when working with a queue, it&#x27;s essential to ensure that only one process or transaction works with a particular row of data at a time. This is where FOR UPDATE comes into play.</p><p>The FOR UPDATE clause is used to lock selected rows, preventing other transactions from modifying or locking them until the current transaction ends. This ensures that once a task (or row in our queue) is picked up, it isn&#x27;t grabbed by another worker or process simultaneously. It guarantees exclusive access, much like how our lone cashier attends to a single customer at a time.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="skip-locked-keeping-the-line-moving">SKIP LOCKED: Keeping the Line Moving<a href="#skip-locked-keeping-the-line-moving" class="hash-link" aria-label="Direct link to SKIP LOCKED: Keeping the Line Moving" title="Direct link to SKIP LOCKED: Keeping the Line Moving">​</a></h2><p>Back to our store analogy, if a customer isn&#x27;t ready to check out and holds up the line, it can cause unnecessary delays for the other customers. What if, instead, those who aren&#x27;t ready simply step aside, allowing others to continue? That would undoubtedly speed up the checkout process. This is the concept behind SKIP LOCKED.</p><p>When combined with FOR UPDATE, the SKIP LOCKED clause ensures that if a row is locked by another transaction, it gets skipped over, and the next available row is selected. This way, other workers or processes don&#x27;t get stuck waiting for a locked row to be released; they simply move on to the next available task.</p><p>By using these two clauses together, you can ensure that tasks in your queue are processed smoothly and efficiently, with each task getting picked up by a single worker and other workers moving seamlessly to the next available task.</p><p>However, how can we take this one step further? Many queue implementations have us using FOR UPDATE to mark a message as “in progress” which is great. However, that typically requires us to have a service external to postgres which monitors the queue to check for messages which have been “in progress” for too long.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="self-regulating-queues-in-postgresql">Self-Regulating Queues in PostgreSQL<a href="#self-regulating-queues-in-postgresql" class="hash-link" aria-label="Direct link to Self-Regulating Queues in PostgreSQL" title="Direct link to Self-Regulating Queues in PostgreSQL">​</a></h2><p>If you’re using FOR UPDATE SKIP LOCKED, and setting messages “in progress”, you most likely need a process to watch your queue and check for messages that have been processing for too long. Rather than running a background worker or external process, PGMQ implements a Visibility Timeout (VT). A VT is a designated period during which a message, once read from the queue, becomes invisible to other consumers or workers. This ensures that once a worker picks up a task, other workers won&#x27;t attempt to process the same task for the duration of this timeout. If the original worker fails to complete the task within the specified timeout, the task becomes visible again by nature of time elapsing past the specified VT, which means PGMQ still provides an at-least-once delivery guarantee even when the VT has elapsed. The task is ready for reprocessing by the same or a different worker.</p><p>In essence, the visibility timeout provides a grace period for tasks to be processed. It becomes a buffer against potential failures, ensuring that if a task isn’t completed due to any unforeseen reasons, it doesn’t get lost but rather re-enters the queue. Without something like the VT, queue systems will need to run a process to watch the queue. If that watcher crashes, or loses connection, then messages will stay unavailable until the watcher is recovered.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="queue-regulation-isnt-just-for-error-modes">Queue regulation isn’t just for error modes<a href="#queue-regulation-isnt-just-for-error-modes" class="hash-link" aria-label="Direct link to Queue regulation isn’t just for error modes" title="Direct link to Queue regulation isn’t just for error modes">​</a></h2><p>A common use case is for a consumer that needs to process a long-running I/O bound task. Let’s say there is a message with a task to create some infrastructure in your favorite <a href="https://cloud.tembo.io" target="_blank" rel="noopener noreferrer">cloud provider</a>, e.g. create an EC2 instance if it doesn’t already exist. That could take minutes to start up. Your consumer can submit the request to provision EC2, and then instead of waiting for EC2 to create, it can set the VT on that message to 60 seconds from now, then move on to read the next message. In 60 seconds, the message will become visible again and can be picked up.  That can look something like the follow pseudo-code:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># read a message, make it invisible for 30 seconds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">select pgmq.read(‘task_queue’, 30, 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...check if S3 bucket already already created</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...request to create S3 bucket if not exists</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># set message VT to 60 seconds from now If not exists: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">select pgmq.set_vt(‘task_queue’, &lt;msg_id&gt;, 60)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># consumer archives or deletes the message when its finished with its job</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">select pgmq.archive(&#x27;test_queue&#x27;, &lt;msg_id&gt;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>With PGMQ’s design, messages do not leave the queue until they are explicitly archived or deleted, so you could think of using the VT directly as “returning the message to the queue”, even though it technically never left the queue. Rather, returning it to a state that can be read by other consumers.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="choose-the-simplest-queue-architecture-with-pgmq">Choose the simplest queue architecture with PGMQ<a href="#choose-the-simplest-queue-architecture-with-pgmq" class="hash-link" aria-label="Direct link to Choose the simplest queue architecture with PGMQ" title="Direct link to Choose the simplest queue architecture with PGMQ">​</a></h2><p>Use <code>FOR UPDATE</code> so that you ensure messages are only read by one consumer at time. <code>SKIP LOCKED</code> so that you can have multiple workers processing messages concurrently. Finally, implement a visibility timeout so that you no longer need to rely on an external process to handle messages that have failed to process. Install the open-source <a href="https://github.com/tembo-io/pgmq" target="_blank" rel="noopener noreferrer">PGMQ extension</a> for Postgres or try it on <a href="https://cloud.tembo.io" target="_blank" rel="noopener noreferrer">Tembo Cloud</a> today and immediately benefit from all of these design decisions.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/postgres">postgres</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/message-queue">message-queue</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/pgmq">pgmq</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/hacking-postgres-ep7">Hacking Postgres Ep. 7: Burak Yucesoy</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-11-03T00:00:00.000Z" itemprop="datePublished">November 3, 2023</time> · <!-- -->25 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ericankenman" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ericankenman.png" alt="Eric Ankenman"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ericankenman" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Eric Ankenman</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Postgres for everything? How about building a new cloud provider? In episode 7 of Hacking Postgres, Ry talks with Burak Yucesoy of Ubicloud about new clouds, getting attached to extensions, and the future potential of Postgres.</p><p>Watch below, or listen on Apple/Spotify (or your podcast platform of choice). Special thanks to Regina and Paul for joining us today!</p><iframe width="560" height="315" src="https://www.youtube.com/embed/_f4WZwkrXQw?si=V2H6vs_e86Aq2xJt" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe><p>Want to know more about something they mentioned? Here’s a starting point:</p><ul><li>Ubicloud - <a href="https://www.ubicloud.com/" target="_blank" rel="noopener noreferrer">https://www.ubicloud.com/</a></li><li>Citus Data - <a href="https://www.citusdata.com/" target="_blank" rel="noopener noreferrer">https://www.citusdata.com/</a></li><li>PostgreSQL HLL - <a href="https://github.com/citusdata/postgresql-hll" target="_blank" rel="noopener noreferrer">https://github.com/citusdata/postgresql-hll</a></li><li>JSONB - <a href="https://www.postgresql.org/docs/current/datatype-json.html" target="_blank" rel="noopener noreferrer">https://www.postgresql.org/docs/current/datatype-json.html</a></li><li>hstore -<a href="https://www.postgresql.org/docs/current/hstore.html" target="_blank" rel="noopener noreferrer">https://www.postgresql.org/docs/current/hstore.html</a></li></ul><p>Did you enjoy the episode? Have ideas for someone else we should invite? Let us know your thoughts on X at @tembo_io or share them with the team in our <a href="https://join.slack.com/t/tembocommunity/shared_invite/zt-23o25qt91-AnZoC1jhLMLubwia4GeNGw" target="_blank" rel="noopener noreferrer">Slack Community</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="transcript">Transcript<a href="#transcript" class="hash-link" aria-label="Direct link to Transcript" title="Direct link to Transcript">​</a></h2><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000012---ry"><em>[00:00:12]<!-- --> - Ry</em><a href="#000012---ry" class="hash-link" aria-label="Direct link to 000012---ry" title="Direct link to 000012---ry">​</a></h5><p>Hello. I&#x27;m Ry Walker, founder of Tembo, a managed Postgres company. And today I have Burak from Ubicloud. How do you say UB? Ubi.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000023---burak"><em>[00:00:23]<!-- --> - Burak</em><a href="#000023---burak" class="hash-link" aria-label="Direct link to 000023---burak" title="Direct link to 000023---burak">​</a></h5><p>Ubicloud.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000024---ry"><em>[00:00:24]<!-- --> - Ry</em><a href="#000024---ry" class="hash-link" aria-label="Direct link to 000024---ry" title="Direct link to 000024---ry">​</a></h5><p>Yeah, UB. Welcome to the podcast Burak.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000033---burak"><em>[00:00:33]<!-- --> - Burak</em><a href="#000033---burak" class="hash-link" aria-label="Direct link to 000033---burak" title="Direct link to 000033---burak">​</a></h5><p>Yeah, thanks a lot for having me here.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000036---ry"><em>[00:00:36]<!-- --> - Ry</em><a href="#000036---ry" class="hash-link" aria-label="Direct link to 000036---ry" title="Direct link to 000036---ry">​</a></h5><p>Yeah, well I&#x27;d love to start with giving us a quick background. I&#x27;m curious where&#x27;d you grow up and what were you doing before?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000048---burak"><em>[00:00:48]<!-- --> - Burak</em><a href="#000048---burak" class="hash-link" aria-label="Direct link to 000048---burak" title="Direct link to 000048---burak">​</a></h5><p>Well, well hello everyone, this is Burak and I work as a software developer and I guess in reverse chronological order I worked at Microsoft, Citus Data and SAP on distributed databases in all three and currently I worked at a startup called Ubicloud. We are basically building a new cloud provider and the primary thing we do differently than other providers is that well all the code is open. You can think it as open alternative to existing cloud providers. You can go to GitHub, check out the code, set it up on a bare meta server and then you can have your own cloud or you can use our managed offering of course. So yeah, this is brief history of me working professionally.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000146---ry"><em>[00:01:46]<!-- --> - Ry</em><a href="#000146---ry" class="hash-link" aria-label="Direct link to 000146---ry" title="Direct link to 000146---ry">​</a></h5><p>Yeah, nice. So you&#x27;re open sourcing, essentially open sourcing and what AWS and GCP and Azure have done.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000155---burak"><em>[00:01:55]<!-- --> - Burak</em><a href="#000155---burak" class="hash-link" aria-label="Direct link to 000155---burak" title="Direct link to 000155---burak">​</a></h5><p>Yeah, definitely, I&#x27;m seeing it what Linux is to proprietary operating systems. This is what we are doing for the cloud providers.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000207---ry"><em>[00:02:07]<!-- --> - Ry</em><a href="#000207---ry" class="hash-link" aria-label="Direct link to 000207---ry" title="Direct link to 000207---ry">​</a></h5><p>Yeah, and you only have to build 300 different services on top of it. Right, but luckily a lot of those are open source too.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000215---burak"><em>[00:02:15]<!-- --> - Burak</em><a href="#000215---burak" class="hash-link" aria-label="Direct link to 000215---burak" title="Direct link to 000215---burak">​</a></h5><p>Kind of. Well, I guess our current plan is not building all 200 render services because most of the time people use only ten at most 20. If you implement 20 of them, I guess you have 80% of the use cases. So I guess this is our initial plan but we never know what would feature show.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000242---ry"><em>[00:02:42]<!-- --> - Ry</em><a href="#000242---ry" class="hash-link" aria-label="Direct link to 000242---ry" title="Direct link to 000242---ry">​</a></h5><p>Yeah, I think it&#x27;s a great idea. I&#x27;m excited to watch it evolve and hopefully partner with you guys at some point.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000250---burak"><em>[00:02:50]<!-- --> - Burak</em><a href="#000250---burak" class="hash-link" aria-label="Direct link to 000250---burak" title="Direct link to 000250---burak">​</a></h5><p>Yeah, that would be awesome.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000252---ry"><em>[00:02:52]<!-- --> - Ry</em><a href="#000252---ry" class="hash-link" aria-label="Direct link to 000252---ry" title="Direct link to 000252---ry">​</a></h5><p>Do you remember when you first started using Postgres?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000257---burak"><em>[00:02:57]<!-- --> - Burak</em><a href="#000257---burak" class="hash-link" aria-label="Direct link to 000257---burak" title="Direct link to 000257---burak">​</a></h5><p>Yeah, I do. Well to be honest, when I start programming I started as a web developer and at that time Lamp stack was very common. So my first database was MySQL but then I started working at Citus Data and which is the place that I started working development part of the Postgres. So basically for people who don&#x27;t know Site, the Sitestata was the company behind many popular extensions such as Citus or Pgcron or PostgreSQL HLL. So when I first joined Citus Data, I initially worked on building Citus extension and while doing that you need to dig to the Postgres code first you need to understand and then you build your extension on top of it. And then we built our own managed service. So I switched to that team to build a Postgres managed service and some of our customers were well, they were heavily using PostgresQL HLL extension and at that time the original authors of the PostgreSQL HLL extension, they went through an acquisition process and they didn&#x27;t have enough time at their hand to maintain the extension. And well, we know the people and at that time PostgreSQL Community was much smaller.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000437---burak"><em>[00:04:37]<!-- --> - Burak</em><a href="#000437---burak" class="hash-link" aria-label="Direct link to 000437---burak" title="Direct link to 000437---burak">​</a></h5><p>So we just called them and said that, hey, we want to maintain this extension, what do you think about? And they were pretty happy to find a new maintainer. So, long story short, I found myself as the maintainer of the PostgreSQL extension and then the Citus Data got acquired by Microsoft and then well, I continued my Postgres journey on Microsoft. Like we also build a managed server stash. Yeah, I guess that&#x27;s how I start with Postgres development. Well, not just start like till the almost whole journey.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000518---ry"><em>[00:05:18]<!-- --> - Ry</em><a href="#000518---ry" class="hash-link" aria-label="Direct link to 000518---ry" title="Direct link to 000518---ry">​</a></h5><p>Yeah. And are you taking a little bit of a break from it right now or are you working on Postgres stuff over at Ubicloud?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000531---burak"><em>[00:05:31]<!-- --> - Burak</em><a href="#000531---burak" class="hash-link" aria-label="Direct link to 000531---burak" title="Direct link to 000531---burak">​</a></h5><p>Yeah, well, first of all, we use Postgres in Ubicloud as like most of my professional community, like the friends, and they are from Postgres Community, so there&#x27;s no way I can leave that community at all. But as a cloud provider, Ubicloud also needs to offer a Postgres service. So we are planning some things like it&#x27;s not very well defined yet, but I think eventually we will have something for Postgres as well.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000612---ry"><em>[00:06:12]<!-- --> - Ry</em><a href="#000612---ry" class="hash-link" aria-label="Direct link to 000612---ry" title="Direct link to 000612---ry">​</a></h5><p>Out of curiosity, are you guys I&#x27;m sure this is a hotly debated topic, but Kubernetes or no Kubernetes inside of UBI Cloud?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000622---burak"><em>[00:06:22]<!-- --> - Burak</em><a href="#000622---burak" class="hash-link" aria-label="Direct link to 000622---burak" title="Direct link to 000622---burak">​</a></h5><p>Well, in our case right now, no Kubernetes. We have pretty simple control plane, which if you want, I think you can move it to Kubernetes. But right now we don&#x27;t use it. Not that we have anything against Kubernetes, it&#x27;s just I guess right now we don&#x27;t need that complexity, I believe.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000650---ry"><em>[00:06:50]<!-- --> - Ry</em><a href="#000650---ry" class="hash-link" aria-label="Direct link to 000650---ry" title="Direct link to 000650---ry">​</a></h5><p>Yeah, well, and I imagine you&#x27;ll have managed Kubernetes. You&#x27;d have to have that. That&#x27;ll be one of your 1st 20 most likely.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000657---burak"><em>[00:06:57]<!-- --> - Burak</em><a href="#000657---burak" class="hash-link" aria-label="Direct link to 000657---burak" title="Direct link to 000657---burak">​</a></h5><p>Yeah, definitely. Because managed Kubernetes is quite one of the most demanded products, so it needs to be one of the first.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000711---ry"><em>[00:07:11]<!-- --> - Ry</em><a href="#000711---ry" class="hash-link" aria-label="Direct link to 000711---ry" title="Direct link to 000711---ry">​</a></h5><p>Well, so again, you were working on Citus...When you started working on it, was it an extension or was it, I don&#x27;t know the full history? Was it a fork at any point and then became extension?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000725---burak"><em>[00:07:25]<!-- --> - Burak</em><a href="#000725---burak" class="hash-link" aria-label="Direct link to 000725---burak" title="Direct link to 000725---burak">​</a></h5><p>Yeah, at the beginning it was a fork and just before I joined the team it become an extension. So basically Citus become an extension and become an open source at the same time. And I think I joined Citus team in like one month after that. </p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000745---ry"><em>[00:07:45]<!-- --> - Ry</em><a href="#000745---ry" class="hash-link" aria-label="Direct link to 000745---ry" title="Direct link to 000745---ry">​</a></h5><p>Got it. So you never were part of that previous era. Were a lot of the hard problems already solved, would you say, with Citus? Usually. I just did a talk with the PostGIS team and they said early on is where they solved the most of the problems and it was more gradual after that. Is that the case with Citus too, or was there a big project that happened after you joined well, I think.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000819---burak"><em>[00:08:19]<!-- --> - Burak</em><a href="#000819---burak" class="hash-link" aria-label="Direct link to 000819---burak" title="Direct link to 000819---burak">​</a></h5><p>Most of the difficult problems were already solved and to be honest, I think one of the problems with the extension development is that there isn&#x27;t good documentation about it. Like for Postgres has pretty good documentation for user facing features. But if you want to as a developer, there isn&#x27;t that much resources so you usually need to read lots of Postgres code. And to be honest, I think Postgres code is pretty readable for a project at its size and that big and that old, so I think that&#x27;s a huge plus. But still you need to read lots of code to understand what you need to do. And in our case, thankfully, Citrus hired one of the most prominent contributors of the Postgres Andres Freund and he primarily lead the effort to make Citus an extension. And I think at that time I believe Postgres extension framework also didn&#x27;t have some of the features we need. So we had to do some hacky workaround. But eventually Postgres extension framework also got improved and we had chance to remove those hacky workaround.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000948---ry"><em>[00:09:48]<!-- --> - Ry</em><a href="#000948---ry" class="hash-link" aria-label="Direct link to 000948---ry" title="Direct link to 000948---ry">​</a></h5><p>Yeah, that&#x27;s great. Yeah, it sounds like that&#x27;s happening now with lots know a lot of the innovation in Postgres happens as a fork with the hope that in a version or two can become an extension and then maybe a couple of versions. After that it becomes a less hacky extension. Right? You can streamline it, but it&#x27;s a four year journey or so. Tell me about PostgreSQL HLL. Tell me what&#x27;s HLL stand for.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001019---burak"><em>[00:10:19]<!-- --> - Burak</em><a href="#001019---burak" class="hash-link" aria-label="Direct link to 001019---burak" title="Direct link to 001019---burak">​</a></h5><p>Yeah, well, HLL stands for Hyperlog log and it is an extension to make a cardinality estimation, which is a fancy way of saying doing count distinct but approximately. Let me first explain why approximately. The reason is doing count distinct as an accurate number is pretty difficult. Well, not difficult, but maybe unfeasible. If your data size is small, that&#x27;s okay. But if you have lots of data, the usual way is keeping a hash map or hash set. Every time you see an item you put it to hash set and at the end you count number of items in it. But if you have lots of data that becomes unfeasible. If you have a distributed system, like if you are doing count testing in two different nodes, that becomes even more difficult. Because let&#x27;s say you bite the bullet and calculate the counter stick in one node and the other node, it&#x27;s not possible to merge the result. Because there might be common elements, you cannot just sum them up. So what Hyperlog log does is it uses an approximation algorithm. I can go into detail of it as well to have an internal representation of the number of unique elements which is both memory efficient compared to doing a hash map which is also easy to merge.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001204---burak"><em>[00:12:04]<!-- --> - Burak</em><a href="#001204---burak" class="hash-link" aria-label="Direct link to 001204---burak" title="Direct link to 001204---burak">​</a></h5><p>So it allows you to do like the parallel computing. And the only gotcha is it is not an exact number, it&#x27;s an approximation, but it turns out that we don&#x27;t need exact number most of the time. Like for example, especially in analytical use cases, let&#x27;s say you want to count the number of unique users that visit your website. It doesn&#x27;t matter if they are 4 million or 4.1 million, like you want a ballpark number. And also the good thing is the error rate of hyperlog log is quite small. It is usually around 2% and you can make it even smaller if you give it a bit more memory like you can make it more accurate while this hyperlog log algorithm is just out there. And what PostgreSQL hyperlog log does is it implements this algorithm for PostgreSQL.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001309---ry"><em>[00:13:09]<!-- --> - Ry</em><a href="#001309---ry" class="hash-link" aria-label="Direct link to 001309---ry" title="Direct link to 001309---ry">​</a></h5><p>So how much of a resource reduction would you estimate that using an approximation? So you lose a percentage or two of accuracy, but you get how much less compute required?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001324---burak"><em>[00:13:24]<!-- --> - Burak</em><a href="#001324---burak" class="hash-link" aria-label="Direct link to 001324---burak" title="Direct link to 001324---burak">​</a></h5><p>Well, usually it&#x27;s about 1.5 KB. So the hyperlogo data structure on default it takes about 1.5 KB memory.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001338---ry"><em>[00:13:38]<!-- --> - Ry</em><a href="#001338---ry" class="hash-link" aria-label="Direct link to 001338---ry" title="Direct link to 001338---ry">​</a></h5><p>Orders of magnitude smaller.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001340---burak"><em>[00:13:40]<!-- --> - Burak</em><a href="#001340---burak" class="hash-link" aria-label="Direct link to 001340---burak" title="Direct link to 001340---burak">​</a></h5><p>Yeah, actually log log parts come from that. So if you are dealing with 32 bit integers, it can go up to two to the 32. You get the log of that, it is 32. You get another log that you get five. So you need five bits of memory to be able to store one bucket. And then what hyperlog log does is it keeps multiple buckets to increase the accuracy. So at the end it end up about like 1.5 kilobyte.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001417---ry"><em>[00:14:17]<!-- --> - Ry</em><a href="#001417---ry" class="hash-link" aria-label="Direct link to 001417---ry" title="Direct link to 001417---ry">​</a></h5><p>Got it. So how involved were you in that extension? Did you start it or did you inherit it?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001425---burak"><em>[00:14:25]<!-- --> - Burak</em><a href="#001425---burak" class="hash-link" aria-label="Direct link to 001425---burak" title="Direct link to 001425---burak">​</a></h5><p>I inherited it. So actually another startup called Aggregate Knowledge built that extension. Then I think they got acquired by New Star and at that time the project was not maintained frequently. So there were some boxes we need to be merged in and our customers were also using it. So we contacted the original authors and said that hey, we want to maintain this. And they were happy to hand over the maintainership to us. And then after that we did bug fixes, we did regular releases. I presented a few conference talks about hyperlog log  in Pgcomp EU and Pgcomp US. Yeah, that&#x27;s the overall story.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001524---ry"><em>[00:15:24]<!-- --> - Ry</em><a href="#001524---ry" class="hash-link" aria-label="Direct link to 001524---ry" title="Direct link to 001524---ry">​</a></h5><p>I&#x27;m curious, have you been able to disconnect from I imagine it&#x27;s easier to disconnect from Citus as an extension after leaving Microsoft, but disconnecting from this extension PostgreSQL HLL. Are you still kind of watching that because you have that knowledge?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001547---burak"><em>[00:15:47]<!-- --> - Burak</em><a href="#001547---burak" class="hash-link" aria-label="Direct link to 001547---burak" title="Direct link to 001547---burak">​</a></h5><p>Yeah, I have a little bit of emotional bond to that extension. Well, for example, there were few improvements that I wanted to do, but I didn&#x27;t have time while working at Microsoft and it just, itched me from time to time and it is open source. So I guess at some point in near future I&#x27;ll open a pull request and hopefully it would get merged. I hope.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001619---ry"><em>[00:16:19]<!-- --> - Ry</em><a href="#001619---ry" class="hash-link" aria-label="Direct link to 001619---ry" title="Direct link to 001619---ry">​</a></h5><p>Yeah, but Microsoft team controls that extension as it sits.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001625---burak"><em>[00:16:25]<!-- --> - Burak</em><a href="#001625---burak" class="hash-link" aria-label="Direct link to 001625---burak" title="Direct link to 001625---burak">​</a></h5><p>Yeah, right now Microsoft team controls, they continue to do regular releases and every time new PostgreSQL version comes up they ensure that it works well and they update the packages, release new packages. If there&#x27;s a bug report, they are the one who fixes it.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001645---ry"><em>[00:16:45]<!-- --> - Ry</em><a href="#001645---ry" class="hash-link" aria-label="Direct link to 001645---ry" title="Direct link to 001645---ry">​</a></h5><p>How many extensions, I mean, obviously there&#x27;s the Citus extension, this one. How many total extensions would you say like Microsoft has in Postgres? I know maybe it&#x27;s hard to nail down a number, but there are a bunch of others too.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001701---burak"><em>[00:17:01]<!-- --> - Burak</em><a href="#001701---burak" class="hash-link" aria-label="Direct link to 001701---burak" title="Direct link to 001701---burak">​</a></h5><p>There are there&#x27;s Citus, there&#x27;s PostgresQL HLL. There is Pgcron which is also quite popular. It is a Chrome based job scheduler.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001710---ry"><em>[00:17:10]<!-- --> - Ry</em><a href="#001710---ry" class="hash-link" aria-label="Direct link to 001710---ry" title="Direct link to 001710---ry">​</a></h5><p>Yeah, I just started using that.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001712---burak"><em>[00:17:12]<!-- --> - Burak</em><a href="#001712---burak" class="hash-link" aria-label="Direct link to 001712---burak" title="Direct link to 001712---burak">​</a></h5><p>Yeah, that&#x27;s pretty cool. It is primarily developed by Marco Slot. There is one extension to ensure that Postgres works. Postgres is well integrated with Azure. So there&#x27;s like an extension called PG Azure. I think it&#x27;s not open source but if you start a Postgres instance from Azure and check the extensions, if there&#x27;s that extension there is TopN which is also approximation based extension. It gives you top N elements of a sorted list. And if you think about it is also expensive operation to do on big data set because you need to sort them first and take the top N. And I think there are more optimized algorithms that where you can keep heap which is more memory efficient but you still need to go over lots of data at that time. At Citus we also developed this TopN extension. Actually, if you look at it, the general team is about being able to do things at scale because Postgres is already pretty good at doing things in a single node. And like the title primary use case was make. A distributed PostgreSQL and we developed few extensions to make some operations that are not feasible to do at scale and find a ways to make them more feasible.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001906---ry"><em>[00:19:06]<!-- --> - Ry</em><a href="#001906---ry" class="hash-link" aria-label="Direct link to 001906---ry" title="Direct link to 001906---ry">​</a></h5><p>So I&#x27;m curious, are there some big milestones in Postgres that you&#x27;re looking forward to?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001914---burak"><em>[00:19:14]<!-- --> - Burak</em><a href="#001914---burak" class="hash-link" aria-label="Direct link to 001914---burak" title="Direct link to 001914---burak">​</a></h5><p>Yeah, well, actually I was looking forward for Postgres 16 release mostly because of the logical replication improvement. There are few and I think there will be more upcoming because I think logical replication is a very powerful concept but it&#x27;s still a bit cumbersome to use it with PostgreSQL, especially when there&#x27;s a change in the data, like if when you run a DDL command or when you have a failover. So there are few gotcha and I think with the Postgres 16 some of these are less problematic and maybe I hope in the upcoming versions it would be even easier to use. Well, when you have a very solid logical replication, it opens up lots of cool features. Well, one thing that I personally invested in is being able to do zero downtime failovers and when I say zero time downtime, I mean like the real zero downtime. Not just like 1 second downtime, but real zero downtime. And I think logical replication, solid logical replication would open up that yeah, I agree.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002045---ry"><em>[00:20:45]<!-- --> - Ry</em><a href="#002045---ry" class="hash-link" aria-label="Direct link to 002045---ry" title="Direct link to 002045---ry">​</a></h5><p>It&#x27;s one thing to do that too with a single node versus a Citus cluster too right. Zero downtime gets complicated the more complicated your deployment is. But I agree on a single deployment I have this idea where we could basically build scaffolding around the existing thing, whatever it takes, like get another one working. In other words, temporarily have replication happening and then somehow seamlessly up above you have to have some fulcrum that you can so it&#x27;s a complicated thing to figure out but I think it&#x27;d be great for a managed service provider to basically build up temporary infrastructure that helps the zero downtime thing happen. If that&#x27;s true, then you can restart for all kinds of reasons with impunity like auto scaling is possible, stuff like that.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002150---burak"><em>[00:21:50]<!-- --> - Burak</em><a href="#002150---burak" class="hash-link" aria-label="Direct link to 002150---burak" title="Direct link to 002150---burak">​</a></h5><p>Yeah, and one reason I especially interested in was that in our previous managed service we do lots of operations via failover. Like for example, if you want to scale up what we would do is we create another server with higher number of cores and then we would do failover. Or if you want to like for example, we might need to do maintenance like maybe we found a security vulnerability or there is the regular maintenance. What we would do is instead of going and patching the existing server we would create a new one and then we do a failover to that one and each of those failovers. It takes some amount of downtime which is not obviously not preferable and not a good experience for customers but if they were virtually free from the perspective of customer if they don&#x27;t even notice that there&#x27;s a failover then you can do as many failovers as you want.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002255---ry"><em>[00:22:55]<!-- --> - Ry</em><a href="#002255---ry" class="hash-link" aria-label="Direct link to 002255---ry" title="Direct link to 002255---ry">​</a></h5><p>You share the same vision as I do there. I think it would be exciting to get there. So I&#x27;m curious though, if there was one thing that you could if you had a magic wand and this weekend something new would be in Postgres core, what would it be? What would you use that wand on?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002311---burak"><em>[00:23:11]<!-- --> - Burak</em><a href="#002311---burak" class="hash-link" aria-label="Direct link to 002311---burak" title="Direct link to 002311---burak">​</a></h5><p>Yeah, that&#x27;s difficult. I want lots of things like picking one is difficult but I guess one thing that bothers me is that for high availability and backups you always need to depend the third party tool I would really love that to be sold in Postgres. Like for example, for Redis it comes with very good default settings that you can use for high availability. But for Postgres there are solutions. There are good solutions but I would love them to be in the core.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002403---ry"><em>[00:24:03]<!-- --> - Ry</em><a href="#002403---ry" class="hash-link" aria-label="Direct link to 002403---ry" title="Direct link to 002403---ry">​</a></h5><p>Yeah, I get that for sure. It&#x27;s tricky when you have to buy a product or let&#x27;s say you adopt a product and you immediately have to adopt x additional products right off the bat and that&#x27;s not a good feeling. It feels complex, right? Yeah, that&#x27;s cool, I would say. Do you have any opinions about Postgres that almost nobody agrees with you about? Are you a contrarian in any area that you can think of?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002435---burak"><em>[00:24:35]<!-- --> - Burak</em><a href="#002435---burak" class="hash-link" aria-label="Direct link to 002435---burak" title="Direct link to 002435---burak">​</a></h5><p>Let me see. I don&#x27;t think so. Well.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002445---ry"><em>[00:24:45]<!-- --> - Ry</em><a href="#002445---ry" class="hash-link" aria-label="Direct link to 002445---ry" title="Direct link to 002445---ry">​</a></h5><p>Maybe that&#x27;s one of the areas that put that you think backrupt should be inside.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002448---burak"><em>[00:24:48]<!-- --> - Burak</em><a href="#002448---burak" class="hash-link" aria-label="Direct link to 002448---burak" title="Direct link to 002448---burak">​</a></h5><p>There is that. But I know there are people who also share that opinion. Yeah, I&#x27;m not sure it&#x27;s okay.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002504---ry"><em>[00:25:04]<!-- --> - Ry</em><a href="#002504---ry" class="hash-link" aria-label="Direct link to 002504---ry" title="Direct link to 002504---ry">​</a></h5><p>Yeah, I was just curious. It&#x27;s always fun to talk about those things, if they exist. Give you a soapbox.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002514---burak"><em>[00:25:14]<!-- --> - Burak</em><a href="#002514---burak" class="hash-link" aria-label="Direct link to 002514---burak" title="Direct link to 002514---burak">​</a></h5><p>Actually, there is one thing, but that&#x27;s also even I think Tembo kind of agrees with me on that one, is that I think many different use cases can be implemented in Postgres. So instead of having a lot of specialized databases, you can have Postgres. And with some configuration and maybe few extensions, you can implement, like you can implement Kafka in Postgres, you can implement Redis, you can implement like the NoSQL in Postgres. I guess if I said this maybe two, three years ago, probably I would get more raised eye growth. But now I think more people start thinking to think like that. I think Tembo is also thinking things along similar lines, right?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002614---ry"><em>[00:26:14]<!-- --> - Ry</em><a href="#002614---ry" class="hash-link" aria-label="Direct link to 002614---ry" title="Direct link to 002614---ry">​</a></h5><p>Yeah, I think there&#x27;s openness to it. I talked to a lot of people, and the question is how people are Postgres for everything. Or question is what percentage of developers are actually on that bandwagon? Obviously on Twitter, it just takes one person, and it&#x27;s a big community, too, especially if it&#x27;s a contrarian view. But I&#x27;m kind of curious. One of the things I want to find out over the next few months is what percentage of developers would actually if this Postgres for Everything was real, would they actually use it versus still saying &quot;Ehh.&quot; And I think it all comes down to like I think, yeah, you can do Kafka, like work on Postgres right now, but it doesn&#x27;t feel as clean as buying Confluent. That seems like a very safe decision. And doing something like Kafka on Postgres seems like you&#x27;re just kind of stringing together a Rube Goldberg machine and it doesn&#x27;t feel like a solid. But the question is, if those solutions were solid, would people use them? And that&#x27;s our big thesis, is that if they were solid, people would use them. But I just don&#x27;t know what percentage of people would do that.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002738---ry"><em>[00:27:38]<!-- --> - Ry</em><a href="#002738---ry" class="hash-link" aria-label="Direct link to 002738---ry" title="Direct link to 002738---ry">​</a></h5><p>A big percentage or a small percentage?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002740---burak"><em>[00:27:40]<!-- --> - Burak</em><a href="#002740---burak" class="hash-link" aria-label="Direct link to 002740---burak" title="Direct link to 002740---burak">​</a></h5><p>Yeah, I&#x27;m not sure. But there is one interesting thing that come into my mind, is, well, today Postgres supports JSONB type, but it was not like that all the time. So in the earlier days, if you want to store JSON data, we had an extension called hstore, which we still have, but not as commonly used as before. And what hstore does is, and this is one of the very powerful part of PostgreSQL extension framework, hstore defined the data type, and on top of it, they defined how you can hash this data type and how you can compare this data type. And when you do this in Postgres, Postgres allows you to create index on that data type. So suddenly you are not only able to store JSON data, but you can index it. And at that time this is kind of rare things even for NoSQL database. So I think it&#x27;s a bit funny. And also it shows the power of PostgreSQL extension framework is that suddenly you are able to do what NoSQL database does but better. I mean, not in all perspectives, like connection scaling was still a problem, but being able to index NoSQL data, being able to index JSON, it was a rare feature even for NoSQL databases.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002919---burak"><em>[00:29:19]<!-- --> - Burak</em><a href="#002919---burak" class="hash-link" aria-label="Direct link to 002919---burak" title="Direct link to 002919---burak">​</a></h5><p>But you had it in Postgres. I don&#x27;t know, maybe some of these other databases or other use cases Postgres might have something unexpected that would make it better.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002936---ry"><em>[00:29:36]<!-- --> - Ry</em><a href="#002936---ry" class="hash-link" aria-label="Direct link to 002936---ry" title="Direct link to 002936---ry">​</a></h5><p>An unexpected advantage. Yeah, it&#x27;s the same way with pgvector right now the great thing about doing vector embeddings inside of Postgres is that you don&#x27;t have to move the data out of Postgres as part of the process. Right. You can just add a column and keep it where it is, whereas anybody else has if it&#x27;s an external vector database that&#x27;s specific for that use case, you have to have data pipelines and all that kind of machinery. Which that&#x27;s to me, one of the big benefits of keeping it all in Postgres is less data movement. And less data movement can mean much like no data delays and all that kind of stuff go away. So yeah, I agree with you, there&#x27;s a lot of unexpected benefits for keeping things together.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003025---burak"><em>[00:30:25]<!-- --> - Burak</em><a href="#003025---burak" class="hash-link" aria-label="Direct link to 003025---burak" title="Direct link to 003025---burak">​</a></h5><p>Yeah, I guess since Postgres provides pretty strong asset guarantees, it allows you to build things on top of that. And when you have asset, then you can be much more free to develop complex features. Because what I realize is like while developing software, most of the time as a developer, I try to ensure that hey, what I&#x27;m doing is atomic or what I&#x27;m doing does not it is isolate. So it&#x27;s not caused any problems if something is coming and not in the expected order. But you have chance to delegate all this to Postgres, I think that gives you quite a bit of advantage.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003121---ry"><em>[00:31:21]<!-- --> - Ry</em><a href="#003121---ry" class="hash-link" aria-label="Direct link to 003121---ry" title="Direct link to 003121---ry">​</a></h5><p>Well, one of the things I love too is that because the Postgres core team is quite separated from the commercial products, is that I just think it seems like a very stable chassis to build these things on top of. And you really can&#x27;t if it&#x27;s more of a captive, open source project, say, like what Kafka is to Confluent. They can move Kafka quickly if they need to for commercial to help their commercial product, but that could introduce more instability. I just don&#x27;t see this Postgres team doing anything very risky, which to me is a great counterbalance to people developers trying to move fast and build crazy cool new things. It&#x27;s just nice to have that as a stability factor, I think, inside the product.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003217---burak"><em>[00:32:17]<!-- --> - Burak</em><a href="#003217---burak" class="hash-link" aria-label="Direct link to 003217---burak" title="Direct link to 003217---burak">​</a></h5><p>I think so, yeah. Well, I guess historically I think the Postgres community kind of divided into camps and some of them would want to implement new shiny thing and some of them would try to hey, just let&#x27;s get stabilized. And I believe this JSONB support comes from the part who wants to innovate and try new things. And at the beginning, I think they got some hesitation from the other company. But at the end, I guess what they do proved itself to be very valuable. And then now JSONB support is one of the most widely used features of Postgres. Yeah, so I guess there is some sort of balance to try risky things and also try being stabilized.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003310---ry"><em>[00:33:10]<!-- --> - Ry</em><a href="#003310---ry" class="hash-link" aria-label="Direct link to 003310---ry" title="Direct link to 003310---ry">​</a></h5><p>If you look at the number of the change log for Postgres 16 they did a lot of things. It&#x27;s almost more than anyone can keep in their head. That&#x27;s what I&#x27;m saying. The good stuff gets through, it&#x27;s just the bar is high and then with a lot of assurances that they didn&#x27;t break any part of Postgres in the process. I really appreciate that part of this thing and it&#x27;s one of the reasons why I&#x27;m so excited to be building a product on top of it.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003341---burak"><em>[00:33:41]<!-- --> - Burak</em><a href="#003341---burak" class="hash-link" aria-label="Direct link to 003341---burak" title="Direct link to 003341---burak">​</a></h5><p>Yeah, well, at the same time it is sometimes bit frustrating because sometimes you have a feature you want it to be merged in like you might be author or you might be just someone watching from the site and desperately need that feature. And then you see that there is a huge discussion going on and people cannot convince each other and it falls to the next cycle, which is like the one years later. So that&#x27;s a bit frustrating but I guess yeah, it is kind of cost of having a quite stable system.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003418---ry"><em>[00:34:18]<!-- --> - Ry</em><a href="#003418---ry" class="hash-link" aria-label="Direct link to 003418---ry" title="Direct link to 003418---ry">​</a></h5><p>It&#x27;s the cost. And like I said, well, obviously I haven&#x27;t been here for the 26 years watching the mailing lists and maybe I&#x27;m jumping in here relatively late in a cycle and I just appreciate all the efforts and all the debates and all the fights that have happened there because I think it&#x27;s created such a great core engine. All right, well, so where can listeners find you online? I imagine you&#x27;re on X. Yeah, they.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003450---burak"><em>[00:34:50]<!-- --> - Burak</em><a href="#003450---burak" class="hash-link" aria-label="Direct link to 003450---burak" title="Direct link to 003450---burak">​</a></h5><p>Can find me at X, at LinkedIn. Yeah, I guess those two would be the places they could find me, but mostly at X. My alias is at BYucesoy. So basically my first letter of my name and my last name. Great.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003510---ry"><em>[00:35:10]<!-- --> - Ry</em><a href="#003510---ry" class="hash-link" aria-label="Direct link to 003510---ry" title="Direct link to 003510---ry">​</a></h5><p>Well, we&#x27;re excited to see the outcome of as you guys are shipping Ubicloud. Excited to see that. And yeah, appreciate you joining us today.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003524---burak"><em>[00:35:24]<!-- --> - Burak</em><a href="#003524---burak" class="hash-link" aria-label="Direct link to 003524---burak" title="Direct link to 003524---burak">​</a></h5><p>Thanks a lot for having me here, it was great talk, I enjoyed a lot and I&#x27;m definitely looking for the other episodes to release so that I can listen.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/postgres">postgres</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/hacking-postgres">hacking_postgres</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/tembo-operator-apps">Application Services: Helping Postgres Do More, Faster</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-11-01T00:00:00.000Z" itemprop="datePublished">November 1, 2023</time> · <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ChuckHend" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/chuckhend.png" alt="Adam Hendel"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ChuckHend" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Adam Hendel</span></a></div><small class="avatar__subtitle" itemprop="description">Founding Engineer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p><img loading="lazy" alt="alt_text" src="/assets/images/tembo_ele-7c81c53d1131a1b7fcca53d6ff51ed82.png" title="Tembo the Operator" width="1784" height="1706" class="img_ev3q"></p><p>So you have a database, and that database does something. (Probably several somethings, if we&#x27;re honest). However, today, you need it to do something else. </p><p>Simple enough...you just create a tool to give it that new functionality. Job done.</p><p>Except it isn&#x27;t. Because the requests for new &quot;things&quot; never stop. They get complicated. They slow things down. They conflict with one another. Sometimes they even screw up your database along the way. And if we&#x27;re honest, you don&#x27;t really want to be constantly building new tools for every new need anyway. Before you know it, all of these &quot;things&quot; you&#x27;re asking the database to do are starting to get in the way of its core performance.</p><p>The good news is that Postgres has a rich ecosystem of tools and services built by the community. Many of these run in the database as Postgres extensions, while others run outside the database as external services. Some of the most well known examples are <a href="https://postgrest.org/en/stable/" target="_blank" rel="noopener noreferrer">PostgREST</a>, an out-of-the box REST API for Postgres and <a href="https://www.pgbouncer.org/usage.html" target="_blank" rel="noopener noreferrer">pgbouncer</a>, a production ready connection pooler. A scalable way to run these pieces of software with the Tembo operator is to utilize a new feature called Application Services, which runs these applications in containers next to postgres.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="understanding-the-essence-of-tembo-operator">Understanding the Essence of Tembo Operator<a href="#understanding-the-essence-of-tembo-operator" class="hash-link" aria-label="Direct link to Understanding the Essence of Tembo Operator" title="Direct link to Understanding the Essence of Tembo Operator">​</a></h2><p>We have developed the Tembo Operator looking to add new capabilities for developers and enterprises. We believe that it stands out from other techniques in many ways, and in particular, one important feature is that it lets users deploy applications in containers right alongside their PostgreSQL instances, ensuring efficient connection to Postgres with very low latency.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-advantage-of-running-applications-in-separate-containers">The Advantage of Running Applications in Separate Containers<a href="#the-advantage-of-running-applications-in-separate-containers" class="hash-link" aria-label="Direct link to The Advantage of Running Applications in Separate Containers" title="Direct link to The Advantage of Running Applications in Separate Containers">​</a></h2><p>PostgreSQL is a very powerful piece of software. When running in Kubernetes, a useful pattern is to run important applications in a separate container, in the same namespace. By running these applications in separate containers, we isolate application requirements, such as resource allocations. This means that each container can have dedicated CPU and Memory, ensuring there&#x27;s no competition with the resources reserved for running PostgreSQL. This segregation ensures that the Postgres database and other applications can function and scale efficiently.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="spotlight-on-postgrest-a-prime-example">Spotlight on PostgREST: A Prime Example<a href="#spotlight-on-postgrest-a-prime-example" class="hash-link" aria-label="Direct link to Spotlight on PostgREST: A Prime Example" title="Direct link to Spotlight on PostgREST: A Prime Example">​</a></h2><p>PostgREST is a perfect example where an application can run with this pattern. PostgREST serves as a standalone web server that turns your database directly into a RESTful API. The immediate advantage? Developers can use the auto-generated API to build robust applications without writing any code. By simplifying the process and reducing the need for middleware, PostgREST has become a popular tool in the Postgres ecosystem.</p><p>However, let’s remember that  the main advantage of this method is not just resource allocation. It&#x27;s about ensuring the optimal performance of Postgres without bogging it down with additional tasks. </p><p>Let’s look at an example of a spec that would run the workload that we just described. This will look familiar if you’ve worked with the <a href="https://kubernetes.io/docs/concepts/workloads/pods/" target="_blank" rel="noopener noreferrer">Kubernetes Pod spec.</a></p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> coredb.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> CoreDB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">postgres</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;quay.io/tembo/standard-cnpg:15.3.0-1-1096aeb&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">appServices</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> postgrest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> postgrest/postgrest</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">v10.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">routing</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ingressPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> PGRST_DB_URI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">valueFromPlatform</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ReadWriteConnection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> PGRST_DB_SCHEMA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> public</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> PGRST_DB_ANON_ROLE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> postgres</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The Tembo operator always starts postgres with default configurations, so let’s focus on the <code>appServices</code> section of the spec, which will tell us what and how we’ll run an application container.</p><p>We can run any number of applications in containers near the Postgres instance. Only the <code>name</code> and <code>image</code> parameters are required, but you can configure commands, arguments, environment variables, CPU and memory, and readiness and liveness probes for the application.</p><p>If you need network communication, you can also configure the ingress by specifying a port and a path. In our example, postgREST runs on port 3000 and expects traffic routed to the root path. appServices also support various Middleware configurations, but we will cover those in a future blog.</p><p>Environment variables also have some advanced configuration. The Tembo operator creates a few roles in Postgres, and tracks those credentials in a Kubernetes secret. If we want to pull those credentials into an application, we can do so by using the <code>valueFromPlatform</code> option. The service currently supports pulling in credentials for <code>ReadWriteConnection</code>, <code>ReadOnlyConnection</code> but we’ll be building out more role assignments soon.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="arbitrary-container-deployments">Arbitrary container deployments<a href="#arbitrary-container-deployments" class="hash-link" aria-label="Direct link to Arbitrary container deployments" title="Direct link to Arbitrary container deployments">​</a></h2><p>The Tembo operator is not limited to postgREST; it can run nearly any containerized application. For example, run your Rails application, or FastAPI web server. Specify the image, and other configurations as necessary and the Tembo operator will provision the resources.</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> coredb.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> CoreDB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">postgres</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">appServices</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> quay.io/myImage</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">routing</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ingressPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;python&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;-m&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;myapp.py&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MY_ENV</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my_value</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Kubernetes Footprint</strong></p><p>Let’s take a look at what actually gets created when you specify an appService; we’ll use the postgREST example as an illustration.</p><p>Every application service gets its own Kubernetes Deployment. If the appService has any ingress requirements, then a Kubernetes Service and an ingress resource (Tembo currently uses <a href="https://doc.traefik.io/traefik/middlewares/overview/" target="_blank" rel="noopener noreferrer">Traefik</a>) is created for that appService. Middleware is also created (also Traefik) if the appService has any middleware configuration specified. Here’s an image of the pods you’d likely see in the namespace you create for Postgres.</p><p><img loading="lazy" alt="alt_text" src="/assets/images/kube-5f0581fdf597e5d0acd3b910b88808b3.png" title="image_tooltip" width="1512" height="576" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="more-to-follow">More to follow<a href="#more-to-follow" class="hash-link" aria-label="Direct link to More to follow" title="Direct link to More to follow">​</a></h2><p>The Tembo operator is under continuous development and runs the entire Postgres Stack, which is not limited to just the core Postgres engine. It also includes auxiliary container services that run outside of Postgres. These auxiliary services augment the Postgres experience by running complex applications outside of Postgres which isolates their workload from your database. Running this with the Tembo Operator makes it simple to get these services up and running.</p><p>And if you want to try out the full power of Postgres without being concerned with how it will run, try out <a href="https://cloud.tembo.io/" target="_blank" rel="noopener noreferrer">Tembo Cloud</a>.Drop into our <a href="https://join.slack.com/t/tembocommunity/shared_invite/zt-20dtnhcmo-pLNV7_Aobi50TdTLpfQ~EQ" target="_blank" rel="noopener noreferrer">Slack</a> channel to ask questions and get help from the Tembo team and other community members.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/postgres">postgres</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/kubernetes">kubernetes</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/rust">rust</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/hacking-postgres-ep6">Hacking Postgres, Ep. 6: Regina Obe and Paul Ramsey</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-31T00:00:00.000Z" itemprop="datePublished">October 31, 2023</time> · <!-- -->31 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ericankenman" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ericankenman.png" alt="Eric Ankenman"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ericankenman" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Eric Ankenman</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>In this episode, Ry, Regina, and Paul talk about geospatial development, the challenges of creating and maintaining an extension across multiple Postgres development cycles, and what they’re hoping for in the future of Postgres. </p><p>Watch below, or listen on Apple/Spotify (or your podcast platform of choice). Special thanks to Regina and Paul for joining us today!</p><iframe width="560" height="315" src="https://www.youtube.com/embed/q3TXM6Nu7Aw?si=El0OVHhXKXkXAoQ1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe><p>Want to know more about something they mentioned? Here’s a starting point:</p><ul><li>SQL Server - <a href="https://www.microsoft.com/en-us/sql-server" target="_blank" rel="noopener noreferrer">https://www.microsoft.com/en-us/sql-server</a></li><li>PostGIS - <a href="https://postgis.net/" target="_blank" rel="noopener noreferrer">https://postgis.net/</a></li><li>Gist - <a href="https://www.postgresql.org/docs/current/gist.html" target="_blank" rel="noopener noreferrer">https://www.postgresql.org/docs/current/gist.html</a></li><li>R-tree - <a href="https://www.postgresql.org/docs/current/indexes-types.html" target="_blank" rel="noopener noreferrer">https://www.postgresql.org/docs/current/indexes-types.html</a></li><li>KNN - <a href="https://postgis.net/workshops/postgis-intro/knn.html" target="_blank" rel="noopener noreferrer">https://postgis.net/workshops/postgis-intro/knn.html</a></li><li>Parallelism - <a href="https://www.postgresql.org/docs/current/parallel-query.html" target="_blank" rel="noopener noreferrer">https://www.postgresql.org/docs/current/parallel-query.html</a></li><li>GEOS - <a href="https://libgeos.org/" target="_blank" rel="noopener noreferrer">https://libgeos.org/</a></li><li>CartoDB - <a href="https://carto.com/" target="_blank" rel="noopener noreferrer">https://carto.com/</a></li><li>Crunchy Data - <a href="https://www.crunchydata.com/" target="_blank" rel="noopener noreferrer">https://www.crunchydata.com/</a></li><li>OGR - <a href="https://github.com/pramsey/pgsql-ogr-fdw" target="_blank" rel="noopener noreferrer">https://github.com/pramsey/pgsql-ogr-fdw</a></li><li>Paragon Corporation - <a href="https://www.paragoncorporation.com/" target="_blank" rel="noopener noreferrer">https://www.paragoncorporation.com/</a></li></ul><p>Did you enjoy the episode? Have ideas for someone else we should invite? Let us know your thoughts on X at @tembo_io or share them with the team in our <a href="https://join.slack.com/t/tembocommunity/shared_invite/zt-23o25qt91-AnZoC1jhLMLubwia4GeNGw" target="_blank" rel="noopener noreferrer">Slack Community</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="transcript">Transcript<a href="#transcript" class="hash-link" aria-label="Direct link to Transcript" title="Direct link to Transcript">​</a></h2><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000012---regina"><em>[00:00:12]<!-- --> - Regina</em><a href="#000012---regina" class="hash-link" aria-label="Direct link to 000012---regina" title="Direct link to 000012---regina">​</a></h5><p>Hi, I&#x27;m Ry Walker, founder of Tembo, a managed Postgres company. And today I have Regina Obe and Paul Ramsey, two who are working and have been working on PostGIS for quite some time. Welcome to the show, both of you.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000028---regina"><em>[00:00:28]<!-- --> - Regina</em><a href="#000028---regina" class="hash-link" aria-label="Direct link to 000028---regina" title="Direct link to 000028---regina">​</a></h5><p>Thanks, Ry.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000028---paul"><em>[00:00:28]<!-- --> - Paul</em><a href="#000028---paul" class="hash-link" aria-label="Direct link to 000028---paul" title="Direct link to 000028---paul">​</a></h5><p>Thanks, Ry. Nice to be here. Great. Yeah.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000032---ry"><em>[00:00:32]<!-- --> - Ry</em><a href="#000032---ry" class="hash-link" aria-label="Direct link to 000032---ry" title="Direct link to 000032---ry">​</a></h5><p>So I think you guys have all been using Postgres for quite some time. Maybe. Paul, when did you start using Postgres?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000042---paul"><em>[00:00:42]<!-- --> - Paul</em><a href="#000042---paul" class="hash-link" aria-label="Direct link to 000042---paul" title="Direct link to 000042---paul">​</a></h5><p>I started using Postgres, and I&#x27;m sure I can give you a version number, I think like 6.4, which I think puts me in like the &#x27;98, &#x27;99 era. And yeah, I was using it as a consultant. My first career was in consulting and working for the provincial government. And we were doing a big data analysis project and it was a geospatial project, but all the geospatial processing was being done by an external piece of software and we used Postgres as the backing store for what was a very long, like, 20 day compute cycle to spit out all the results for the entire province. </p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000117---ry"><em>[00:01:17]<!-- --> - Ry</em><a href="#000117---ry" class="hash-link" aria-label="Direct link to 000117---ry" title="Direct link to 000117---ry">​</a></h5><p>Nice. How about you, Regina?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000118---regina"><em>[00:01:18]<!-- --> - Regina</em><a href="#000118---regina" class="hash-link" aria-label="Direct link to 000118---regina" title="Direct link to 000118---regina">​</a></h5><p>I started out as a SQL Server person, so yeah, Paul dragged me into Postgres. So my first introduction was via PostGIS in 2001, I think it was. So it was like 7.1 or 7.3, I can&#x27;t remember somewhere between 7.1 and 7.3.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000139---paul"><em>[00:01:39]<!-- --> - Paul</em><a href="#000139---paul" class="hash-link" aria-label="Direct link to 000139---paul" title="Direct link to 000139---paul">​</a></h5><p>It was 7.1 because that was the first version of Postgres that you could actually do a geospatial extension. Oh, nice.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000145---ry"><em>[00:01:45]<!-- --> - Ry</em><a href="#000145---ry" class="hash-link" aria-label="Direct link to 000145---ry" title="Direct link to 000145---ry">​</a></h5><p>And do you regret leaving SQL Server?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000149---regina"><em>[00:01:49]<!-- --> - Regina</em><a href="#000149---regina" class="hash-link" aria-label="Direct link to 000149---regina" title="Direct link to 000149---regina">​</a></h5><p>Well, I still consult for SQL Server, and what&#x27;s interesting about that is I think I&#x27;ve gotten to be a better SQL Server expert knowing Postgres because Postgres would always introduce things first, like all the lead functions, all the window functions, Postgres introduced those before SQL Server had them and the CTEs and everything.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000218---ry"><em>[00:02:18]<!-- --> - Ry</em><a href="#000218---ry" class="hash-link" aria-label="Direct link to 000218---ry" title="Direct link to 000218---ry">​</a></h5><p>Yeah, got it. What&#x27;s the state of geospatial in Microsoft SQL Server, would you say compared to Postgres? I don&#x27;t know too much about that ecosystem, but I&#x27;m curious, how much parity have they achieved?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000232---regina"><em>[00:02:32]<!-- --> - Regina</em><a href="#000232---regina" class="hash-link" aria-label="Direct link to 000232---regina" title="Direct link to 000232---regina">​</a></h5><p>Well, I think their geography is still better than ours, but in terms of the geometry support, they&#x27;re way behind, which is what most of the state people care about.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000242---ry"><em>[00:02:42]<!-- --> - Ry</em><a href="#000242---ry" class="hash-link" aria-label="Direct link to 000242---ry" title="Direct link to 000242---ry">​</a></h5><p>Awesome. Cool. All right, well, I&#x27;m going to kind of go off my standard script because how long have you guys been working on PostGIS for? This is one of the oldest extensions, or is it the oldest extension?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000259---paul"><em>[00:02:59]<!-- --> - Paul</em><a href="#000259---paul" class="hash-link" aria-label="Direct link to 000259---paul" title="Direct link to 000259---paul">​</a></h5><p>Yeah, well, I mean, so when we started extension, this didn&#x27;t exist. It&#x27;s a pre extension as a package concept. It&#x27;s just like the idea of runtime, adding things at runtime to the database which was there from the very beginning. That was a stonebreaker original. Like, this is one of the things Postgres can do. PostGIS is from 2001, as Regina mentioned, she started using it within three months of the initial release. So, yeah, may of 2001. So yeah, we&#x27;re at 22 years.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000328---ry"><em>[00:03:28]<!-- --> - Ry</em><a href="#000328---ry" class="hash-link" aria-label="Direct link to 000328---ry" title="Direct link to 000328---ry">​</a></h5><p>So how has it, has it changed much? Would you say since? Has it been pretty steady progress towards what it is now? Or were there any big milestones, big changes that you can remember that are super noteworthy?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000342---paul"><em>[00:03:42]<!-- --> - Paul</em><a href="#000342---paul" class="hash-link" aria-label="Direct link to 000342---paul" title="Direct link to 000342---paul">​</a></h5><p>It has not been like one linear rise. It&#x27;s definitely been punctuated equilibrium. And as these things go, the most new features and new capabilities happen right at the start, because we started with nothing, right? We started with first release. It had geospatial types, it had a geospatial index. It had eight functions, I think only one of which was analytical in any way. But that was like release 0.1 in 2001. I think we got to 0.8 in two years, like 2003. And that had the first full set of spatial functions where you could really test all the relationships between the geometries. You could do constructive geometry operations like buffering intersections and unions and so on in the geometries, that was the really big like, you could have stopped there in many respects. If you look at what SQL Server has, that&#x27;s kind of what they did until 2008. They had no spatial at all. And then they came out with their spatial extension, which was basically what they have now because it was a capable, complete vector spatial database, full stop. But since then, we&#x27;ve kept adding stuff. Maybe Regina will take another tour of what she thinks the biggest things to happen since 0.8 were yeah, so I.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000508---regina"><em>[00:05:08]<!-- --> - Regina</em><a href="#000508---regina" class="hash-link" aria-label="Direct link to 000508---regina" title="Direct link to 000508---regina">​</a></h5><p>Think PostGIS just improved as Postgres improved. So they introduced Gist and all our indexes changed from the old R-tree to the Gist index. They improved aggregation in Postgres, which I think was a huge milestone for us because a lot of the processing we do involves aggregating geometries together. So we would see something like from a tenfold speed improvement in terms of aggregation of geometries. And then the other things. I think CTEs were pretty useful. Now, nobody does any queries in Spatial without using a CTE anymore.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000601---ry"><em>[00:06:01]<!-- --> - Ry</em><a href="#000601---ry" class="hash-link" aria-label="Direct link to 000601---ry" title="Direct link to 000601---ry">​</a></h5><p>Would you say, like those advances in Postgres? I don&#x27;t know. Let&#x27;s say that they did 80% of the work towards the thing working ten times faster, and you guys had to do 20%. Or what was the ratio of effort from where were you getting great improvements virtually for free without any effort on your side?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000621---regina"><em>[00:06:21]<!-- --> - Regina</em><a href="#000621---regina" class="hash-link" aria-label="Direct link to 000621---regina" title="Direct link to 000621---regina">​</a></h5><p>Yeah, I think we were getting great improvements for free, pretty much.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000625---ry"><em>[00:06:25]<!-- --> - Ry</em><a href="#000625---ry" class="hash-link" aria-label="Direct link to 000625---ry" title="Direct link to 000625---ry">​</a></h5><p>Oh, that&#x27;s great.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000625---regina"><em>[00:06:25]<!-- --> - Regina</em><a href="#000625---regina" class="hash-link" aria-label="Direct link to 000625---regina" title="Direct link to 000625---regina">​</a></h5><p>And then there&#x27;s the whole KNN thing, which they drastically improved from 9.2 to yeah, I was making fun of Bruce, and then Bruce said, I can&#x27;t believe you&#x27;d have to do that. We need to fix it. And so after 9.2, the KNN became real KNN instead of just box KNN. But yeah, in all those cases, there wasn&#x27;t that much we needed to do to get the improvement.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000649---paul"><em>[00:06:49]<!-- --> - Paul</em><a href="#000649---paul" class="hash-link" aria-label="Direct link to 000649---paul" title="Direct link to 000649---paul">​</a></h5><p>Parallelism.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000650---regina"><em>[00:06:50]<!-- --> - Regina</em><a href="#000650---regina" class="hash-link" aria-label="Direct link to 000650---regina" title="Direct link to 000650---regina">​</a></h5><p>Oh, yeah, parallelism.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000651---paul"><em>[00:06:51]<!-- --> - Paul</em><a href="#000651---paul" class="hash-link" aria-label="Direct link to 000651---paul" title="Direct link to 000651---paul">​</a></h5><p>Another one of which is like a huge freebie. Like, look at that. We do parallel processing.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000657---regina"><em>[00:06:57]<!-- --> - Regina</em><a href="#000657---regina" class="hash-link" aria-label="Direct link to 000657---regina" title="Direct link to 000657---regina">​</a></h5><p>Yeah, the only thing we needed to do is tell people how to configure their Postgres comps to take advantage of parallelism.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000705---ry"><em>[00:07:05]<!-- --> - Ry</em><a href="#000705---ry" class="hash-link" aria-label="Direct link to 000705---ry" title="Direct link to 000705---ry">​</a></h5><p>Curious, what kind of challenges did you guys face? I&#x27;d say early on building this.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000714---paul"><em>[00:07:14]<!-- --> - Paul</em><a href="#000714---paul" class="hash-link" aria-label="Direct link to 000714---paul" title="Direct link to 000714---paul">​</a></h5><p>The biggest thing? Well, I don&#x27;t know. There are a lot of things. As a geospatial extension, our code isn&#x27;t packed like into one hunk of code that we control. We use a lot of library dependencies. And so we end up having, and we still do having a really complex build almost right out of the gate compared to other extensions, because other extensions like, hey, we&#x27;re a self contained thing. You just type, make and you&#x27;re done. Whereas with us it was always like, hey, guess what? You get to track down three or four different other libraries in addition to the thing that we have and make sure they&#x27;re the right versions, and here&#x27;s the configuration, so on. So we end up with this really naughty configuration setup. And initially, like, if you&#x27;re going to start using this stuff back in the day, step one was always to build it. They weren&#x27;t prepackaged. Postgres itself wasn&#x27;t prepackaged, everything was from source, so it put this fairly steep entryway in for new users.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000814---regina"><em>[00:08:14]<!-- --> - Regina</em><a href="#000814---regina" class="hash-link" aria-label="Direct link to 000814---regina" title="Direct link to 000814---regina">​</a></h5><p>Yeah, although early on, we didn&#x27;t have any other dependencies except Postgres, so it was much easier.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000819---paul"><em>[00:08:19]<!-- --> - Paul</em><a href="#000819---paul" class="hash-link" aria-label="Direct link to 000819---paul" title="Direct link to 000819---paul">​</a></h5><p>Well GEOS after two years and then, well, proge at the same time. I mean, we had GEOS and proj almost from the start, and then started picking up format libraries after that.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000828---regina"><em>[00:08:28]<!-- --> - Regina</em><a href="#000828---regina" class="hash-link" aria-label="Direct link to 000828---regina" title="Direct link to 000828---regina">​</a></h5><p>Do we have proj?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000829---paul"><em>[00:08:29]<!-- --> - Paul</em><a href="#000829---paul" class="hash-link" aria-label="Direct link to 000829---paul" title="Direct link to 000829---paul">​</a></h5><p>Yeah, I don&#x27;t remember projection because proj already existed, so tying it in was a pretty straightforward thing to do.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000835---regina"><em>[00:08:35]<!-- --> - Regina</em><a href="#000835---regina" class="hash-link" aria-label="Direct link to 000835---regina" title="Direct link to 000835---regina">​</a></h5><p>Okay, I don&#x27;t remember that. Or maybe it was an optional dependency, so I just never built with it.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000843---paul"><em>[00:08:43]<!-- --> - Paul</em><a href="#000843---paul" class="hash-link" aria-label="Direct link to 000843---paul" title="Direct link to 000843---paul">​</a></h5><p>Everything was optional.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000844---ry"><em>[00:08:44]<!-- --> - Ry</em><a href="#000844---ry" class="hash-link" aria-label="Direct link to 000844---ry" title="Direct link to 000844---ry">​</a></h5><p>Tell me what GEOS is. I&#x27;ve seen that mentioned, but I didn&#x27;t dive in. Is that powering other geospatial solutions besides PostGIS?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000855---paul"><em>[00:08:55]<!-- --> - Paul</em><a href="#000855---paul" class="hash-link" aria-label="Direct link to 000855---paul" title="Direct link to 000855---paul">​</a></h5><p>Yeah, it is. GEOS is an acronym of course, stands for Geometry Engine open source. It provides the computational geometry underpinnings for a bunch of sort of the key functions. I mentioned a buffer, that&#x27;s a GEOs function at the back end. Intersection is a GEOS function at the back end. The Boolean predicates intersects contains within those are all GEOS functions at the back end. Some of the fancier stuff that we&#x27;ve added to GEOS is now exposed in PostGIS. So if you ask for Delaunay triangles or <!-- -->[...]<!-- --> polygons, you get those from GEOS and then GEOS, because it&#x27;s like this useful Swiss Army knife of computational geometry is used by other programs in the geospatial ecosystem. So if you use the Google library, it backs out of GEOS for its geospatial operations. And like most prominently, if you use the QGIS desktop GIS, you&#x27;ll find that the Q just backstops its geospatial algorithms.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000954---ry"><em>[00:09:54]<!-- --> - Ry</em><a href="#000954---ry" class="hash-link" aria-label="Direct link to 000954---ry" title="Direct link to 000954---ry">​</a></h5><p>So did you guys refactor code into that, or did you just end up replacing some stuff you had built early on with that library later on?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001001---regina"><em>[00:10:01]<!-- --> - Regina</em><a href="#001001---regina" class="hash-link" aria-label="Direct link to 001001---regina" title="Direct link to 001001---regina">​</a></h5><p>Well, Paul started GEOS too.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001004---ry"><em>[00:10:04]<!-- --> - Ry</em><a href="#001004---ry" class="hash-link" aria-label="Direct link to 001004---ry" title="Direct link to 001004---ry">​</a></h5><p>Okay. All, it&#x27;s okay. So it sounds like refactored into that.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001009---regina"><em>[00:10:09]<!-- --> - Regina</em><a href="#001009---regina" class="hash-link" aria-label="Direct link to 001009---regina" title="Direct link to 001009---regina">​</a></h5><p>Well, not so much refactor. I think it was always kind of a separate thing. Right. It was always intended to do more.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001015---paul"><em>[00:10:15]<!-- --> - Paul</em><a href="#001015---paul" class="hash-link" aria-label="Direct link to 001015---paul" title="Direct link to 001015---paul">​</a></h5><p>And as an external library, there&#x27;s actually a slight penalty to using it because you got to take your data out of the Postgres memory space and copy it over into the JS memory space to work with it. And that&#x27;s just expensive enough that for simple things, we still actually kept the original native post, just side implementations for things like area or length or the most complex one that we kept is distance. Yeah.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001045---ry"><em>[00:10:45]<!-- --> - Ry</em><a href="#001045---ry" class="hash-link" aria-label="Direct link to 001045---ry" title="Direct link to 001045---ry">​</a></h5><p>Are there any milestones going in the future for PostGIS that you&#x27;re looking forward to or is it just kind of stability and continuous improvement?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001056---paul"><em>[00:10:56]<!-- --> - Paul</em><a href="#001056---paul" class="hash-link" aria-label="Direct link to 001056---paul" title="Direct link to 001056---paul">​</a></h5><p>You go, Regina.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001058---regina"><em>[00:10:58]<!-- --> - Regina</em><a href="#001058---regina" class="hash-link" aria-label="Direct link to 001058---regina" title="Direct link to 001058---regina">​</a></h5><p>Oh, no, you&#x27;re not going to ask me that. I think speed is always good, and my concern, I think, is mostly improving Raster. And I&#x27;m looking forward to Toast&#x27;s API changes that are coming along and how we could leverage those.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001116---paul"><em>[00:11:16]<!-- --> - Paul</em><a href="#001116---paul" class="hash-link" aria-label="Direct link to 001116---paul" title="Direct link to 001116---paul">​</a></h5><p>That&#x27;s funny you bring up raster. Maybe we should talk about this in the part we have a little get together, because it&#x27;s one of the things which in front of me lately is like the underlying infrastructure we have for handling rasters was built well, no, 2010, anyways. It was built, like, in an era when the idea of, say, doing cloud based raster processing was kind of not what would be done. It was built around the idea that you would store your own rasters kind of locally in your local area network, that increasingly organizations just don&#x27;t do that. They still want to have raster access. And while you can do remote raster access with what we have, it&#x27;s kind of clunky. It&#x27;s not optimized for that at all. I feel like just like a relook at what the raster use cases are and kind of a reevaluation of whether how we handle rasters is right is due. I was looking at the API that Alibaba offers on their cloud databases and thinking, yeah, that&#x27;s kind of an interesting way of tackling rasters.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001217---ry"><em>[00:12:17]<!-- --> - Ry</em><a href="#001217---ry" class="hash-link" aria-label="Direct link to 001217---ry" title="Direct link to 001217---ry">​</a></h5><p>Yeah, you&#x27;re talking about like Alibaba is like a they have a proprietary database or not, their Postgres.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001225---paul"><em>[00:12:25]<!-- --> - Paul</em><a href="#001225---paul" class="hash-link" aria-label="Direct link to 001225---paul" title="Direct link to 001225---paul">​</a></h5><p>They don&#x27;t say. They&#x27;re really cagey about it. So I&#x27;m not sure whether it&#x27;s back then Postgres or not, but their take on rasters is very much all their own. I haven&#x27;t seen anyone else go at it that way.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001235---regina"><em>[00:12:35]<!-- --> - Regina</em><a href="#001235---regina" class="hash-link" aria-label="Direct link to 001235---regina" title="Direct link to 001235---regina">​</a></h5><p>Oh, I haven&#x27;t seen that. I should check that out. But yeah, that&#x27;s one of the complaints that people have, at least the clients I have, that the outdb is much slower and yeah, that could be improved.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001248---paul"><em>[00:12:48]<!-- --> - Paul</em><a href="#001248---paul" class="hash-link" aria-label="Direct link to 001248---paul" title="Direct link to 001248---paul">​</a></h5><p>Yeah, great.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001251---ry"><em>[00:12:51]<!-- --> - Ry</em><a href="#001251---ry" class="hash-link" aria-label="Direct link to 001251---ry" title="Direct link to 001251---ry">​</a></h5><p>I&#x27;m curious if you&#x27;re paying attention. I don&#x27;t know the difference. I&#x27;ve not studied how PostGIS works or raster, and it is but I&#x27;m curious, is the vector search stuff happening that&#x27;s happening in the ML space? How closely related is the math of that to the math of I&#x27;m sure you&#x27;ve kind of paid a little bit of attention to that space. Is it wildly different or is it kind of remarkably similar or neither of those?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001323---paul"><em>[00:13:23]<!-- --> - Paul</em><a href="#001323---paul" class="hash-link" aria-label="Direct link to 001323---paul" title="Direct link to 001323---paul">​</a></h5><p>Yeah, well, I mean, insofar as a 2D vector is the same as a <!-- -->[...]<!-- --> vector. At a conceptual level, they&#x27;re the same. But from a practicality point of view, the practicalities of handling super high dimensional stuff are just different. Like one of the first things you learn, even like we go to four dimensions, even at four dimensions, the indexing properties start to break down if the kind of sort of standard R-tree stuff just doesn&#x27;t work as nicely. You don&#x27;t have to get very high up into a complex dimensional space for that form of indexing to be like, it doesn&#x27;t work, it&#x27;s not doing what we need to do. And you can really see that in just how different the indexing approaches are for ML vectors compared to sort of 2D vectors.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001410---ry"><em>[00:14:10]<!-- --> - Ry</em><a href="#001410---ry" class="hash-link" aria-label="Direct link to 001410---ry" title="Direct link to 001410---ry">​</a></h5><p>So, like, high dimensionality just requires an entirely different mindset and solution set. So I&#x27;m hearing you say.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001417---paul"><em>[00:14:17]<!-- --> - Paul</em><a href="#001417---paul" class="hash-link" aria-label="Direct link to 001417---paul" title="Direct link to 001417---paul">​</a></h5><p>Yes, totally.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001418---ry"><em>[00:14:18]<!-- --> - Ry</em><a href="#001418---ry" class="hash-link" aria-label="Direct link to 001418---ry" title="Direct link to 001418---ry">​</a></h5><p>Just curious if it somehow scales into that or not. That&#x27;s cool. Yeah. Well, tell me, I guess, real quick, I&#x27;d love to learn a little bit more about the commercial products, I guess. How does this manifest? How does PostGIS manifest commercially for both you and Regina?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001441---regina"><em>[00:14:41]<!-- --> - Regina</em><a href="#001441---regina" class="hash-link" aria-label="Direct link to 001441---regina" title="Direct link to 001441---regina">​</a></h5><p>For my side, it&#x27;s mostly consulting. Yeah, I don&#x27;t have any commercial things around.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001452---paul"><em>[00:14:52]<!-- --> - Paul</em><a href="#001452---paul" class="hash-link" aria-label="Direct link to 001452---paul" title="Direct link to 001452---paul">​</a></h5><p>I make sideline in talking about and studying the economics of open source. One of the things that&#x27;s kind of obvious once you start looking at this stuff is that there&#x27;s like a project size threshold before you start to see enough money around a project to support full time maintainership or people whose jobs are mostly around the project. And PostGIS is interesting in being like one of the few Postgres extensions which has received achieved that level. But even at that level, it&#x27;s quite small. So you got Regina, who has a good consulting business. I work for Crunchy Data, which is a professional open source support company, which is to say they sell support contracts to Fortune 100 companies and US Federal government and increasingly a number of international organizations, but of similar size and scale, big organizations. And then also has a software as a service called Crunchy Bridge, which is basically database in the cloud of the sort that everyone&#x27;s gotten used to. So, I mean, in that respect, I&#x27;m kind of like Regina. I work for Crunchy because they value my expertise as a PostGIS committer and my ability to help their customers who deploy PostGIS.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001620---paul"><em>[00:16:20]<!-- --> - Paul</em><a href="#001620---paul" class="hash-link" aria-label="Direct link to 001620---paul" title="Direct link to 001620---paul">​</a></h5><p>So it&#x27;s still very much like skills for hire. No one has wrapped it up, has wrapped PostGIS itself in particular up as a specific product.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001628---regina"><em>[00:16:28]<!-- --> - Regina</em><a href="#001628---regina" class="hash-link" aria-label="Direct link to 001628---regina" title="Direct link to 001628---regina">​</a></h5><p>Yeah, I mean, others have, it&#x27;s just.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001630---paul"><em>[00:16:30]<!-- --> - Paul</em><a href="#001630---paul" class="hash-link" aria-label="Direct link to 001630---paul" title="Direct link to 001630---paul">​</a></h5><p>We haven&#x27;t and then yeah, other members of the development team are also still sort of on the consulting bandwagon and that&#x27;s how it bundled.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001641---ry"><em>[00:16:41]<!-- --> - Ry</em><a href="#001641---ry" class="hash-link" aria-label="Direct link to 001641---ry" title="Direct link to 001641---ry">​</a></h5><p>I&#x27;m not familiar with anyone who&#x27;s bundled it up as a product per se, who&#x27;s done that?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001647---regina"><em>[00:16:47]<!-- --> - Regina</em><a href="#001647---regina" class="hash-link" aria-label="Direct link to 001647---regina" title="Direct link to 001647---regina">​</a></h5><p>I mean, it&#x27;s not so much a product, but like all the cloud providers so Amazon has it, Microsoft has an installable extension. Yeah. As an installable.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001659---paul"><em>[00:16:59]<!-- --> - Paul</em><a href="#001659---paul" class="hash-link" aria-label="Direct link to 001659---paul" title="Direct link to 001659---paul">​</a></h5><p>From the point of view of ubiquity and market spread.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001703---regina"><em>[00:17:03]<!-- --> - Regina</em><a href="#001703---regina" class="hash-link" aria-label="Direct link to 001703---regina" title="Direct link to 001703---regina">​</a></h5><p>Yeah. CartoDB used to be the closest though. But do they still use Postgres or did they switch to something else?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001709---paul"><em>[00:17:09]<!-- --> - Paul</em><a href="#001709---paul" class="hash-link" aria-label="Direct link to 001709---paul" title="Direct link to 001709---paul">​</a></h5><p>Which DB?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001710---regina"><em>[00:17:10]<!-- --> - Regina</em><a href="#001710---regina" class="hash-link" aria-label="Direct link to 001710---regina" title="Direct link to 001710---regina">​</a></h5><p>CartoDB. Carto.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001712---paul"><em>[00:17:12]<!-- --> - Paul</em><a href="#001712---paul" class="hash-link" aria-label="Direct link to 001712---paul" title="Direct link to 001712---paul">​</a></h5><p>They still use Postgres. Yeah. They haven&#x27;t moved up. That would be a good sort of like example of a productization of PostGIS. Certainly in their earliest incarnation they had a software as a service which did a very good job of allowing you to put data in, visualize it in a whole bunch of ways. And that exposed like SQL as the language for customization of what you were seeing. And it was all sitting on top of PostGIS, but it was marketed as CartoDB. So they had productized around a software service that more or less made the database not invisible, but the actual brand of the database was irrelevant.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001751---ry"><em>[00:17:51]<!-- --> - Ry</em><a href="#001751---ry" class="hash-link" aria-label="Direct link to 001751---ry" title="Direct link to 001751---ry">​</a></h5><p>Do you see real old versions of PostGIS surface? Like, I&#x27;m sure you probably don&#x27;t see 0.8 anymore, but no. How good are people at staying up on the latest, would you say? I have not as good as you.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001808---regina"><em>[00:18:08]<!-- --> - Regina</em><a href="#001808---regina" class="hash-link" aria-label="Direct link to 001808---regina" title="Direct link to 001808---regina">​</a></h5><p>Haven&#x27;t seen any 1.5 recently. I think there might have been one.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001816---paul"><em>[00:18:16]<!-- --> - Paul</em><a href="#001816---paul" class="hash-link" aria-label="Direct link to 001816---paul" title="Direct link to 001816---paul">​</a></h5><p>Your standards are different from mine, Regina, because I,...I&#x27;d freak out if someone brought me a 1.5. I&#x27;m shocked at how many version two is just still in the wild. Let me account back that first digit is worth about a year. So we&#x27;re at 3.4 now. So 3.0, so that&#x27;s five years. So yeah. So some shows up with a two point something. It&#x27;s a five year old installation.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001835---regina"><em>[00:18:35]<!-- --> - Regina</em><a href="#001835---regina" class="hash-link" aria-label="Direct link to 001835---regina" title="Direct link to 001835---regina">​</a></h5><p>Yeah.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001835---ry"><em>[00:18:35]<!-- --> - Ry</em><a href="#001835---ry" class="hash-link" aria-label="Direct link to 001835---ry" title="Direct link to 001835---ry">​</a></h5><p>And they&#x27;re probably five versions of Postgres old too, right?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001839---paul"><em>[00:18:39]<!-- --> - Paul</em><a href="#001839---paul" class="hash-link" aria-label="Direct link to 001839---paul" title="Direct link to 001839---paul">​</a></h5><p>Yeah, exactly.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001841---ry"><em>[00:18:41]<!-- --> - Ry</em><a href="#001841---ry" class="hash-link" aria-label="Direct link to 001841---ry" title="Direct link to 001841---ry">​</a></h5><p>What&#x27;s the biggest jump you&#x27;ll do? Will you take someone from eleven to 15 or Postgres? That is the equivalent?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001848---regina"><em>[00:18:48]<!-- --> - Regina</em><a href="#001848---regina" class="hash-link" aria-label="Direct link to 001848---regina" title="Direct link to 001848---regina">​</a></h5><p>Yeah, because the latest wouldn&#x27;t even run on that. Well, in theory, anybody from PostGIS 2...</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001900---regina"><em>[00:19:00]<!-- --> - Regina</em><a href="#001900---regina" class="hash-link" aria-label="Direct link to 001900---regina" title="Direct link to 001900---regina">​</a></h5><p>should be able to go straight to 3.4 without any issue as long as they upgrade their Postgres too. What happens to their development, their applications? Breaking that&#x27;s on them.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001915---ry"><em>[00:19:15]<!-- --> - Ry</em><a href="#001915---ry" class="hash-link" aria-label="Direct link to 001915---ry" title="Direct link to 001915---ry">​</a></h5><p>Well, it must be nice to be relying on Postgres. I think you can criticize, if you would like, various aspects of how Postgres is built, but I think that it&#x27;s really great how stable, I want to say slow that the progress is made because it gives you a very stable and reliable chassis to build this on top of. I&#x27;m sure you guys agree with that.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001944---regina"><em>[00:19:44]<!-- --> - Regina</em><a href="#001944---regina" class="hash-link" aria-label="Direct link to 001944---regina" title="Direct link to 001944---regina">​</a></h5><p>Yeah, I think in terms of slowness, they&#x27;re actually much faster than other relational databases.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001949---paul"><em>[00:19:49]<!-- --> - Paul</em><a href="#001949---paul" class="hash-link" aria-label="Direct link to 001949---paul" title="Direct link to 001949---paul">​</a></h5><p>Much, much faster in terms of how fast things change. Yeah, I guess there&#x27;s always that push particularly thing. New SQL dialect stuff has come in pretty quick.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001958---regina"><em>[00:19:58]<!-- --> - Regina</em><a href="#001958---regina" class="hash-link" aria-label="Direct link to 001958---regina" title="Direct link to 001958---regina">​</a></h5><p>Yeah, because I remember when I be talking to my SQL Server friends and they&#x27;re still waiting for the lead function. That happened like five years ago back in the day. But yeah, I think it moves in terms of the SQL standard a lot faster than the others. I think even faster than Oracle, though I don&#x27;t have too many Oracle friends to talk about.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002020---paul"><em>[00:20:20]<!-- --> - Paul</em><a href="#002020---paul" class="hash-link" aria-label="Direct link to 002020---paul" title="Direct link to 002020---paul">​</a></h5><p>Yeah. I&#x27;m frequently, frequently surprised by how much internal churn there is because I always feel like, oh, we&#x27;re the supermature extension. We don&#x27;t reach like super deep into the extension, like into the into the core. We&#x27;re not hooking into like executor hooks or planner hooks or stuff like that. And yet there&#x27;s always this there&#x27;s always this medium to long list of things that have to be tweaked when you move up to a new, like in terms of our code or for it to build and still run correctly, that have to be tweaked at each major Postgres release.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002057---regina"><em>[00:20:57]<!-- --> - Regina</em><a href="#002057---regina" class="hash-link" aria-label="Direct link to 002057---regina" title="Direct link to 002057---regina">​</a></h5><p>Yeah, because I can&#x27;t think of any release we&#x27;ve done that we didn&#x27;t have to tweak it for the in development major release of Postgres. So they changed it enough that it always affects yeah.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002110---paul"><em>[00:21:10]<!-- --> - Paul</em><a href="#002110---paul" class="hash-link" aria-label="Direct link to 002110---paul" title="Direct link to 002110---paul">​</a></h5><p>Yeah.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002110---ry"><em>[00:21:10]<!-- --> - Ry</em><a href="#002110---ry" class="hash-link" aria-label="Direct link to 002110---ry" title="Direct link to 002110---ry">​</a></h5><p>So even if the outer shell seems pretty stable, the insides are changing and you guys have some stuff poking down at least to the middle, if not the bottom. That&#x27;s great. Yeah, like I said, I think it&#x27;s to me a really perfect pace because we do get that kind of like annual innovation and if there&#x27;s something that&#x27;s really important, it&#x27;ll get taken care of, I think. I&#x27;m curious, are there things happening in Postgres core that you guys are excited about? Maybe for we could talk about 17 or whatever, 18 future? Is there anything in particular that you guys are excited to see?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002153---regina"><em>[00:21:53]<!-- --> - Regina</em><a href="#002153---regina" class="hash-link" aria-label="Direct link to 002153---regina" title="Direct link to 002153---regina">​</a></h5><p>Well, there&#x27;s bi directional seems to be making its way. I don&#x27;t know if it&#x27;s going to make it into 17, but it looks like they&#x27;re putting in the hooks for it anyway, so that&#x27;s kind of exciting.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002205---paul"><em>[00:22:05]<!-- --> - Paul</em><a href="#002205---paul" class="hash-link" aria-label="Direct link to 002205---paul" title="Direct link to 002205---paul">​</a></h5><p>Yeah, for me, that&#x27;s what&#x27;s exciting. I&#x27;ve been watching the decade long crawl towards being able to do a replicated OLAP system where you get full push down to all the nodes. So every release, the Postgres FTW folks from Toshiba and other places add a couple more turns of stuff that you can push down, which is exciting to me because we&#x27;re that much closer. We&#x27;re that much closer to be able to do big multi node queries because there&#x27;s OLAP workloads and LTP workloads for spatial databases. Really, the bias is towards OLAP for sure. In terms of what you see, how you see people using the database. I mean, they like transactionality, they like to be able to manipulate their data. But when it comes time to ask, what is this for? It&#x27;s like, oh yeah, we run big analyzes. So the ability to push stuff out to multi node as that gets more mature, as it gets more possible, like, that becomes something that&#x27;s really exciting on the spatial side. So I watch every little tick of the gears towards that endpoint and get very excited. So it&#x27;s been pushed down in the last couple of releases.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002322---paul"><em>[00:23:22]<!-- --> - Paul</em><a href="#002322---paul" class="hash-link" aria-label="Direct link to 002322---paul" title="Direct link to 002322---paul">​</a></h5><p>Last release had good stuff around parallelization in the planner and executor as well for partitions, which is like, that&#x27;s a big deal because the holy grail is you&#x27;ve got your big table partitioned out across the remote nodes. So each of your partition is actually a foreign table. And when you run the query, the planner says, oh, look, I can just ask all the partitions to run it simultaneously, it gets back the result, assembles it and says, Here you go, we&#x27;re getting close to that. Which would be a big deal because there&#x27;s a whole bunch of workloads that you can just turn into sort of like a standard OLAP star schema. One big fact table, a bunch of dimensions and you&#x27;d be able to do lots of really cool spatial stuff. That right now, not so much. I don&#x27;t know when we&#x27;ll ever get to the holy grail, which is to be able be able to do shipping data between nodes in order to allow nodes do things like join across these across two big fact tables. That might never happen. I don&#x27;t see anyone doing that. But that&#x27;s the one that would like having me tear my clothes off and dancing in the street.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002434---ry"><em>[00:24:34]<!-- --> - Ry</em><a href="#002434---ry" class="hash-link" aria-label="Direct link to 002434---ry" title="Direct link to 002434---ry">​</a></h5><p>Yeah. So that&#x27;s interesting. You&#x27;re talking about like I haven&#x27;t followed the development of Postgres FDW. I used it recently and it&#x27;s pretty powerful at low scale, but you&#x27;re talking about at high scale, at OLAP scale, just optimization across.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002453---regina"><em>[00:24:53]<!-- --> - Regina</em><a href="#002453---regina" class="hash-link" aria-label="Direct link to 002453---regina" title="Direct link to 002453---regina">​</a></h5><p>And Paul has this fantastic foreign data wrapper, a spatial foreign data wrapper, which can read how many formats? 800?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002503---paul"><em>[00:25:03]<!-- --> - Paul</em><a href="#002503---paul" class="hash-link" aria-label="Direct link to 002503---paul" title="Direct link to 002503---paul">​</a></h5><p>Yeah, no, there&#x27;s not that many formats in the world, but I don&#x27;t know several different yeah.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002508---ry"><em>[00:25:08]<!-- --> - Ry</em><a href="#002508---ry" class="hash-link" aria-label="Direct link to 002508---ry" title="Direct link to 002508---ry">​</a></h5><p>Formats of geospatial formats. Is that what you said? Or other types of formats.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002514---paul"><em>[00:25:14]<!-- --> - Paul</em><a href="#002514---paul" class="hash-link" aria-label="Direct link to 002514---paul" title="Direct link to 002514---paul">​</a></h5><p>Geospatial formats. But to an extent, geospatial formats is a category which also includes non geospatial things because all you have to do is not have the geospatial column and then what do you call it? Oh, it&#x27;s just a format. So Excel can be a geospatial format. Got it. And it&#x27;s something that you can read. SQL Server.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002532---ry"><em>[00:25:32]<!-- --> - Ry</em><a href="#002532---ry" class="hash-link" aria-label="Direct link to 002532---ry" title="Direct link to 002532---ry">​</a></h5><p>What&#x27;s the name of that extension?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002534---paul"><em>[00:25:34]<!-- --> - Paul</em><a href="#002534---paul" class="hash-link" aria-label="Direct link to 002534---paul" title="Direct link to 002534---paul">​</a></h5><p>Or that extension is called OGR. Under more FDW.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002537---ry"><em>[00:25:37]<!-- --> - Ry</em><a href="#002537---ry" class="hash-link" aria-label="Direct link to 002537---ry" title="Direct link to 002537---ry">​</a></h5><p>OGR.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002538---paul"><em>[00:25:38]<!-- --> - Paul</em><a href="#002538---paul" class="hash-link" aria-label="Direct link to 002538---paul" title="Direct link to 002538---paul">​</a></h5><p>It stands for well, OGR is like it&#x27;s not even worth trying to unpack it. OGR is just the vector side of the GDL library, which also has an acronym which is not worth unpacking anymore because it&#x27;s a 20 year old acronym, but it refers to the library that it&#x27;s binding. This is the OG library for vector formats? Yeah.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002558---ry"><em>[00:25:58]<!-- --> - Ry</em><a href="#002558---ry" class="hash-link" aria-label="Direct link to 002558---ry" title="Direct link to 002558---ry">​</a></h5><p>Cool. Yeah, I&#x27;ll check that out. That&#x27;s cool. Kind of wrapping this up on the core. Like if you had a magic wand and you could add any feature to know. Of course, if that was added, then you immediately have work to do in PostGIS as well. But what would your magic wand manifest this weekend in Postgres if you could pick one thing?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002620---regina"><em>[00:26:20]<!-- --> - Regina</em><a href="#002620---regina" class="hash-link" aria-label="Direct link to 002620---regina" title="Direct link to 002620---regina">​</a></h5><p>Yeah, I can&#x27;t think of any.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002621---paul"><em>[00:26:21]<!-- --> - Paul</em><a href="#002621---paul" class="hash-link" aria-label="Direct link to 002621---paul" title="Direct link to 002621---paul">​</a></h5><p>I know what Regina&#x27;s is. Oh, come on. I&#x27;ll tell you what yours is then, Regina, if you&#x27;re not going to say.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002630---ry"><em>[00:26:30]<!-- --> - Ry</em><a href="#002630---ry" class="hash-link" aria-label="Direct link to 002630---ry" title="Direct link to 002630---ry">​</a></h5><p>You guys can answer for each other if you want.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002632---paul"><em>[00:26:32]<!-- --> - Paul</em><a href="#002632---paul" class="hash-link" aria-label="Direct link to 002632---paul" title="Direct link to 002632---paul">​</a></h5><p>It&#x27;s handling extensions in a slightly different way or sorry, had an extension update in a slightly different way. So extension versioning.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002640---regina"><em>[00:26:40]<!-- --> - Regina</em><a href="#002640---regina" class="hash-link" aria-label="Direct link to 002640---regina" title="Direct link to 002640---regina">​</a></h5><p>Oh, yeah. How did you read my mind? I completely forgot about it because I gave up hope on it.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002647---ry"><em>[00:26:47]<!-- --> - Ry</em><a href="#002647---ry" class="hash-link" aria-label="Direct link to 002647---ry" title="Direct link to 002647---ry">​</a></h5><p>Yeah, tell me about that.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002648---regina"><em>[00:26:48]<!-- --> - Regina</em><a href="#002648---regina" class="hash-link" aria-label="Direct link to 002648---regina" title="Direct link to 002648---regina">​</a></h5><p>So Sandro, who&#x27;s also on the PostGIS team, he&#x27;s been working on an update to the extension machinery that would allow us to reduce our upgrade script to one file because right now we ship like 500 files, which are all pretty much just SIM links to the same thing. And so it&#x27;s just a way to have the extension machinery understand that, hey, this script can be used to upgrade this version, this version, this version and this version, instead of having to itemize every single version upgrade.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002730---paul"><em>[00:27:30]<!-- --> - Paul</em><a href="#002730---paul" class="hash-link" aria-label="Direct link to 002730---paul" title="Direct link to 002730---paul">​</a></h5><p>Yeah, the extension upgrade machinery is very clever, but it starts with an immediate assumption, which is that as a developer, you will manage your extension upgrades as incrementals between versions and that it will cleverly find the path through the incrementals from the version you have to the version you&#x27;re going to, applying all the little slices on the way.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002755---regina"><em>[00:27:55]<!-- --> - Regina</em><a href="#002755---regina" class="hash-link" aria-label="Direct link to 002755---regina" title="Direct link to 002755---regina">​</a></h5><p>And it uses Dijkstra for that.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002758---paul"><em>[00:27:58]<!-- --> - Paul</em><a href="#002758---paul" class="hash-link" aria-label="Direct link to 002758---paul" title="Direct link to 002758---paul">​</a></h5><p>Yeah, it&#x27;s super clever. Even like in the best case scenario where you&#x27;d already been doing that, it&#x27;s probably not super ideal for any project where the development path isn&#x27;t linear. So Post just has, I don&#x27;t know, 25 or so minor releases like X, Y, and then within those, there&#x27;s maybe five patch releases across each of those. So we&#x27;ll have a whole bunch of parallel version trees, right? You&#x27;re on 2.3.5, or you&#x27;re going to go to 2.3.6, but then you might want to go to 2.4.8. And that means you have to have all these individual even if you&#x27;re doing things like one tiny step of time, you would have all these individual little hops across the branches. If you have just this one line, it kind of worked. You just sort of chained together this one little line. You don&#x27;t have very many files when you have all these little branches, all of a sudden you need all these extra little hops across the branches. And it&#x27;s made worse because all of our management of the SQL side of it, the SQL side of the extension where you define the functions on SQL land and say, oh, it&#x27;s over here in the dynamic library.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002924---paul"><em>[00:29:24]<!-- --> - Paul</em><a href="#002924---paul" class="hash-link" aria-label="Direct link to 002924---paul" title="Direct link to 002924---paul">​</a></h5><p>We&#x27;ve been managing that since pre extension world. And our way of managing it was to have a SQL file which can always be cleanly applied against any previous version. So it&#x27;s quite long because the SQL file has every single definition of every single thing in it. So how you handle the incremental thing from 1.2 to 1.3? Well you have one copy for 1.31 copy for the upgrade as well. So every little upgrade has a full copy of that fairly large SQL file. On Unix systems now we just ship sip links instead of syncing the whole file. But you end up with just a huge pile.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003005---regina"><em>[00:30:05]<!-- --> - Regina</em><a href="#003005---regina" class="hash-link" aria-label="Direct link to 003005---regina" title="Direct link to 003005---regina">​</a></h5><p>Yeah, actually we changed from that to just a file that has nothing in it. Right. To just on any version which kind.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003013---paul"><em>[00:30:13]<!-- --> - Paul</em><a href="#003013---paul" class="hash-link" aria-label="Direct link to 003013---paul" title="Direct link to 003013---paul">​</a></h5><p>Of the chain eventually arrives at the full one.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003017---regina"><em>[00:30:17]<!-- --> - Regina</em><a href="#003017---regina" class="hash-link" aria-label="Direct link to 003017---regina" title="Direct link to 003017---regina">​</a></h5><p>So now that&#x27;s the same across. But I think ours is more complicated too because for each version we support multiple versions of Postgres and we also enable new features. If you&#x27;re on like twelve you get something, if you are eleven you don&#x27;t get that something.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003040---paul"><em>[00:30:40]<!-- --> - Paul</em><a href="#003040---paul" class="hash-link" aria-label="Direct link to 003040---paul" title="Direct link to 003040---paul">​</a></h5><p>Certainly something which is not contemplated by the original designers is our file. Our input file actually goes through, we put it through the C preprocessor before we give it to Postgres because we have a whole bunch of if defs against what Postgres version you&#x27;re on. Living inside the SQL file that have to be pre processed before it&#x27;s usable.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003102---ry"><em>[00:31:02]<!-- --> - Ry</em><a href="#003102---ry" class="hash-link" aria-label="Direct link to 003102---ry" title="Direct link to 003102---ry">​</a></h5><p>Yeah, I understand. Was maybe you&#x27;re saying like the current design is just naive thinking that you&#x27;re not going to try to support multiple versions of Postgres with one of your versions of the extension and there&#x27;s not home for that information, I guess for what the range is to some degree.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003122---paul"><em>[00:31:22]<!-- --> - Paul</em><a href="#003122---paul" class="hash-link" aria-label="Direct link to 003122---paul" title="Direct link to 003122---paul">​</a></h5><p>Yeah, I mean although the extension framework does contemplate the idea of versioned extensions, again, it doesn&#x27;t really contemplate them as anything except for a linear chain. And once you have a more complex situation than that it&#x27;s kind of hard. Like we for a very long time supported being able to run different versions of PostGIS inside the same Postgres cluster. We still do actually support that, but it&#x27;s a feature that it seems like mostly OA developers use. So it&#x27;s optional now and we default just to like one version of Postgres or PostGIS for each Postgres cluster. But that functionality was always there. But the extension facility did not grok that.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003205---regina"><em>[00:32:05]<!-- --> - Regina</em><a href="#003205---regina" class="hash-link" aria-label="Direct link to 003205---regina" title="Direct link to 003205---regina">​</a></h5><p>Yeah, and packagers did not grok that either. So they always, always ship one.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003210---ry"><em>[00:32:10]<!-- --> - Ry</em><a href="#003210---ry" class="hash-link" aria-label="Direct link to 003210---ry" title="Direct link to 003210---ry">​</a></h5><p>Great. I&#x27;m curious, try to wrap up here a little. I realize now I&#x27;ve been kept you here for quite some time, but do either of you listen to podcasts very much?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003220---paul"><em>[00:32:20]<!-- --> - Paul</em><a href="#003220---paul" class="hash-link" aria-label="Direct link to 003220---paul" title="Direct link to 003220---paul">​</a></h5><p>I do all the time. It&#x27;s my gym thing. I go down to the garage gym and that&#x27;s what keeps me from going crazy with me.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003228---ry"><em>[00:32:28]<!-- --> - Ry</em><a href="#003228---ry" class="hash-link" aria-label="Direct link to 003228---ry" title="Direct link to 003228---ry">​</a></h5><p>Your give me some of your favorite podcasts.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003231---paul"><em>[00:32:31]<!-- --> - Paul</em><a href="#003231---paul" class="hash-link" aria-label="Direct link to 003231---paul" title="Direct link to 003231---paul">​</a></h5><p>I tend to go on the current affairs side, so I listen to the Ezra Klein show from New York Times a lot and Odd Lots from Bloomberg, a little bit of financial news.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003240---regina"><em>[00:32:40]<!-- --> - Regina</em><a href="#003240---regina" class="hash-link" aria-label="Direct link to 003240---regina" title="Direct link to 003240---regina">​</a></h5><p>Yeah, you can tell he&#x27;s the son of a politician.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003242---paul"><em>[00:32:42]<!-- --> - Paul</em><a href="#003242---paul" class="hash-link" aria-label="Direct link to 003242---paul" title="Direct link to 003242---paul">​</a></h5><p>It&#x27;s interesting stuff.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003244---ry"><em>[00:32:44]<!-- --> - Ry</em><a href="#003244---ry" class="hash-link" aria-label="Direct link to 003244---ry" title="Direct link to 003244---ry">​</a></h5><p>Yeah. How about you, Regina?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003247---regina"><em>[00:32:47]<!-- --> - Regina</em><a href="#003247---regina" class="hash-link" aria-label="Direct link to 003247---regina" title="Direct link to 003247---regina">​</a></h5><p>No, I&#x27;m not a podcast person. I go swimming. But yeah, I can&#x27;t really hook up a podcast.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003255---ry"><em>[00:32:55]<!-- --> - Ry</em><a href="#003255---ry" class="hash-link" aria-label="Direct link to 003255---ry" title="Direct link to 003255---ry">​</a></h5><p>Yeah, underwater is probably possible, but not super comfortable. Right, great. All right, well, so where can listeners find you online? Maybe share your websites or Twitter? Mastodon handles.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003313---paul"><em>[00:33:13]<!-- --> - Paul</em><a href="#003313---paul" class="hash-link" aria-label="Direct link to 003313---paul" title="Direct link to 003313---paul">​</a></h5><p>On the site formerly known as Twitter. I&#x27;m PWRamsey. I&#x27;m also PWRamsay at Mastodon Social and on the blog world, I&#x27;m at cleverelephantCA.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003325---regina"><em>[00:33:25]<!-- --> - Regina</em><a href="#003325---regina" class="hash-link" aria-label="Direct link to 003325---regina" title="Direct link to 003325---regina">​</a></h5><p>Yeah, I have how many blogs do I have? I have BostonGIS.com Postgresonline.com. Twitter is just Reginaobe, I think that&#x27;s and my website, Paragoncorporation.com, I guess those are. Oh, and my book site PostGIS.us.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003347---paul"><em>[00:33:47]<!-- --> - Paul</em><a href="#003347---paul" class="hash-link" aria-label="Direct link to 003347---paul" title="Direct link to 003347---paul">​</a></h5><p>Yeah, the book site.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003349---ry"><em>[00:33:49]<!-- --> - Ry</em><a href="#003349---ry" class="hash-link" aria-label="Direct link to 003349---ry" title="Direct link to 003349---ry">​</a></h5><p>What&#x27;s that? I always say PostGIS, by the way. I got to learn it&#x27;s PostGIS. But do you have a book for around it, or have you written many books?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003357---regina"><em>[00:33:57]<!-- --> - Regina</em><a href="#003357---regina" class="hash-link" aria-label="Direct link to 003357---regina" title="Direct link to 003357---regina">​</a></h5><p>Oh, yeah. So I wrote &quot;PostGIS in Action.&quot; I&#x27;m working on &quot;PG Routing.&quot; I&#x27;m also supposedly working on a Postgres book, both of which I&#x27;m very behind on. And I did &quot;SQL in a Nutshell.&quot; And let&#x27;s see, what else. Is that it? Oh, and &quot;Postgres Up and Running.&quot; That&#x27;s a pretty popular book. Surprisingly popular.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003425---ry"><em>[00:34:25]<!-- --> - Ry</em><a href="#003425---ry" class="hash-link" aria-label="Direct link to 003425---ry" title="Direct link to 003425---ry">​</a></h5><p>Yeah, it&#x27;s sitting right there. I own that one.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003428---regina"><em>[00:34:28]<!-- --> - Regina</em><a href="#003428---regina" class="hash-link" aria-label="Direct link to 003428---regina" title="Direct link to 003428---regina">​</a></h5><p>Oh, really?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003429---ry"><em>[00:34:29]<!-- --> - Ry</em><a href="#003429---ry" class="hash-link" aria-label="Direct link to 003429---ry" title="Direct link to 003429---ry">​</a></h5><p>Thanks for writing it.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003429---regina"><em>[00:34:29]<!-- --> - Regina</em><a href="#003429---regina" class="hash-link" aria-label="Direct link to 003429---regina" title="Direct link to 003429---regina">​</a></h5><p>Oh, yeah.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003431---ry"><em>[00:34:31]<!-- --> - Ry</em><a href="#003431---ry" class="hash-link" aria-label="Direct link to 003431---ry" title="Direct link to 003431---ry">​</a></h5><p>Thank you both for joining. Appreciate you, all the work you&#x27;ve done for Postgres and PostGIS, and appreciate having you on the show.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003442---paul"><em>[00:34:42]<!-- --> - Paul</em><a href="#003442---paul" class="hash-link" aria-label="Direct link to 003442---paul" title="Direct link to 003442---paul">​</a></h5><p>Thanks for having us, Ron.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003444---regina"><em>[00:34:44]<!-- --> - Regina</em><a href="#003444---regina" class="hash-link" aria-label="Direct link to 003444---regina" title="Direct link to 003444---regina">​</a></h5><p>Thanks, Ryan.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003444---paul"><em>[00:34:44]<!-- --> - Paul</em><a href="#003444---paul" class="hash-link" aria-label="Direct link to 003444---paul" title="Direct link to 003444---paul">​</a></h5><p>Thanks. Bye.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/postgres">postgres</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/hacking-postgres">hacking_postgres</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://tembo.io/assets/images/k8s-operator-e0798d9d346084f00e21f39668252d9d.webp"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/tembo-operator">Tembo Operator: A Rust-based Kubernetes Operator for Postgres</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-25T00:00:00.000Z" itemprop="datePublished">October 25, 2023</time> · <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ianstanton" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ianstanton.png" alt="Ian Stanton"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ianstanton" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Ian Stanton</span></a></div><small class="avatar__subtitle" itemprop="description">Founding Engineer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>At Tembo, we’ve been developing an open-source Kubernetes Operator for Postgres. We use this operator to power our managed Postgres platform, <a href="https://cloud.tembo.io/" target="_blank" rel="noopener noreferrer">Tembo Cloud</a>. We’re excited to share our progress, experience, and vision for this project. This post aims to assist anyone interested in utilizing Kubernetes operators for Postgres or writing Kubernetes operators using Rust.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-a-kubernetes-operator">What is a Kubernetes Operator?<a href="#what-is-a-kubernetes-operator" class="hash-link" aria-label="Direct link to What is a Kubernetes Operator?" title="Direct link to What is a Kubernetes Operator?">​</a></h2><p>Kubernetes was designed with automation in mind, and operators allow for users to extend native Kubernetes behavior and principles to manage custom resources and components.</p><p>With a Kubernetes operator, users can write code that defines how their application should be deployed and managed on Kubernetes. This code is then packaged into a container image and deployed to Kubernetes. The operator then watches for changes to the custom resource and takes action to reconcile the state of the application’s components with the desired state of the custom resource.</p><p>In short, using a Kubernetes operator is the most effective way to run applications on Kubernetes in 2023.</p><p>You can read more about Kubernetes operators on this <a href="https://www.cncf.io/blog/2022/06/15/kubernetes-operators-what-are-they-some-examples/" target="_blank" rel="noopener noreferrer">CNCF blog post</a>, where the image below is.</p><p><img loading="lazy" alt="./k8s-operator.webp" src="/assets/images/k8s-operator-e0798d9d346084f00e21f39668252d9d.webp" width="1920" height="1080" class="img_ev3q"></p><p align="center">*Image credit: CNCF blog*</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes-operators-and-the-rise-of-rust">Kubernetes Operators and the Rise of Rust<a href="#kubernetes-operators-and-the-rise-of-rust" class="hash-link" aria-label="Direct link to Kubernetes Operators and the Rise of Rust" title="Direct link to Kubernetes Operators and the Rise of Rust">​</a></h2><p>Because Kubernetes itself is written in Go, the majority of Kubernetes operators available today are also written in Go. The <a href="https://book.kubebuilder.io/" target="_blank" rel="noopener noreferrer">kubebuilder</a> project simplifies the process of building Kubernetes operators in Go and is widely considered the de facto standard for doing so.</p><p>With the increasing popularity of Rust, it was only a matter of time before someone developed a framework for building Kubernetes operators in Rust. The <a href="https://github.com/kube-rs/kube" target="_blank" rel="noopener noreferrer">kube-rs</a> project allows developers to build Rust-based Kubernetes operators in a similar manner to the <code>kubebuilder</code> project. This project excited us for a few reasons:</p><ol><li>We were interested in learning Rust.</li><li>We wanted to explore whether Rust could be a viable alternative to Go for writing Kubernetes operators.</li><li>We were inspired by the success of companies like <a href="https://github.com/stackabletech" target="_blank" rel="noopener noreferrer">Stackable</a>, who have developed numerous Kubernetes operators in Rust.</li></ol><p>This excitement led us to the decision to write our Kubernetes operator in Rust.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="building-the-tembo-operator">Building the Tembo Operator<a href="#building-the-tembo-operator" class="hash-link" aria-label="Direct link to Building the Tembo Operator" title="Direct link to Building the Tembo Operator">​</a></h2><p>Tembo Cloud distinguishes itself from other managed Postgres offerings in several ways, one of which is the ability to install and enable Postgres extensions on the fly. This experience is in part powered by <a href="https://pgt.dev/" target="_blank" rel="noopener noreferrer">Trunk</a>, a Postgres extension registry and companion CLI that provide a simplified extension management experience.</p><p>It also introduces the concept of <a href="https://tembo.io/blog/tembo-stacks-intro" target="_blank" rel="noopener noreferrer">Stacks</a>, which are pre-built use-case-specific Postgres deployments which are optimized and tuned to serve a specific workload.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="roll-your-own">Roll Your Own<a href="#roll-your-own" class="hash-link" aria-label="Direct link to Roll Your Own" title="Direct link to Roll Your Own">​</a></h3><p>In order to build these unique capabilities, we knew we’d need to harness the power and flexibility of a Kubernetes operator in our own way. Although there are several Kubernetes operators for Postgres available, none of them offer the same unique Postgres extension management experience or the concept of Stacks.</p><p>Initially, we attempted to build our own operator from scratch. We had successfully built the extension management piece, but soon realized that we were duplicating existing efforts. We had a comprehensive list of baseline features to develop, which included:</p><ul><li>Backup</li><li>Recovery</li><li>Connection Pooling</li><li>Failover</li><li>Upgrades</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cnpg-to-the-rescue">CNPG to the Rescue<a href="#cnpg-to-the-rescue" class="hash-link" aria-label="Direct link to CNPG to the Rescue" title="Direct link to CNPG to the Rescue">​</a></h3><p>Enter <a href="https://cloudnative-pg.io/" target="_blank" rel="noopener noreferrer">CloudNativePG</a> (CNPG). CNPG is a Kubernetes operator for Postgres created by the folks at EDB. We found it to be the most compelling of the many Kubernetes operators for Postgres out there. It provided many of the features we needed, including backup, recovery, connection pooling, failover, and upgrades. However, we still needed the ability to install and enable any Postgres extensions on the fly and define Stacks.</p><p>This is where the Tembo Operator comes in. We built the Tembo Operator in a way that utilizes CNPG, which enables us to offer a distinctive management experience for Postgres extensions and Stacks while utilizing a reliable and stable Postgres solution.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-tembo-operator">Using the Tembo Operator<a href="#using-the-tembo-operator" class="hash-link" aria-label="Direct link to Using the Tembo Operator" title="Direct link to Using the Tembo Operator">​</a></h2><p>Let’s take a look at what a custom resource spec looks like for the Tembo Operator. Here’s an example for our Machine Learning Stack. We can see this sample spec makes use of our Machine Learning Stack and includes a handful of extensions. Keep in mind, these extensions are installed at runtime with Trunk and are not built into the container image.</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> coredb.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> CoreDB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sample</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">machine</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">learning</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;quay.io/tembo/ml-cnpg:15.3.0-1-a3e532d&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">stop</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">stack</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MachineLearning</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">postgres_config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pg_stat_statements.track</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cron.host</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /controller/run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> track_io_timing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;on&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> shared_preload_libraries</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> vectorize</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">pg_stat_statements</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">pgml</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">pg_cron</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">pg_later</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">trunk_installs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pgvector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 0.5.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pgml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 2.7.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pg_embedding</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 0.1.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pg_cron</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1.5.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pgmq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 0.14.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> vectorize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 0.0.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pg_later</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 0.0.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">extensions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># trunk project pgvector</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> vector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">locations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">database</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> postgres</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 0.5.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># trunk project postgresml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pgml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">locations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">database</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> postgres</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 2.7.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># trunk project pg_embedding</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> embedding</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">locations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">database</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> postgres</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 0.1.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pg_cron</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pg_cron</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">locations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">database</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> postgres</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1.5.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pgmq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pgmq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">locations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">database</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> postgres</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 0.14.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> vectorize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> simple vector search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">locations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">database</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> postgres</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 0.0.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pg_later</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> async query execution</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">locations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">database</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> postgres</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 0.0.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">runtime_config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> shared_buffers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1024MB&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> max_connections</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;431&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> work_mem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;5MB&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bgwriter_delay</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;200ms&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> effective_cache_size</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2867MB&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> maintenance_work_mem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;204MB&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> max_wal_size</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;10GB&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To create our Postgres instance, we run the following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">❯ kubectl apply -f yaml/sample-machine-learning.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">coredb.coredb.io/sample-machine-learning created</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">❯ kubectl get po</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                                               READY   STATUS    RESTARTS   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sample-machine-learning-1                          </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">          19s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sample-machine-learning-metrics-5fbcf9b676-hkxtk   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">          31s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once we’ve connected to the Postgres instance, we can run <code>\dx</code> to confirm the extensions were installed and enabled as expected:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">❯ </span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">PGPASSWORD</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable" style="color:#36acaa">kubectl get secrets/sample-machine-learning-connection --template</span><span class="token variable operator" style="color:#393A34">=</span><span class="token variable punctuation" style="color:#393A34">{</span><span class="token variable punctuation" style="color:#393A34">{</span><span class="token variable" style="color:#36acaa">.data.password</span><span class="token variable punctuation" style="color:#393A34">}</span><span class="token variable punctuation" style="color:#393A34">}</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa"> base64 -d</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">❯ psql postgres://postgres:</span><span class="token variable" style="color:#36acaa">$PGPASSWORD</span><span class="token plain">@sample-machine-learning.localhost:5432</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">psql </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">16.0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Ubuntu </span><span class="token number" style="color:#36acaa">16.0</span><span class="token plain">-1.pgdg22.04+1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, server </span><span class="token number" style="color:#36acaa">15.3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SSL connection </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">protocol: TLSv1.3, cipher: TLS_AES_256_GCM_SHA384, compression: off</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Type </span><span class="token string" style="color:#e3116c">&quot;help&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> help.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">postgres</span><span class="token operator" style="color:#393A34">=</span><span class="token comment" style="color:#999988;font-style:italic"># \dx</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            List of installed extensions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Name        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Version </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   Schema   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                              Description                               </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------+---------+------------+------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> pg_cron            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.5</span><span class="token plain">     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> pg_catalog </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Job scheduler </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> PostgreSQL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> pg_later           </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.8   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> pglater    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> pg_later:  Run queries now and get results later</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> pg_stat_statements </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.10</span><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> public     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> track planning and execution statistics of all SQL statements executed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> pgmq               </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.14</span><span class="token plain">.2  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> public     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> A lightweight message queue. Like AWS SQS and RSMQ but on Postgres.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> plpgsql            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain">     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> pg_catalog </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> PL/pgSQL procedural language</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> vector             </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.5</span><span class="token plain">.0   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> public     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> vector data </span><span class="token builtin class-name">type</span><span class="token plain"> and ivfflat access method</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> vectorize          </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.2   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> vectorize  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> The simplest way to </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> vector search on Postgres</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Let’s install a new extension by adding the following to our sample spec:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">trunk_installs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pg_bm25</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 0.4.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">extensions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pg_bm25</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">locations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">database</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> postgres</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 0.4.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>After applying the updated spec and connecting to Postgres, we can see the new extension <a href="https://pgt.dev/extensions/pg_bm25" target="_blank" rel="noopener noreferrer">pg_bm25</a> is installed and enabled as expected:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">❯ psql postgres://postgres:</span><span class="token variable" style="color:#36acaa">$PGPASSWORD</span><span class="token plain">@sample-machine-learning.localhost:5432</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">psql </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">16.0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Ubuntu </span><span class="token number" style="color:#36acaa">16.0</span><span class="token plain">-1.pgdg22.04+1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, server </span><span class="token number" style="color:#36acaa">15.3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SSL connection </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">protocol: TLSv1.3, cipher: TLS_AES_256_GCM_SHA384, compression: off</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Type </span><span class="token string" style="color:#e3116c">&quot;help&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> help.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">postgres</span><span class="token operator" style="color:#393A34">=</span><span class="token comment" style="color:#999988;font-style:italic"># \dx</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            List of installed extensions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Name        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Version </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   Schema   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                              Description                               </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------+---------+------------+------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> pg_bm25            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.0   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> paradedb   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> pg_bm25: PostgreSQL-native, full text search using BM25</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> pg_cron            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.5</span><span class="token plain">     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> pg_catalog </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Job scheduler </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> PostgreSQL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> pg_later           </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.8   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> pglater    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> pg_later:  Run queries now and get results later</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> pg_stat_statements </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.10</span><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> public     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> track planning and execution statistics of all SQL statements executed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> pgmq               </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.14</span><span class="token plain">.2  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> public     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> A lightweight message queue. Like AWS SQS and RSMQ but on Postgres.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> plpgsql            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain">     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> pg_catalog </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> PL/pgSQL procedural language</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> vector             </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.5</span><span class="token plain">.0   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> public     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> vector data </span><span class="token builtin class-name">type</span><span class="token plain"> and ivfflat access method</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> vectorize          </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.2   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> vectorize  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> The simplest way to </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> vector search on Postgres</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="up-next">Up Next<a href="#up-next" class="hash-link" aria-label="Direct link to Up Next" title="Direct link to Up Next">​</a></h2><p>We’re currently working on exciting new features that enable the deployment of custom applications alongside Postgres. These features include a REST API, GraphQL, and more. Stay tuned for future updates!</p><p>For more information on running the Tembo Operator, check out our docs at:</p><ul><li><a href="https://tembo.io/docs/tembo-stacks/local-tembo-operator" target="_blank" rel="noopener noreferrer">https://tembo.io/docs/tembo-stacks/local-tembo-operator</a></li></ul><p>If you&#x27;re interested in contributing to the project, check out our Github repo at:</p><ul><li><a href="https://github.com/tembo-io/tembo-stacks/tree/main/tembo-operator" target="_blank" rel="noopener noreferrer">https://github.com/tembo-io/tembo-stacks/tree/main/tembo-operator</a></li></ul><p>And if you want to try out the full power of Postgres and fully delegate extension management to us, <a href="https://cloud.tembo.io" target="_blank" rel="noopener noreferrer">try out Tembo Cloud</a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/postgres">postgres</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/kubernetes">kubernetes</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/rust">rust</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/anon-dump">Anonymized dump of your Postgres data</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-24T00:00:00.000Z" itemprop="datePublished">October 24, 2023</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sjmiller609" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/sjmiller609.png" alt="Steven Miller"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sjmiller609" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Steven Miller</span></a></div><small class="avatar__subtitle" itemprop="description">Founding Engineer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Someone on X wanted to know how to get an anonymous dump of Postgres data, but doesn&#x27;t want to install an extension in their production DB. I want to show how you can start a local database, dump the production data there, then do an anonymized dump from that without too much hassle.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getting-set-up">Getting set up<a href="#getting-set-up" class="hash-link" aria-label="Direct link to Getting set up" title="Direct link to Getting set up">​</a></h2><p>Dockerfile:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FROM quay.io/tembo/tembo-local:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Install extensions from Trunk</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN trunk </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> pgcrypto</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN trunk </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> postgresql_anonymizer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Setting samples to use for anonymization</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN </span><span class="token builtin class-name">cd</span><span class="token plain"> /var/lib/postgresql/data/tembo/extension/anon </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://gitlab.com/dalibo/postgresql_anonymizer/-/raw/master/data/lorem_ipsum.csv </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://gitlab.com/dalibo/postgresql_anonymizer/-/raw/master/data/identifiers_category.csv </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://gitlab.com/dalibo/postgresql_anonymizer/-/raw/master/data/identifier_fr_FR.csv </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://gitlab.com/dalibo/postgresql_anonymizer/-/raw/master/data/identifier_en_US.csv </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://gitlab.com/dalibo/postgresql_anonymizer/-/raw/master/data/address.csv </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://gitlab.com/dalibo/postgresql_anonymizer/-/raw/master/data/city.csv </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://gitlab.com/dalibo/postgresql_anonymizer/-/raw/master/data/company.csv </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://gitlab.com/dalibo/postgresql_anonymizer/-/raw/master/data/country.csv </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://gitlab.com/dalibo/postgresql_anonymizer/-/raw/master/data/email.csv </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://gitlab.com/dalibo/postgresql_anonymizer/-/raw/master/data/first_name.csv </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://gitlab.com/dalibo/postgresql_anonymizer/-/raw/master/data/iban.csv </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://gitlab.com/dalibo/postgresql_anonymizer/-/raw/master/data/last_name.csv </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://gitlab.com/dalibo/postgresql_anonymizer/-/raw/master/data/postcode.csv </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://gitlab.com/dalibo/postgresql_anonymizer/-/raw/master/data/siret.csv </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://gitlab.com/dalibo/postgresql_anonymizer/-/raw/master/data/lorem_ipsum.csv</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Build and run it like this:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> build -t example-local-image </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rm</span><span class="token plain"> --force local-tembo </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run -it --name local-tembo -p </span><span class="token number" style="color:#36acaa">5432</span><span class="token plain">:5432 --rm example-local-image</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://tembo.io/docs/tembo-cloud/try-extensions-locally" target="_blank" rel="noopener noreferrer">This guide</a> covers how to quickly try out Postgres extensions locally in more detail.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dump-the-data-into-your-local-db">Dump the data into your local DB<a href="#dump-the-data-into-your-local-db" class="hash-link" aria-label="Direct link to Dump the data into your local DB" title="Direct link to Dump the data into your local DB">​</a></h2><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pg_dump </span><span class="token string" style="color:#e3116c">&#x27;your-connection-string-here&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> psql </span><span class="token string" style="color:#e3116c">&#x27;postgres://postgres:postgres@localhost:5432&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="anonymize-the-local-db">Anonymize the local DB<a href="#anonymize-the-local-db" class="hash-link" aria-label="Direct link to Anonymize the local DB" title="Direct link to Anonymize the local DB">​</a></h2><p>Initialize the extension:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> session_preload_libraries </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;anon&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">LOAD</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;anon&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> EXTENSION </span><span class="token keyword" style="color:#00009f">IF</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">EXISTS</span><span class="token plain"> anon </span><span class="token keyword" style="color:#00009f">CASCADE</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> anon</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For example, I have a table called &quot;extension_owners&quot;, and I would like to anonymize the user_name column:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">postgres=# select extension_id,user_name from extension_owners limit 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> extension_id |      user_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------+---------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           26 | coredb-service-user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(1 row)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>I configured anonymization on that column like this:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SECURITY LABEL </span><span class="token keyword" style="color:#00009f">FOR</span><span class="token plain"> anon </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">COLUMN</span><span class="token plain"> extension_owners</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">user_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">IS</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;MASKED WITH FUNCTION anon.lorem_ipsum( words := 1 )&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>There are a lot of other options for anonymizing data, and you can even write your own functions. More information in <a href="https://gitlab.com/dalibo/postgresql_anonymizer/-/blob/master/docs/masking_functions.md?ref_type=heads" target="_blank" rel="noopener noreferrer">these docs</a>.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>This next step replaces data in the local database.</p></div></div><p>Since we are working on a local copy of the data, we can just use this function to replace anonymized columns in-place.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SELECT anon.anonymize_database();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We can see now this column has been anonymized.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">postgres=# select user_name from extension_owners limit 10;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> user_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> First</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> They</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Cell</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Price</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Them</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Go</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Parent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Republican</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> With</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Between</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(10 rows)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can do further modification from here, for example masking and replacing additional columns, formatting columns, etc.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="done">Done!<a href="#done" class="hash-link" aria-label="Direct link to Done!" title="Direct link to Done!">​</a></h2><p>Now you have an anonymized database locally. From here, you can pg_dump to a file, or do something else!</p><p>If you think this kind of thing is cool, follow me on X (<a href="https://x.com/sjmiller609" target="_blank" rel="noopener noreferrer">@sjmiller609</a>) for more content. At Tembo, we are all about Postgres extensions. You can try out extensions on <a href="https://cloud.tembo.io" target="_blank" rel="noopener noreferrer">Tembo Cloud</a> for free.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/postgres">postgres</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/extensions">extensions</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/postgresql-anonymizer">postgresql_anonymizer</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/hacking-postgres-ep5">Hacking Postgres, Ep. 5: Alexander Korotkov</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-23T00:00:00.000Z" itemprop="datePublished">October 23, 2023</time> · <!-- -->24 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ericankenman" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ericankenman.png" alt="Eric Ankenman"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ericankenman" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Eric Ankenman</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>In this episode, Ry and Alexander talk about OrioleDB (and the challenge of fighting bloat), fuzzy and vector search, and the challenges behind database management. Watch below, or listen on Apple/Spotify (or your podcast platform of choice). Special thanks to Alexander for joining us today!</p><iframe width="560" height="315" src="https://www.youtube.com/embed/FrOvwkmAPvg?si=9OgASSFxHfkYSfb2" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe><p>Want to know more about something they mentioned? Here’s a starting point:</p><ul><li>OrioleDB - <a href="https://www.orioledata.com/" target="_blank" rel="noopener noreferrer">https://www.orioledata.com/</a></li><li>fuzzystrmatch - <a href="https://www.postgresql.org/docs/current/fuzzystrmatch.html" target="_blank" rel="noopener noreferrer">https://www.postgresql.org/docs/current/fuzzystrmatch.html</a></li><li>pg_trgm - <a href="https://www.postgresql.org/docs/current/pgtrgm.html" target="_blank" rel="noopener noreferrer">https://www.postgresql.org/docs/current/pgtrgm.html</a></li><li>MVCC - <a href="https://www.postgresql.org/docs/7.1/mvcc.html" target="_blank" rel="noopener noreferrer">https://www.postgresql.org/docs/7.1/mvcc.html</a></li><li><a href="https://rbranson.medium.com/10-things-i-hate-about-postgresql-20dbab8c2791" target="_blank" rel="noopener noreferrer">“Ten Things I Hate About Postgres”</a> - article by Rick Branson</li><li>“<a href="https://www.uber.com/blog/postgres-to-mysql-migration/" target="_blank" rel="noopener noreferrer">Why Uber Engineering Switched from Postgres to MySQL</a>” - blog from Uber Engineering team</li></ul><p>Did you enjoy the episode? Have ideas for someone else we should invite? Let us know your thoughts on X at @tembo_io or share them with the team in our <a href="https://join.slack.com/t/tembocommunity/shared_invite/zt-23o25qt91-AnZoC1jhLMLubwia4GeNGw" target="_blank" rel="noopener noreferrer">Slack Community</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="transcript">Transcript<a href="#transcript" class="hash-link" aria-label="Direct link to Transcript" title="Direct link to Transcript">​</a></h2><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000012---alexander"><em>[00:00:12]<!-- --> - Alexander</em><a href="#000012---alexander" class="hash-link" aria-label="Direct link to 000012---alexander" title="Direct link to 000012---alexander">​</a></h5><p>Hi, I&#x27;m Ry Walker, founder of Tembo, a managed Postgres company. And today I have Alexander Korotkov from OrioleDB as my guest. Alexander, welcome to the show.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000024---alexander"><em>[00:00:24]<!-- --> - Alexander</em><a href="#000024---alexander" class="hash-link" aria-label="Direct link to 000024---alexander" title="Direct link to 000024---alexander">​</a></h5><p>Hello, thank you very much for inviting me. It&#x27;s a pleasure to participate. </p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000032---ry"><em>[00:00:32]<!-- --> - Ry</em><a href="#000032---ry" class="hash-link" aria-label="Direct link to 000032---ry" title="Direct link to 000032---ry">​</a></h5><p>Awesome. Maybe I&#x27;d like to start by having you give us a quick background, like where did you grow up and what were you doing before you started working on Postgres?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000041---alexander"><em>[00:00:41]<!-- --> - Alexander</em><a href="#000041---alexander" class="hash-link" aria-label="Direct link to 000041---alexander" title="Direct link to 000041---alexander">​</a></h5><p>Even before Postgres?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000043---ry"><em>[00:00:43]<!-- --> - Ry</em><a href="#000043---ry" class="hash-link" aria-label="Direct link to 000043---ry" title="Direct link to 000043---ry">​</a></h5><p>Yeah, way back. Were you only like ten years old then?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000049---alexander"><em>[00:00:49]<!-- --> - Alexander</em><a href="#000049---alexander" class="hash-link" aria-label="Direct link to 000049---alexander" title="Direct link to 000049---alexander">​</a></h5><p>Yes, I started actually from web development. Yes. And for web development, Postgres become my favorite database management system. That time there were basically two popular open source database management system, MySQL and Postgres. And Postgres behavior looked way more consistent for me. And this is why Postgres become my favorite. And also thing which attracts my attention was generalized indexing in Postgres that Postgres have even that time had GiST and gene indexes which you could apply to different data types, different search operators. And that was very interesting for me. And I also have studied for PhD in university and I was interested in fuzzy search and features like this. And in Postgres I found fuzzystrmatch complete model. And that model contained Levenshtein function which defines editing distance between two strings, number of editing operations. And I found that it doesn&#x27;t work with multibyte encoding, with multibyte encoding. So it just compares two strings, byte per byte. And my first patch was to just fix this bug. I actually didn&#x27;t know if I could produce the I just downloaded sources. Thankfully that time compiling a Postgres already wasn&#x27;t a problem. So I just had Linux on my desktop and just cloned it.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000308---alexander"><em>[00:03:08]<!-- --> - Alexander</em><a href="#000308---alexander" class="hash-link" aria-label="Direct link to 000308---alexander" title="Direct link to 000308---alexander">​</a></h5><p>Probably that time it was CVS repository, I cloned it and it wasn&#x27;t difficult to locate the place in the source code responsible for this function. And I just have to find which functions are responsible for getting lengths of multi byte string in Postgres and stuff. Work was very easy, and I have submitted my first patch to Postgres, but then Robert Haas picked my patch to work on it to review and commit. And that time I get that it&#x27;s not so easy this process community, because we have quite long thread studying possible performance regressions and on, and I rewrote patch this small patch many times. But finally we find a way when this patch not only fixes the problem of multibyte encoding, but also doesn&#x27;t produce noticeable overhead when it&#x27;s single byte encoding or strings, just uses single byte characters. In both of these cases, the overhead was negligible. And then Robert did commit my patch.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000440---ry"><em>[00:04:40]<!-- --> - Ry</em><a href="#000440---ry" class="hash-link" aria-label="Direct link to 000440---ry" title="Direct link to 000440---ry">​</a></h5><p>That&#x27;s amazing. Yeah, it&#x27;s interesting. How many lines of code was the patch, I wonder?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000446---alexander"><em>[00:04:46]<!-- --> - Alexander</em><a href="#000446---alexander" class="hash-link" aria-label="Direct link to 000446---alexander" title="Direct link to 000446---alexander">​</a></h5><p>I don&#x27;t remember exactly. You could find it on the list, but this patch should be in dozens of lights, probably 20 or something like this, really small. But also with these fix, I started to work on improving this function, improving the performance because if you use the Levenshtein function you are typically looking for strings which are close to your string. Right. And the thing is you basically don&#x27;t care about large distances. For instance, you are looking for strings with editing distance three or less. And that means that if it would be four you don&#x27;t care how much bigger is that distance. And if you need only this, then you could easily, not easily, but you could significantly accelerate function Levenshtein calculation in many times and this functionality took even more work for me and Robert. But you could use it, it&#x27;s Levenshtein less equal. Nice function.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000609---ry"><em>[00:06:09]<!-- --> - Ry</em><a href="#000609---ry" class="hash-link" aria-label="Direct link to 000609---ry" title="Direct link to 000609---ry">​</a></h5><p>That&#x27;s great. Yeah. I also came to Postgres from being a web developer prior and I&#x27;ve realized in recent weeks actually, that the reason why I went to Postgres and not MySQL is primarily I was using Ruby on Rails, which just kind of was Postgres first and then I really didn&#x27;t like PHP. Hopefully you weren&#x27;t a PHP developer, but the lamp stack had MySQL and PHP together and I always just like I don&#x27;t want to go anywhere near anything near PHP. That&#x27;s really not a great reason, but it&#x27;s just a fact.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000648---alexander"><em>[00:06:48]<!-- --> - Alexander</em><a href="#000648---alexander" class="hash-link" aria-label="Direct link to 000648---alexander" title="Direct link to 000648---alexander">​</a></h5><p>Yes, probably one of the great feature I have discovered in podcast in early days was DDL transactions. So that if you need to do a database schema migration, you can wrap all the changes into transaction and if something go wrong you can roll. Yes, that&#x27;s just amazing. And it&#x27;s interesting that even old and mature database management systems like Oracle or MSS SQL Server lacks of this functionality. I&#x27;m not sure about the present day, but at time indefinitely they all were lacking and this was very useful.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000736---ry"><em>[00:07:36]<!-- --> - Ry</em><a href="#000736---ry" class="hash-link" aria-label="Direct link to 000736---ry" title="Direct link to 000736---ry">​</a></h5><p>Yeah, that&#x27;s great. So you built obviously you started with that first patch and worked on other fuzzy search stuff. Have you worked on any Postgres extensions?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000752---alexander"><em>[00:07:52]<!-- --> - Alexander</em><a href="#000752---alexander" class="hash-link" aria-label="Direct link to 000752---alexander" title="Direct link to 000752---alexander">​</a></h5><p>Yes, I continued to work on Postgres. Then I have found that I get known with Oleg and Theodore who was in Russian contributors of Postgres and I get familiar with their work. Some of their work I already know Gist and Jin. But for others work, it was interesting for me that we could accelerate also search for like patterns. Not just perfect patterns, but imagine you looking something that could be in the middle of the string. And there were that time Pgtrgm module. But at that time it only supports trigram similarity. Search using indexes. But I found that it&#x27;s pretty easy if you decompose string with trigrams it&#x27;s pretty easy to implement like search. So you could just extract trigrams from the like patterns and search for them. And thanks that trigrams are extracted all over the string so you can find this substring anywhere. And that time I would say my feeling was just great. So it&#x27;s just amazing. So with quite small patch you could teach database server with some amazing advanced functionality and I get even more encouragement when I would be sorry if I confusing with names hugh Bert I don&#x27;t know the guy from blogger from Poland who was posting to the planet PostgresQL waiting for and he also posted waiting for this feature like Word for Pgtrm.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001015---alexander"><em>[00:10:15]<!-- --> - Alexander</em><a href="#001015---alexander" class="hash-link" aria-label="Direct link to 001015---alexander" title="Direct link to 001015---alexander">​</a></h5><p>This was one of my first patches. Another thing that during my PhD research I also researched split algorithms for R3 and I have found more advanced algorithm and I have pushed this algorithm to Postgres core and to PostGIS that took time. Yes, because communities are quite conservatives, but it was also good.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001100---ry"><em>[00:11:00]<!-- --> - Ry</em><a href="#001100---ry" class="hash-link" aria-label="Direct link to 001100---ry" title="Direct link to 001100---ry">​</a></h5><p>Yeah, great. Well, I want to talk about OrioleDB, but before we do that, I was thinking are you paying attention to the whole vector search since you spent so much time on Postgres search features or I don&#x27;t know, at least sometime. I&#x27;m curious, are you kind of tracking what&#x27;s going on with vector search?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001120---alexander"><em>[00:11:20]<!-- --> - Alexander</em><a href="#001120---alexander" class="hash-link" aria-label="Direct link to 001120---alexander" title="Direct link to 001120---alexander">​</a></h5><p>Yes. That&#x27;s interesting. That&#x27;s an interesting subject. Yes. While I have researched the split algorithms, I have also experimented with cube concrete model which supported basically multidimensional rectangles of different number of dimensions up to one dimensions. And what I have found is that if you have low dimensionality two, three, four or five, then when you are producing split, your split will be good for one dimension, but almost don&#x27;t differentiate other dimension. So you can imagine this if you have two dimensional space filled with points and you need to split them into two rectangles, there is just two good way to do this split vertically or horizontally. All other ways your rectangles would have a huge overlap. But thing changes when your dimensionality increases. There is a so called Woodman quadratic split algorithm and this algorithm actually do clustering. So it just tries to find to divide the set of points into two clusters. And it doesn&#x27;t work well for low dimensionality, but for high dimensionality of space it becomes better than if you just pick one axis and split in this dimension. And that was interesting for me and I got familiar with cures of dimensions so that if you have low dimensionality space, you can have some guaranteed and quite good search performance.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001336---alexander"><em>[00:13:36]<!-- --> - Alexander</em><a href="#001336---alexander" class="hash-link" aria-label="Direct link to 001336---alexander" title="Direct link to 001336---alexander">​</a></h5><p>Right? So imagine the best example is unidimensional space. You can index this just b three and you have some guaranteed or logarithm n time for search for point request. Right? But when you have high dimensionality, that becomes a problem and uniform random data, which could be good, which you could handle very well with low dimensionality, in high dimensionality it becomes almost unindexable. So if you have 1000 of dimension vectors and you need to search for a similarity, then search in uniform data would be almost impossible to accelerate because you can&#x27;t identify which particular dimension could give you a match. You could just eat just cumulative results of cumulative results of all dimensions and it&#x27;s almost impossible to accelerate. I have participated a bit in improvement of PG vector and with some developers of Supabase, we really found that indexing methods, if they applied to uniform data, then they give nothing. So indexing methods, when you have a lot of dimensions, they based on some clustering. The idea is to find, how to say, find the low in the distribution, ununiformity of distribution, and then exploit it. And this is how indexing works. There are different interesting methods for indexing multidimensional space, but I think the favorite is Hnsv method.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001605---alexander"><em>[00:16:05]<!-- --> - Alexander</em><a href="#001605---alexander" class="hash-link" aria-label="Direct link to 001605---alexander" title="Direct link to 001605---alexander">​</a></h5><p>And I have read about this method in the scientific paper way before this AI Hype ten years ago. And that was interesting how far these methods from all others. So it&#x27;s very self.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001626---ry"><em>[00:16:26]<!-- --> - Ry</em><a href="#001626---ry" class="hash-link" aria-label="Direct link to 001626---ry" title="Direct link to 001626---ry">​</a></h5><p>It seems like just vector search is just on the exact edge of search. And the LLM AI, like you said, it&#x27;s kind of blending both sides. Well, that&#x27;s cool. So I wanted to obviously chat about OrioleDB, I imagine. Are you spending trying to spend 100% of your time on OrioleDB, or? It&#x27;s probably hard to I mean, it sounds like there&#x27;s lots of great things happening in Postgres to distract you from your own work.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001657---alexander"><em>[00:16:57]<!-- --> - Alexander</em><a href="#001657---alexander" class="hash-link" aria-label="Direct link to 001657---alexander" title="Direct link to 001657---alexander">​</a></h5><p>The thing vector search definitely distract me. And with this AI Hype, it&#x27;s hard to not be yeah, yeah, I know.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001706---ry"><em>[00:17:06]<!-- --> - Ry</em><a href="#001706---ry" class="hash-link" aria-label="Direct link to 001706---ry" title="Direct link to 001706---ry">​</a></h5><p>For say, I would just love to kind of have the top three or four things you&#x27;re trying to accomplish with Oriole maybe and maybe give us a progress report.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001720---alexander"><em>[00:17:20]<!-- --> - Alexander</em><a href="#001720---alexander" class="hash-link" aria-label="Direct link to 001720---alexander" title="Direct link to 001720---alexander">​</a></h5><p>Yes. But before this, I&#x27;d like to mention about how I use AI in my work.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001726---ry"><em>[00:17:26]<!-- --> - Ry</em><a href="#001726---ry" class="hash-link" aria-label="Direct link to 001726---ry" title="Direct link to 001726---ry">​</a></h5><p>Oh, yeah, sure.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001727---alexander"><em>[00:17:27]<!-- --> - Alexander</em><a href="#001727---alexander" class="hash-link" aria-label="Direct link to 001727---alexander" title="Direct link to 001727---alexander">​</a></h5><p>So I have written the blog post, no more vacuum, no more bloat. You may be aware it was on top of news and interesting that I have mostly generated this with Chat GPT. So I just wrote the short item list and asked Chat GPT to write me a blog post. Then I have corrected a little bit, then I wrote some graph, then add some graph, asked Chet GPT to add another paragraph with them, and then it was done. And I was curious that I expected that I would be revealed and blamed for this. But actually the comments I get was, oh, this blog post is so much well written.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001823---ry"><em>[00:18:23]<!-- --> - Ry</em><a href="#001823---ry" class="hash-link" aria-label="Direct link to 001823---ry" title="Direct link to 001823---ry">​</a></h5><p>I know, it&#x27;s funny. I agree with you. I&#x27;ll take just like, notes. Like, for example, here I&#x27;ve got like a list of 20 questions that I&#x27;m trying to ask you during this interview, possibly ask you. I guarantee you if I sent this list of 20 questions to ChatGPT and say, hey, make these questions better, it would crush it, give me all kinds of much better questions. But anyway, yeah, I agree. People who aren&#x27;t using it are really missing out on a great assistant. All right, so back to Oriole. What are the top three or four.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001902---alexander"><em>[00:19:02]<!-- --> - Alexander</em><a href="#001902---alexander" class="hash-link" aria-label="Direct link to 001902---alexander" title="Direct link to 001902---alexander">​</a></h5><p>Things I&#x27;d like to first say about the thing which bring me to the Oriole? When I have studied Postgres, it was just like a magic how MVCC works. So you can run multiple sessions in parallel and each session will have its own snapshot of the data and that was just amazing. And I was very interested what is under the hood, but how this works from user size was perfect, but I always wondered how it implemented internally. Because when you in progress, when you&#x27;re doing an update, then you just have to mark old tuple and insert the new tuple in the heap. And if hot update is not applied, then you also have to insert all the index tuples even if index set values are not updated. And I wondered if we could do this better. And I think I have this background thoughts for years. So I have studied how MVCC implemented in MySQL as and then how it&#x27;s implemented in Oracle. And it was very interesting for me to get how it&#x27;s implemented in Oracle because I heard that Oracle have block level undo. Yes, and then I have thought how could it be on a block level?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002054---alexander"><em>[00:20:54]<!-- --> - Alexander</em><a href="#002054---alexander" class="hash-link" aria-label="Direct link to 002054---alexander" title="Direct link to 002054---alexander">​</a></h5><p>Because if two transaction modifies the same tree page and this page got splitted and then one of transaction could be rolled back, then it&#x27;s not linear list of log records which you could just apply one after another. Because if you need to roll back some change which was before the page split, you need to do some adjustments with it. And then I understood that I need to go deeper and get how it works and then I learn more things, how rider had log working and so on. And I think in 2017 I have started to work on design of my own storage which could work around the most of shortcomings, which I see in Postgres engine. For sure there is no plain wins, in some situation this engine works worse. But I would just like to design some new trade off which could be better in the typical situation. And I can highlight some things in OrioleDB. So the first thing which it is fighting is bloat and in order to eliminate bloat, it has undo log. So if you update a row, then you just have to add a new version of row into the undo chain and you only need to update indexes if their values are updated.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002303---alexander"><em>[00:23:03]<!-- --> - Alexander</em><a href="#002303---alexander" class="hash-link" aria-label="Direct link to 002303---alexander" title="Direct link to 002303---alexander">​</a></h5><p>And also indexes are versioned trees as well. In OrioleDB I have heard that it is so in Oracle and I found that this is very attractive idea. Thanks to that index only scan becomes very simple because your secondary index already contains all the information and you doesn&#x27;t need to look into any secondary structures. Because I have heard that in Postgres index only scans, index only scans is amazing until you run in some problem because if you have some intensive workloads and so on, you might have significant part of visibility map zero it and your query could get into trouble. Yes, that also could happen. And this is why I found that if secondary index version that&#x27;s attractive idea and OrioleDB have a mixed underlock containing both row level and block level records and block level records allows to handle some changes like eliminating of dead tuples of the page. So for instance, your page contains some tuples which are deleted but still visible for some transaction. And using block level undo lock you can issue a new version of this page and get rid of all dead rows and reclaim their space. But the transactions which need old version can traverse page level underlock and find the tops that they need and another to eliminate bloat is automatic page merging.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002512---alexander"><em>[00:25:12]<!-- --> - Alexander</em><a href="#002512---alexander" class="hash-link" aria-label="Direct link to 002512---alexander" title="Direct link to 002512---alexander">​</a></h5><p>Anyway, if even you have undo lock it could happen that your workload is so that you have a lot of sparse pages so you have a lot of data inserted but then the data was deleted and AudioDB supports automatic merge of sparse page to eliminate bloat. Okay, and you had some questions.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002534---ry"><em>[00:25:34]<!-- --> - Ry</em><a href="#002534---ry" class="hash-link" aria-label="Direct link to 002534---ry" title="Direct link to 002534---ry">​</a></h5><p>Yeah, I was just remembering that it was a blog post or a presentation where you like here are the ten worst things about Postgres. I don&#x27;t know the exact phrasing you chose but yeah, basically here are ten problems with Postgres.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002552---alexander"><em>[00:25:52]<!-- --> - Alexander</em><a href="#002552---alexander" class="hash-link" aria-label="Direct link to 002552---alexander" title="Direct link to 002552---alexander">​</a></h5><p>That was a blog post of Rick Branson, I hope I spelled the name correctly and yes, I found that was a quite popular blog post. The first popular blog post is definitely Uber blog post about why they moved from Postgres to MySQL. But this blog post from Rick was very interesting for me because the issues he highlighted was very good fit to my vision and to things which I&#x27;m going to improve with OrioleDB.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002636---ry"><em>[00:26:36]<!-- --> - Ry</em><a href="#002636---ry" class="hash-link" aria-label="Direct link to 002636---ry" title="Direct link to 002636---ry">​</a></h5><p>You&#x27;ll probably never be done with OrioleDB because products are never finished, but how&#x27;s your progress been through your target initial list of things you wanted to accomplish with Oriole are you making good progress through that or give us a progress report.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002653---alexander"><em>[00:26:53]<!-- --> - Alexander</em><a href="#002653---alexander" class="hash-link" aria-label="Direct link to 002653---alexander" title="Direct link to 002653---alexander">​</a></h5><p>Yes, I&#x27;m making a good progress but currently the main target is not to add new features or handle more things, the current target is stability to get more users. So it doesn&#x27;t work to have amazing products if nobody uses. And I would say that Database World is quite conservative because obviously people don&#x27;t want to lose their data. And this is why, before using some new database technology, you need to ensure that it&#x27;s really stable and mature. And this is the main challenge for new database management system or new storage engine and especially when it&#x27;s OLTP and OrioleDB currently mainly targets OLTP because OLTP is typically the source of your data, right? So where your business operation happened, for instance, OLAP could be not so important. So you pull your data from OLTP system and put to OLAP for analysis and if it will disappear in a OLAP system you can just repeat the procedure but that doesn&#x27;t work for OLTP which is initial source of the data. So this is the main difficulty I think, but we already did very good work with the team, very good work on eliminating the bugs but we definitely need more better testers.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002846---ry"><em>[00:28:46]<!-- --> - Ry</em><a href="#002846---ry" class="hash-link" aria-label="Direct link to 002846---ry" title="Direct link to 002846---ry">​</a></h5><p>Yeah, I mean, it&#x27;s a big challenge. It&#x27;s similar for us as well, but you have to create enough differentiation to get people to want to try it. But you can&#x27;t go so far away from like you&#x27;re saying the further the distance is from what they consider stable, the riskier it is. But if you&#x27;re too close to the same thing, there&#x27;s not enough value to do the switch.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002912---alexander"><em>[00:29:12]<!-- --> - Alexander</em><a href="#002912---alexander" class="hash-link" aria-label="Direct link to 002912---alexander" title="Direct link to 002912---alexander">​</a></h5><p>Right.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002912---ry"><em>[00:29:12]<!-- --> - Ry</em><a href="#002912---ry" class="hash-link" aria-label="Direct link to 002912---ry" title="Direct link to 002912---ry">​</a></h5><p>So it&#x27;s a tricky catch 22 that you have to do something a little bit dangerous to get the attention. If it&#x27;s too close, then people will be like, if it&#x27;s 10% faster, who cares? Right?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002928---alexander"><em>[00:29:28]<!-- --> - Alexander</em><a href="#002928---alexander" class="hash-link" aria-label="Direct link to 002928---alexander" title="Direct link to 002928---alexander">​</a></h5><p>Yes, exactly. This is why I am highlighting the cases where OrioleDB is in times faster or even dozens of times.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002942---ry"><em>[00:29:42]<!-- --> - Ry</em><a href="#002942---ry" class="hash-link" aria-label="Direct link to 002942---ry" title="Direct link to 002942---ry">​</a></h5><p>Have you now released kind of the stable candidate? You said you&#x27;d need more testers. Is that&#x27;s kind of your stage now?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002951---alexander"><em>[00:29:51]<!-- --> - Alexander</em><a href="#002951---alexander" class="hash-link" aria-label="Direct link to 002951---alexander" title="Direct link to 002951---alexander">​</a></h5><p>Yes. We are currently discussing with our team and advisors when we can make market release candidate on the release. At some point, this is just how to say at some point, this is decisions of the will. So there is no strict procedure you can go through and say, okay, your product now should be better, or your product now should be generally available. You just need to decide for yourself and make this decision weighing all the risks.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003030---ry"><em>[00:30:30]<!-- --> - Ry</em><a href="#003030---ry" class="hash-link" aria-label="Direct link to 003030---ry" title="Direct link to 003030---ry">​</a></h5><p>Yeah, it was funny. I&#x27;ll tell you a quick story about that. With my previous company, Astronomer, we were 0.1, 0.2, 0.3. I think we got to like 0.17. And it was like there was nothing big happening in any release that would cause us to say, oh, this should be the 1.0. And then we are also thinking like, this is one of me thinking this, because I was like, let&#x27;s just make the next one 1.0, goddamn it, but let&#x27;s save the 1.0 for a big marketing push. I don&#x27;t know that they ever did it. We waited so long that we never had a 1.0 of that platform. By the time we got to it was like, oh, let&#x27;s rewrite it. I think it&#x27;s a tricky thing to ship, but I&#x27;m a big fan of shipping early and often. And just mark your thing as an RC candidate. It doesn&#x27;t matter. It will attract more attention with that RC dot. That zero dot.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003135---alexander"><em>[00:31:35]<!-- --> - Alexander</em><a href="#003135---alexander" class="hash-link" aria-label="Direct link to 003135---alexander" title="Direct link to 003135---alexander">​</a></h5><p>Yes. Actually, the number in the version is marketing you can find in the shop. The price for the good could be $20. But you go away, you come back, and now it&#x27;s $30 crossed $25.01 of advices. I heard about version numbering was never number. If you have new products, never number your version 1.0.0, nobody will trust it&#x27;s stable. So you should number something like 1.3 point eleven.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003221---ry"><em>[00:32:21]<!-- --> - Ry</em><a href="#003221---ry" class="hash-link" aria-label="Direct link to 003221---ry" title="Direct link to 003221---ry">​</a></h5><p>Yeah, well, I&#x27;m kind of a big fan of CalVer, where the version of your software should be like, how many releases? It&#x27;s 23 dot whatever.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003235---alexander"><em>[00:32:35]<!-- --> - Alexander</em><a href="#003235---alexander" class="hash-link" aria-label="Direct link to 003235---alexander" title="Direct link to 003235---alexander">​</a></h5><ol start="2023"><li></li></ol><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003235---ry"><em>[00:32:35]<!-- --> - Ry</em><a href="#003235---ry" class="hash-link" aria-label="Direct link to 003235---ry" title="Direct link to 003235---ry">​</a></h5><p>And here&#x27;s our 6th release in 2023. And that kind of gets rid of all of the traditional semver stuff. But again, that&#x27;s kind of hard to do as well. Well, I had a bunch of extra little questions I want to ask you just to get to know you a little better. But if you had a magic wand that you could add any feature to Postgres and tomorrow morning we wake up and it&#x27;s there, what would it be? What&#x27;s the most important thing? Or would you be most excited to see?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003306---alexander"><em>[00:33:06]<!-- --> - Alexander</em><a href="#003306---alexander" class="hash-link" aria-label="Direct link to 003306---alexander" title="Direct link to 003306---alexander">​</a></h5><p>My question...it could sound probably selfish, but I have a patch set to improve Postgres table access method API. This patch set definitely needs some work and if I magic went I would like this work to be just done and everything is perfect and in the Postgres core perfected. And that would make OrioleDB become a pure extension. But not only that, I think it could clear the path for more table access method implementations.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003348---ry"><em>[00:33:48]<!-- --> - Ry</em><a href="#003348---ry" class="hash-link" aria-label="Direct link to 003348---ry" title="Direct link to 003348---ry">​</a></h5><p>Got it. That&#x27;s good, that&#x27;s a great one.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003350---alexander"><em>[00:33:50]<!-- --> - Alexander</em><a href="#003350---alexander" class="hash-link" aria-label="Direct link to 003350---alexander" title="Direct link to 003350---alexander">​</a></h5><p>And one thing if you have a few minutes, the Postgres Extensibility is probably the idea which comes from Postgres early design and remains Postgres differentiation feature till now. Because all our ideas from Postgres design today it sounds weird and it&#x27;s not.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003419---ry"><em>[00:34:19]<!-- --> - Ry</em><a href="#003419---ry" class="hash-link" aria-label="Direct link to 003419---ry" title="Direct link to 003419---ry">​</a></h5><p>There, but Extensibility is it&#x27;s it&#x27;s honestly, I always just thought MySQL and Postgres were just two different. Yeah, I didn&#x27;t realize how much more Extensible Postgres at least tries to be and has been and how many extensions exist for it. Once you start looking at that list, it&#x27;s pretty amazing, all the work that people have done to extend it. Is there anything, would you say about Postgres that almost nobody agrees with you about? Do you have an opinion that&#x27;s controversial or just it&#x27;s hard for people to agree with you about?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003503---alexander"><em>[00:35:03]<!-- --> - Alexander</em><a href="#003503---alexander" class="hash-link" aria-label="Direct link to 003503---alexander" title="Direct link to 003503---alexander">​</a></h5><p>Probably I don&#x27;t know this opinion. So there are opinions where we have disagreement in community, but I can&#x27;t remember the opinion which leaves me alone with that. So probably not. Yeah, there are opinions where I appear in a minority, but not more.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003528---ry"><em>[00:35:28]<!-- --> - Ry</em><a href="#003528---ry" class="hash-link" aria-label="Direct link to 003528---ry" title="Direct link to 003528---ry">​</a></h5><p>Yeah, a lot of times that&#x27;s just because you don&#x27;t understand everything yet, right? People come in with a hot take and then the mailing list will educate them on other factors.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003540---alexander"><em>[00:35:40]<!-- --> - Alexander</em><a href="#003540---alexander" class="hash-link" aria-label="Direct link to 003540---alexander" title="Direct link to 003540---alexander">​</a></h5><p>Yes, there are disagreements because we are writing patches to Postgres and we understand these patches as improvements. But actually there is never a pure win. If you achieve something, you always lose something. That might be not obvious, but I don&#x27;t know. So if you are adding too many SQL comments and your parser get complicated and parcel state machine cannot fit to processor cache and get slower and your source code also becomes bigger and harder to understand and so on. And finally we are just a group of people which needs to make some decision of will, of where to go. No way is a clear win. We are trying our best to don&#x27;t discourage existing users, but even the best offers of them, even with best efforts of them. There are some disprovements for sure. At the end of the day, we need to negotiate and make a decision.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003654---ry"><em>[00:36:54]<!-- --> - Ry</em><a href="#003654---ry" class="hash-link" aria-label="Direct link to 003654---ry" title="Direct link to 003654---ry">​</a></h5><p>Where can people find you online? And in particular, what&#x27;s the best way for them to get involved with testing OrioleDB?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003704---alexander"><em>[00:37:04]<!-- --> - Alexander</em><a href="#003704---alexander" class="hash-link" aria-label="Direct link to 003704---alexander" title="Direct link to 003704---alexander">​</a></h5><p>Yes, any person can reach me via email and testing Oriole, you just go to GitHub, download and compile sources or even easier, go to Docker Hub and get the docker image and just go experiment with your data and your workload and raise an issue or discussion and share your experience and.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003732---ry"><em>[00:37:32]<!-- --> - Ry</em><a href="#003732---ry" class="hash-link" aria-label="Direct link to 003732---ry" title="Direct link to 003732---ry">​</a></h5><p>Refresh us one last time. Where are the use cases where Oriole is going to outperform vanilla Postgres most dramatically I guess yes.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003743---alexander"><em>[00:37:43]<!-- --> - Alexander</em><a href="#003743---alexander" class="hash-link" aria-label="Direct link to 003743---alexander" title="Direct link to 003743---alexander">​</a></h5><p>So the situations are when you have a lot of updates, very update intensive workload, then OrioleDB could outperform things to undo log. Another case is huge multi core machines and OrioleDB eliminates a lot of bottlenecks and can perform in times faster and also OrioleDB implements role level write ahead log and if you have a huge write ahead log stream and you need geographical replication, OrioleDB can also help a lot. Awesome.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003831---ry"><em>[00:38:31]<!-- --> - Ry</em><a href="#003831---ry" class="hash-link" aria-label="Direct link to 003831---ry" title="Direct link to 003831---ry">​</a></h5><p>Okay, great. Thank you. Yeah. If there&#x27;s anything else you want to share, feel free, but otherwise it was great chatting with you.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="003840---alexander"><em>[00:38:40]<!-- --> - Alexander</em><a href="#003840---alexander" class="hash-link" aria-label="Direct link to 003840---alexander" title="Direct link to 003840---alexander">​</a></h5><p>No more from me. Thank you very much for inviting. It&#x27;s always very lovely and friendly talk with.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/postgres">postgres</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/hacking-postgres">hacking_postgres</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/hacking-postgres-ep4">Hacking Postgres, Ep. 4: Pavlo Golub</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-21T00:00:00.000Z" itemprop="datePublished">October 21, 2023</time> · <!-- -->17 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ericankenman" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ericankenman.png" alt="Eric Ankenman"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ericankenman" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Eric Ankenman</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>In this episode, Ry and Pavlo talk about pg_timetable, about the value and place of risk in the ecosystem, and about building for the Postgres core. If you haven’t seen or listened to it yet, you can watch below, or listen on Apple/Spotify (or your podcast platform of choice). Special thanks to Pavlo for joining us today!</p><iframe width="560" height="315" src="https://www.youtube.com/embed/uDfUxtZK8_Q?si=wrmh4_2l5-LpNOlY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe><p>Want to know more about something they mentioned? Here’s a starting point:</p><ul><li>Cybertec - <a href="https://www.cybertec-postgresql.com/en/" target="_blank" rel="noopener noreferrer">https://www.cybertec-postgresql.com/en/</a></li><li>pg_timetable - <a href="https://github.com/cybertec-postgresql/pg_timetable" target="_blank" rel="noopener noreferrer">https://github.com/cybertec-postgresql/pg_timetable</a></li><li>pgwatch - <a href="https://github.com/cybertec-postgresql/pgwatch2" target="_blank" rel="noopener noreferrer">https://github.com/cybertec-postgresql/pgwatch2</a></li><li>pg_cron - <a href="https://github.com/citusdata/pg_cron" target="_blank" rel="noopener noreferrer">https://github.com/citusdata/pg_cron</a></li><li>baseql - <a href="https://www.baseql.com/" target="_blank" rel="noopener noreferrer">https://www.baseql.com/</a></li><li>pg_dump - <a href="https://www.postgresql.org/docs/current/app-pgdump.html" target="_blank" rel="noopener noreferrer">https://www.postgresql.org/docs/current/app-pgdump.html</a></li><li>vscode - <a href="https://github.com/microsoft/vscode" target="_blank" rel="noopener noreferrer">https://github.com/microsoft/vscode</a></li><li>GoLand - <a href="https://www.jetbrains.com/go/" target="_blank" rel="noopener noreferrer">https://www.jetbrains.com/go/</a></li></ul><p>Did you enjoy the episode? Have ideas for someone else we should invite? Let us know your thoughts on X at <a href="https://twitter.com/tembo_io" target="_blank" rel="noopener noreferrer">@tembo_io</a> or share them with the team in our <a href="https://join.slack.com/t/tembocommunity/shared_invite/zt-23o25qt91-AnZoC1jhLMLubwia4GeNGw" target="_blank" rel="noopener noreferrer">Slack Community</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="transcript">Transcript<a href="#transcript" class="hash-link" aria-label="Direct link to Transcript" title="Direct link to Transcript">​</a></h2><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000012---ry"><em>[00:00:12]<!-- --> - Ry</em><a href="#000012---ry" class="hash-link" aria-label="Direct link to 000012---ry" title="Direct link to 000012---ry">​</a></h5><p>Hello, welcome to Hacking Postgres. I&#x27;m Ry Walker, founder of Tembo, a managed Postgres company. And today I have Pavlo Golub. Did I say that right? Pavlo? Yeah, you can fix it from Cybertec as my guest. So Pavlo, welcome to the show.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000030---pavlo"><em>[00:00:30]<!-- --> - Pavlo</em><a href="#000030---pavlo" class="hash-link" aria-label="Direct link to 000030---pavlo" title="Direct link to 000030---pavlo">​</a></h5><p>Yes, thank you for having me. Hi there.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000032---ry"><em>[00:00:32]<!-- --> - Ry</em><a href="#000032---ry" class="hash-link" aria-label="Direct link to 000032---ry" title="Direct link to 000032---ry">​</a></h5><p>Hi there. Yeah, so maybe you could start by giving us a quick background, like where you grew up and what were you doing before you started working on Postgres.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000041---pavlo"><em>[00:00:41]<!-- --> - Pavlo</em><a href="#000041---pavlo" class="hash-link" aria-label="Direct link to 000041---pavlo" title="Direct link to 000041---pavlo">​</a></h5><p>Okay, so I was born in Soviet Union so I&#x27;m a little bit old, but yeah, I lived in Ukraine. And the first time I saw Postgres, when I was in my high school, it was like fourth year of high school and at that time it wasn&#x27;t very popular. Everybody we&#x27;re talking about MySQL like the only database with open source and yeah, at that time I saw the PostgresQL, I tried to install it and run it. It was hard for me to do that because at that time the version was like 7.4 something and at that time there was no installer for Windows and we were mostly like Windows guys at that times. So, yeah, I need to install Linux and then install Postgres. Yeah, I managed to do that, but I wasn&#x27;t happy about it. The whole process is like I feel like cumbersome or something like that. So I left it for like a couple of years and then my first job in IT I was a support guy, so it was directly connected with the Postgres. So I started my IT career with Postgres and I&#x27;m happy that I had this chance.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000236---ry"><em>[00:02:36]<!-- --> - Ry</em><a href="#000236---ry" class="hash-link" aria-label="Direct link to 000236---ry" title="Direct link to 000236---ry">​</a></h5><p>Yeah, that&#x27;s crazy. I don&#x27;t personally remember when I first started using Postgres. I think it could have just been when I started using Ruby on Rails, I don&#x27;t know. But it&#x27;s funny, I don&#x27;t remember when I first used Linux or a lot of things, but it&#x27;s great that you have that distinct memory. You started in support, you&#x27;ve built some stuff. Now on top of it, tell me about the body of work you&#x27;ve done on Postgres or with Postgres. I&#x27;m curious to know what you&#x27;ve built.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000313---pavlo"><em>[00:03:13]<!-- --> - Pavlo</em><a href="#000313---pavlo" class="hash-link" aria-label="Direct link to 000313---pavlo" title="Direct link to 000313---pavlo">​</a></h5><p>So right now at Cybertec I&#x27;m a consultant, so my position called consultant, they called me consultant, but I prefer to think about myself as a developer. I&#x27;m not an Admin, I&#x27;m not a DBA, I&#x27;m a developer. So I&#x27;m mostly doing developing things for Postgres. I had a couple of small patches to these source, but I don&#x27;t consider them as major things. So I did some client libraries for Delphi if somebody still knows what it is, and later I switched to C, Go, Python, that kind of stuff. And right now I&#x27;m mostly develop with the Go language. And at the moment we have a couple of utilities made in Cybertec, so I&#x27;m in charge of them. So one of them is like pg_timetable, which is a scheduler for PostgresQL, and another is pg_watch which is a monitoring solution for Postgres.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000430---ry"><em>[00:04:30]<!-- --> - Ry</em><a href="#000430---ry" class="hash-link" aria-label="Direct link to 000430---ry" title="Direct link to 000430---ry">​</a></h5><p>Yeah. Yeah. What caught my attention was pg_timetable because I come from a company that my previous company was Apache Airflow. So the idea of doing dags jobs that are chained off of other jobs, to me, there&#x27;s no other way. Trying to schedule jobs and hope that they finish by the time of the next one, that&#x27;s dependent is something that people used to do and they should never, ever do anymore. But I&#x27;m sure it still happens. Right. So certainly if people are using pg_cron, no way to chain them, as far as I can see.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000511---pavlo"><em>[00:05:11]<!-- --> - Pavlo</em><a href="#000511---pavlo" class="hash-link" aria-label="Direct link to 000511---pavlo" title="Direct link to 000511---pavlo">​</a></h5><p>We had a client and we have a process, like, lasting, like 14, 15 hours consisting of many steps which are dependent in some complicated ways. So we used a make file to split them into the jobs and to specify that this stage must be executed after that. And that and that worked fine. It&#x27;s cool to have a special utility to run that kind of jobs or chains, whatever.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000556---ry"><em>[00:05:56]<!-- --> - Ry</em><a href="#000556---ry" class="hash-link" aria-label="Direct link to 000556---ry" title="Direct link to 000556---ry">​</a></h5><p>Yeah. Well, one of the things I think about a lot is how Postgres, the Postgres server is doing lots of jobs, right. I don&#x27;t know how many processes it&#x27;s dealing with, someone with better internal knowledges, but I know it&#x27;s certainly vacuuming. It&#x27;s certainly processing queries. It&#x27;s doing a lot of things right. And then question is I&#x27;m a fan of SRP single responsibility principle and programming in general, but I also like monoliths too. We all have conflicting ideas in our heads. And having a queue managed inside the Postgres, you&#x27;re kind of like straddling, right? Because you have a container next to it. So some of the work is happening over there, but some of it is inside of Postgres too. Why not have it all be inside? What are you thinking about for future versions of pg_timetable? Why not just do all the work inside of the running Postgres cluster?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000700---pavlo"><em>[00:07:00]<!-- --> - Pavlo</em><a href="#000700---pavlo" class="hash-link" aria-label="Direct link to 000700---pavlo" title="Direct link to 000700---pavlo">​</a></h5><p>So, yeah, thank you for the question because that was like, the second thought when we released the pg_timetable. So the idea is that PostgreSQL uses a separate process for everything. If you have a new connection, you need a new process. So if you have a background worker for cron or for another scheduler, you will need a background worker. A separate process. Yeah. It&#x27;s possible. We can create an extensions with Go. It&#x27;s possible, yes. But right now, I&#x27;m not sure what benefits we will have.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000758---ry"><em>[00:07:58]<!-- --> - Ry</em><a href="#000758---ry" class="hash-link" aria-label="Direct link to 000758---ry" title="Direct link to 000758---ry">​</a></h5><p>It also feels kind of gross, right, to think of throwing it all together. But I have this conversation all the time with my team. If you have a system that&#x27;s dependent on the Postgres, let&#x27;s say there&#x27;s an API, right? And the API, if the Postgres is only invoked when the API happens you could theoretically put all that compute into one bucket and just let the API talk to I&#x27;m thinking, like, say, take it&#x27;s a Rust API. Should you serve that Rust API as a separate container and have the separation of concerns? Or should you just create a custom Postgres extension and let the Rust run inside the Postgres cluster and there&#x27;s zero latency to the data in that regard, but it&#x27;s a little bit of a Frankenapp at that point. It&#x27;s a tricky problem.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000852---pavlo"><em>[00:08:52]<!-- --> - Pavlo</em><a href="#000852---pavlo" class="hash-link" aria-label="Direct link to 000852---pavlo" title="Direct link to 000852---pavlo">​</a></h5><p>I will tell you that, that I want to implement this scheduler as an extension for Postgres, not because I think that we will have some benefits, but because this is very interesting task for me as a developer, first of all.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000908---ry"><em>[00:09:08]<!-- --> - Ry</em><a href="#000908---ry" class="hash-link" aria-label="Direct link to 000908---ry" title="Direct link to 000908---ry">​</a></h5><p>Yeah. Is pg_timetable supported by any cloud providers right now?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000916---pavlo"><em>[00:09:16]<!-- --> - Pavlo</em><a href="#000916---pavlo" class="hash-link" aria-label="Direct link to 000916---pavlo" title="Direct link to 000916---pavlo">​</a></h5><p>Yeah, we can run pg_timetable against any cloud provider. If you want, you can run it in Docker and Kubernetes as a standalone binary, or even you can try to grab the source code and put it into this AWS fancy one time run and forget I don&#x27;t remember how they called it.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000946---ry"><em>[00:09:46]<!-- --> - Ry</em><a href="#000946---ry" class="hash-link" aria-label="Direct link to 000946---ry" title="Direct link to 000946---ry">​</a></h5><p>Yeah, but because it has the sidecar, it probably can&#x27;t be like a standard extension in RDS, for example.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000954---pavlo"><em>[00:09:54]<!-- --> - Pavlo</em><a href="#000954---pavlo" class="hash-link" aria-label="Direct link to 000954---pavlo" title="Direct link to 000954---pavlo">​</a></h5><p>Right, it might be, but I think to make this happen, we need to somehow communicate with AWS and make that happen. It&#x27;s more like politics, not yeah, well.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001010---ry"><em>[00:10:10]<!-- --> - Ry</em><a href="#001010---ry" class="hash-link" aria-label="Direct link to 001010---ry" title="Direct link to 001010---ry">​</a></h5><p>I think it&#x27;s also just like I don&#x27;t know if any of the other extensions that they offer have a sidecar requirement. Right. So that&#x27;s one of the things we&#x27;re thinking about at Tembo is like, let&#x27;s allow sidecars if you allow sidecars to extensions in our managed service yes. It&#x27;s like, again, it&#x27;s a lot more dangerous in the sense that there&#x27;s more things that could break, but it&#x27;s also more powerful. And if we had the rule that dangerous things are bad and you wouldn&#x27;t have a combustible engine inside of a car where little explosions are happening all the time to power it.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001050---pavlo"><em>[00:10:50]<!-- --> - Pavlo</em><a href="#001050---pavlo" class="hash-link" aria-label="Direct link to 001050---pavlo" title="Direct link to 001050---pavlo">​</a></h5><p>On the other hand, you can build your own image, right, and somehow to limit the binary in it to do some dangerous things, et cetera.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001102---ry"><em>[00:11:02]<!-- --> - Ry</em><a href="#001102---ry" class="hash-link" aria-label="Direct link to 001102---ry" title="Direct link to 001102---ry">​</a></h5><p>Yeah. I joke sometimes and say we&#x27;re building the dangerous Postgres just because it&#x27;s not really we support 150 extensions now, so it&#x27;s like, yeah, our support footprint is increased and scarier than if you had 75, but I still say it&#x27;s worth it to the developer to have the capability. So I&#x27;d love to get pg_timetable as a standard option. I want to use it, basically. What&#x27;s funny is I&#x27;m building a data warehouse right now for our company, and I started with pg_cron, and I have these four jobs that all start at the same time and it&#x27;s very early, so it&#x27;s not a problem. But I would love to have them be chained. Like I said, I could do that fake with some spacing things out, but I really feel like I&#x27;ve just stepped back 20 years into the world of early data processing. So I appreciate what you built and use it soon.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001208---pavlo"><em>[00:12:08]<!-- --> - Pavlo</em><a href="#001208---pavlo" class="hash-link" aria-label="Direct link to 001208---pavlo" title="Direct link to 001208---pavlo">​</a></h5><p>Okay. Let me know if you&#x27;re happy with it.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001211---ry"><em>[00:12:11]<!-- --> - Ry</em><a href="#001211---ry" class="hash-link" aria-label="Direct link to 001211---ry" title="Direct link to 001211---ry">​</a></h5><p>Yeah, I think it&#x27;s a good idea and it could also help developers avoid having to go pick up some other tool to take the next stage of their data processing, which to me is a big win. And we&#x27;re trying to make the Meme &quot;Postgres for everything.&quot; I know you are too, in a sense, because you built the extension. But yeah, I think there&#x27;s so much it can do, and it can do a lot more than just writing and reading data.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001254---pavlo"><em>[00:12:54]<!-- --> - Pavlo</em><a href="#001254---pavlo" class="hash-link" aria-label="Direct link to 001254---pavlo" title="Direct link to 001254---pavlo">​</a></h5><p>One more thing about having the pg_timetable as an external application is that you can use your own binaries inside jobs like baseql or pg_dump or something, like to grab something, to convert something, et cetera. So we want to have a possibility for developers to create their own docker images with the binaries or tools they only need and pg_timetable. So in this way it sounds like a Swiss knife, right? So I need a pg_timetable and a couple of utilities for grabbing something to manipulate with files, et cetera. And then we pack it and that&#x27;s all. We don&#x27;t need to think how we should allow the application to install it or to have it on the system version, et cetera, et cetera.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001358---ry"><em>[00:13:58]<!-- --> - Ry</em><a href="#001358---ry" class="hash-link" aria-label="Direct link to 001358---ry" title="Direct link to 001358---ry">​</a></h5><p>Yeah, basically what you&#x27;re saying is it gets even more dangerous quickly, right? Like the base use case is one thing, but then when people start doing some more wild things, including their own, it could be their own packages, right? Their own, of course, completely custom. Nobody knows what&#x27;s inside of it. It could be a bitcoin miner, it could be anything, right?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001423---pavlo"><em>[00:14:23]<!-- --> - Pavlo</em><a href="#001423---pavlo" class="hash-link" aria-label="Direct link to 001423---pavlo" title="Direct link to 001423---pavlo">​</a></h5><p>Yeah.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001426---ry"><em>[00:14:26]<!-- --> - Ry</em><a href="#001426---ry" class="hash-link" aria-label="Direct link to 001426---ry" title="Direct link to 001426---ry">​</a></h5><p>Are you working on the next version of it or is it pretty stable right now and doesn&#x27;t require a lot?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001432---pavlo"><em>[00:14:32]<!-- --> - Pavlo</em><a href="#001432---pavlo" class="hash-link" aria-label="Direct link to 001432---pavlo" title="Direct link to 001432---pavlo">​</a></h5><p>So at the moment we are stable. So we are open for ideas and then requests, et cetera. But at the moment we are fine, I believe. So it&#x27;s like in maintenance mode, so we update versions, packages, et cetera. So no new box. I&#x27;m happy with it.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001456---ry"><em>[00:14:56]<!-- --> - Ry</em><a href="#001456---ry" class="hash-link" aria-label="Direct link to 001456---ry" title="Direct link to 001456---ry">​</a></h5><p>Did you build it? Was it sort of a small team there or did you kind of build it solo?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001502---pavlo"><em>[00:15:02]<!-- --> - Pavlo</em><a href="#001502---pavlo" class="hash-link" aria-label="Direct link to 001502---pavlo" title="Direct link to 001502---pavlo">​</a></h5><p>So the initial idea was by Hans, our CEO, and yeah, that was my first project in Go. So I was trying to learn a new language to see how can I do this? And we are now here. That&#x27;s cool, I believe.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001536---ry"><em>[00:15:36]<!-- --> - Ry</em><a href="#001536---ry" class="hash-link" aria-label="Direct link to 001536---ry" title="Direct link to 001536---ry">​</a></h5><p>What were the biggest challenges would you say you faced while working, while building it? Was it hard to, for example, understand internals or was that part easy? I&#x27;m kind of curious what was toughest.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001549---pavlo"><em>[00:15:49]<!-- --> - Pavlo</em><a href="#001549---pavlo" class="hash-link" aria-label="Direct link to 001549---pavlo" title="Direct link to 001549---pavlo">​</a></h5><p>For me, I would say that the new tools that you need to use, like if you are familiar with your favorite IDE and then for Go language, you need to switch to something like Vs code or Go land or whatever. This is completely new tool for you. And you have no this muscular memory for shortcuts, et cetera, et cetera. It&#x27;s kind of difficult. Like six months I was trying to get used to new tooling, but after that I&#x27;m pretty happy.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001626---ry"><em>[00:16:26]<!-- --> - Ry</em><a href="#001626---ry" class="hash-link" aria-label="Direct link to 001626---ry" title="Direct link to 001626---ry">​</a></h5><p>Yeah, that&#x27;s so when was it that you started working on timetable? pg_timetable?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001635---pavlo"><em>[00:16:35]<!-- --> - Pavlo</em><a href="#001635---pavlo" class="hash-link" aria-label="Direct link to 001635---pavlo" title="Direct link to 001635---pavlo">​</a></h5><p>Maybe three years ago, something like that.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001639---ry"><em>[00:16:39]<!-- --> - Ry</em><a href="#001639---ry" class="hash-link" aria-label="Direct link to 001639---ry" title="Direct link to 001639---ry">​</a></h5><p>Yeah. Okay, well, that&#x27;s great. So have you guys implemented it many times now for customers or how has it been? I know it&#x27;s not a commercial product, but I assume it should be helping the consulting business, right? Yeah.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001658---pavlo"><em>[00:16:58]<!-- --> - Pavlo</em><a href="#001658---pavlo" class="hash-link" aria-label="Direct link to 001658---pavlo" title="Direct link to 001658---pavlo">​</a></h5><p>So it usually goes in a package with something. Usually if we have a new client, we are talking about high availability and we are talking about monitoring, and we are talking about that and that, and then we say, okay, we have a scheduler if you want it, and usually people want it. I don&#x27;t remember we have like a standalone cell for a pg_timetable. But yeah, it&#x27;s usually like packaged into something bigger, usually with a high availability and monitoring.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001733---ry"><em>[00:17:33]<!-- --> - Ry</em><a href="#001733---ry" class="hash-link" aria-label="Direct link to 001733---ry" title="Direct link to 001733---ry">​</a></h5><p>Got it. It’s like a sweetener, right? Cool. Well, maybe I&#x27;ll shift into some more general topics. I&#x27;d love to know what are some of the developments in Postgres ecosystem that you&#x27;re excited about?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001750---pavlo"><em>[00:17:50]<!-- --> - Pavlo</em><a href="#001750---pavlo" class="hash-link" aria-label="Direct link to 001750---pavlo" title="Direct link to 001750---pavlo">​</a></h5><p>So the Postgres itself, the core, I always want to constantly want to do something for the core, but.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001803---ry"><em>[00:18:03]<!-- --> - Ry</em><a href="#001803---ry" class="hash-link" aria-label="Direct link to 001803---ry" title="Direct link to 001803---ry">​</a></h5><p>It&#x27;s like you&#x27;re racking your brain around there.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001807---pavlo"><em>[00:18:07]<!-- --> - Pavlo</em><a href="#001807---pavlo" class="hash-link" aria-label="Direct link to 001807---pavlo" title="Direct link to 001807---pavlo">​</a></h5><p>The process itself is not like user friendly. First of all, you need to communicate through the email lists. No GitHub, no issues, no pull requests. And you need constantly update your patches because the development is very active, and you need to defend your patch against many people in the community because why you did it, what purpose, why you do it that way, not another. So that might take some time for.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001846---ry"><em>[00:18:46]<!-- --> - Ry</em><a href="#001846---ry" class="hash-link" aria-label="Direct link to 001846---ry" title="Direct link to 001846---ry">​</a></h5><p>Who are your favorite people in the Postgres ecosystem? You hate to play favorites, but people I should interview get to know anybody come to mind?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001856---pavlo"><em>[00:18:56]<!-- --> - Pavlo</em><a href="#001856---pavlo" class="hash-link" aria-label="Direct link to 001856---pavlo" title="Direct link to 001856---pavlo">​</a></h5><p>Yeah, a lot of them, frankly speaking. Well, I think that the community is the reason, number one, why I am still doing Postgres things. I was working like, for five years without knowing nobody from the community. And then in 2011, I was first time on the PG conference in Europe, in Amsterdam, and that changed my mind. Absolutely. I saw what the community is and what are the main things and why are those working that way and not another. So if you want names, so Bruce Momjian, for sure. Magnus Hagander, Ilya Kosmodemiansky, Vik Fearing, Andreas Scherbaum, a lot of them. Like Lætitia Avrot . A lot of them.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001959---ry"><em>[00:19:59]<!-- --> - Ry</em><a href="#001959---ry" class="hash-link" aria-label="Direct link to 001959---ry" title="Direct link to 001959---ry">​</a></h5><p>Well, I&#x27;ll reach out to those people. It&#x27;s obviously a very big community too, certainly, considering the extent, anyone who&#x27;s touching it is very excited. First, I&#x27;m going to the know, the New York City conference here in a couple of months. Yeah. So I&#x27;m excited to meet a bunch of people there. And we went to an event in San Jose last spring, which was fun. All right, so here&#x27;s another one. If you had a magic wand and you could add any feature to Postgres? What would you change about it or what would you add?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002039---pavlo"><em>[00:20:39]<!-- --> - Pavlo</em><a href="#002039---pavlo" class="hash-link" aria-label="Direct link to 002039---pavlo" title="Direct link to 002039---pavlo">​</a></h5><p>I don&#x27;t think that I can change something in a way that it will be a brick and change but I would like to see if we can implement Postgres using threads, not the processes. I would like to see if that might be better solution that we have now. I&#x27;m not sure.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002104---ry"><em>[00:21:04]<!-- --> - Ry</em><a href="#002104---ry" class="hash-link" aria-label="Direct link to 002104---ry" title="Direct link to 002104---ry">​</a></h5><p>It&#x27;s being debated, right?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002107---pavlo"><em>[00:21:07]<!-- --> - Pavlo</em><a href="#002107---pavlo" class="hash-link" aria-label="Direct link to 002107---pavlo" title="Direct link to 002107---pavlo">​</a></h5><p>Yeah, absolutely.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002108---ry"><em>[00:21:08]<!-- --> - Ry</em><a href="#002108---ry" class="hash-link" aria-label="Direct link to 002108---ry" title="Direct link to 002108---ry">​</a></h5><p>Yeah, we&#x27;ll see.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002109---pavlo"><em>[00:21:09]<!-- --> - Pavlo</em><a href="#002109---pavlo" class="hash-link" aria-label="Direct link to 002109---pavlo" title="Direct link to 002109---pavlo">​</a></h5><p>It&#x27;s a hot topic.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002110---ry"><em>[00:21:10]<!-- --> - Ry</em><a href="#002110---ry" class="hash-link" aria-label="Direct link to 002110---ry" title="Direct link to 002110---ry">​</a></h5><p>Hot topic, yeah. I did join the mailing list for a short period of time. I&#x27;m starting a company too and it just was too much. I was like, oh my gosh, this is a fire hose and someday I want to be able to have the time to consume it. But today wasn&#x27;t that day. Is there anything about Postgres that no one agrees with you about? Do you have any contrarian views about any part of it that you can think of?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002138---pavlo"><em>[00:21:38]<!-- --> - Pavlo</em><a href="#002138---pavlo" class="hash-link" aria-label="Direct link to 002138---pavlo" title="Direct link to 002138---pavlo">​</a></h5><p>Yeah, probably my views about the Windows because I was a Windows guy and I&#x27;m still a Windows guy and I&#x27;m always saying that we need to support Windows as well as we support Linux. So that means installers for Windows and extensions and tools, et cetera, et cetera. And people usually say, no, Linux is fine and that&#x27;s enough is enough.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002208---ry"><em>[00:22:08]<!-- --> - Ry</em><a href="#002208---ry" class="hash-link" aria-label="Direct link to 002208---ry" title="Direct link to 002208---ry">​</a></h5><p>Yeah, it&#x27;s interesting, it&#x27;s fun. I&#x27;m interested in a lot of different areas of programming. I was looking at, say, Unity, you know, game development and it&#x27;s C# and I&#x27;m like &quot;Ugh&quot; and it seems like very Windows centric and I&#x27;m like because I&#x27;m a Mac user and whatever. For me it&#x27;d be like Mac, Linux, Windows in terms of my priority but I&#x27;m like certainly not C#, right? But anyway, yeah, the religious wars will never end there, I guess, in terms of platforms.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002247---pavlo"><em>[00:22:47]<!-- --> - Pavlo</em><a href="#002247---pavlo" class="hash-link" aria-label="Direct link to 002247---pavlo" title="Direct link to 002247---pavlo">​</a></h5><p>The bad thing about our approach right now that I think that we don&#x27;t have enough good GUI programs for PostgreSQL every time we are using psql to show something to demo. And I think that for newbies it would be much easier to follow a demonstration if you use some fancy GUI application.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002315---ry"><em>[00:23:15]<!-- --> - Ry</em><a href="#002315---ry" class="hash-link" aria-label="Direct link to 002315---ry" title="Direct link to 002315---ry">​</a></h5><p>Well, it was great chatting. Where can listeners find you online? Are you on social media anywhere?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002323---pavlo"><em>[00:23:23]<!-- --> - Pavlo</em><a href="#002323---pavlo" class="hash-link" aria-label="Direct link to 002323---pavlo" title="Direct link to 002323---pavlo">​</a></h5><p>Yeah, I&#x27;m like on every kind of social media. Like GitHub, LinkedIn, Twitter, Instagram, Facebook, Blue Sky, Mastodon.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002336---ry"><em>[00:23:36]<!-- --> - Ry</em><a href="#002336---ry" class="hash-link" aria-label="Direct link to 002336---ry" title="Direct link to 002336---ry">​</a></h5><p>Great. All right, well, like I said, someday soon I&#x27;m going to try pg_timetable and I&#x27;ll give you some feedback and maybe some ideas in the GitHub and we&#x27;ll see you there, I suppose.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002347---pavlo"><em>[00:23:47]<!-- --> - Pavlo</em><a href="#002347---pavlo" class="hash-link" aria-label="Direct link to 002347---pavlo" title="Direct link to 002347---pavlo">​</a></h5><p>Sure. Thank you.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002348---ry"><em>[00:23:48]<!-- --> - Ry</em><a href="#002348---ry" class="hash-link" aria-label="Direct link to 002348---ry" title="Direct link to 002348---ry">​</a></h5><p>Great, great chatting with you. Thanks for joining.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002351---pavlo"><em>[00:23:51]<!-- --> - Pavlo</em><a href="#002351---pavlo" class="hash-link" aria-label="Direct link to 002351---pavlo" title="Direct link to 002351---pavlo">​</a></h5><p>Thank you. Thank you.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/postgres">postgres</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/hacking-postgres">hacking_postgres</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/hacking-postgres-ep3">Hacking Postgres, Ep. 3: Eric Ridge</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-20T00:00:00.000Z" itemprop="datePublished">October 20, 2023</time> · <!-- -->19 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ericankenman" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ericankenman.png" alt="Eric Ankenman"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ericankenman" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Eric Ankenman</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>In this episode, Ry and Eric talk about ZomboDB, the complicated road that led to the development of pgrx, and what it means for the future of extensions within Postgres. You can watch it below or listen to it on Apple/Spotify (or your podcast platform of choice). Special thanks to Eric for joining us today!</p><iframe width="560" height="315" src="https://www.youtube.com/embed/tD9e6KXnB20?si=sjZJEGyxhqE7x9U-" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe><p>Want to know more about something they mentioned? Here’s a starting point:</p><ul><li>ZomboDB - <a href="https://github.com/zombodb/zombodb" target="_blank" rel="noopener noreferrer">https://github.com/zombodb/zombodb</a></li><li>pgrx - <a href="https://github.com/pgcentralfoundation/pgrx" target="_blank" rel="noopener noreferrer">https://github.com/pgcentralfoundation/pgrx</a></li><li>plrust - <a href="https://github.com/tcdi/plrust" target="_blank" rel="noopener noreferrer">https://github.com/tcdi/plrust</a></li><li>Elasticsearch - <a href="https://www.elastic.co/elasticsearch/" target="_blank" rel="noopener noreferrer">https://www.elastic.co/elasticsearch/</a></li><li>Supabase wrappers - <a href="https://github.com/supabase/wrappers" target="_blank" rel="noopener noreferrer">https://github.com/supabase/wrappers</a></li><li>TCDI - <a href="https://www.tcdi.com/" target="_blank" rel="noopener noreferrer">https://www.tcdi.com/</a></li><li>PostGIS - <a href="https://postgis.net/" target="_blank" rel="noopener noreferrer">https://postgis.net/</a></li><li>postgres_fdw -<a href="https://www.postgresql.org/docs/current/postgres-fdw.html" target="_blank" rel="noopener noreferrer">https://www.postgresql.org/docs/current/postgres-fdw.html</a></li><li>Citus - <a href="https://www.citusdata.com/" target="_blank" rel="noopener noreferrer">https://www.citusdata.com/</a></li><li>Valgrind - <a href="https://valgrind.org/" target="_blank" rel="noopener noreferrer">https://valgrind.org/</a></li></ul><p>Did you enjoy the episode? Have ideas for someone else we should invite? Let us know your thoughts on X at <a href="https://twitter.com/tembo_io" target="_blank" rel="noopener noreferrer">@tembo_io</a> or share them with the team in our <a href="https://join.slack.com/t/tembocommunity/shared_invite/zt-23o25qt91-AnZoC1jhLMLubwia4GeNGw" target="_blank" rel="noopener noreferrer">Slack Community</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="transcript">Transcript<a href="#transcript" class="hash-link" aria-label="Direct link to Transcript" title="Direct link to Transcript">​</a></h2><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000012---ry"><em>[00:00:12]<!-- --> - Ry</em><a href="#000012---ry" class="hash-link" aria-label="Direct link to 000012---ry" title="Direct link to 000012---ry">​</a></h5><p>Hey, Eric. What&#x27;s going on, man?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000014---eric"><em>[00:00:14]<!-- --> - Eric</em><a href="#000014---eric" class="hash-link" aria-label="Direct link to 000014---eric" title="Direct link to 000014---eric">​</a></h5><p>Hi, Ry. How are you?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000015---ry"><em>[00:00:15]<!-- --> - Ry</em><a href="#000015---ry" class="hash-link" aria-label="Direct link to 000015---ry" title="Direct link to 000015---ry">​</a></h5><p>Long time no talk.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000016---eric"><em>[00:00:16]<!-- --> - Eric</em><a href="#000016---eric" class="hash-link" aria-label="Direct link to 000016---eric" title="Direct link to 000016---eric">​</a></h5><p>Yeah, it has been a while.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000018---ry"><em>[00:00:18]<!-- --> - Ry</em><a href="#000018---ry" class="hash-link" aria-label="Direct link to 000018---ry" title="Direct link to 000018---ry">​</a></h5><p>How are things going?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000019---eric"><em>[00:00:19]<!-- --> - Eric</em><a href="#000019---eric" class="hash-link" aria-label="Direct link to 000019---eric" title="Direct link to 000019---eric">​</a></h5><p>Well, I think.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000021---ry"><em>[00:00:21]<!-- --> - Ry</em><a href="#000021---ry" class="hash-link" aria-label="Direct link to 000021---ry" title="Direct link to 000021---ry">​</a></h5><p>Well, maybe let&#x27;s give our listeners a quick intro on what you&#x27;ve done. I mean, Eric Ridge is pretty much a household name in mean, in case there&#x27;s someone listening who doesn&#x27;t know what you&#x27;ve been working on. You want to give us a quick background on your involvement in postgres over the years?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000036---eric"><em>[00:00:36]<!-- --> - Eric</em><a href="#000036---eric" class="hash-link" aria-label="Direct link to 000036---eric" title="Direct link to 000036---eric">​</a></h5><p>I think a household name is absolutely not true. First of all, I&#x27;m Eric. I am the reason that this postgres extension name ZomboDB exists. And over the years of developing that, something that&#x27;s now called Pgrx kind of fell out of all that work that lets us develop extensions for postgres using the Rust programming language. And these things have been where my interest has been as it relates to postgres. I guess past seven, eight years now. Things ZomboDB has been out since 2015, so we&#x27;re right at eight years.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000114---ry"><em>[00:01:14]<!-- --> - Ry</em><a href="#000114---ry" class="hash-link" aria-label="Direct link to 000114---ry" title="Direct link to 000114---ry">​</a></h5><p>Do you know how many it&#x27;s at? An uncountable number of Rust extensions now, probably you probably at one point knew how many there were, but now you&#x27;ve lost track.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000124---eric"><em>[00:01:24]<!-- --> - Eric</em><a href="#000124---eric" class="hash-link" aria-label="Direct link to 000124---eric" title="Direct link to 000124---eric">​</a></h5><p>Yeah, that&#x27;s a good question. It&#x27;s hard to know. There&#x27;s no real clearinghouse around extensions.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000130---ry"><em>[00:01:30]<!-- --> - Ry</em><a href="#000130---ry" class="hash-link" aria-label="Direct link to 000130---ry" title="Direct link to 000130---ry">​</a></h5><p>If only there was, that would be a great thing for someone to build.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000133---eric"><em>[00:01:33]<!-- --> - Eric</em><a href="#000133---eric" class="hash-link" aria-label="Direct link to 000133---eric" title="Direct link to 000133---eric">​</a></h5><p>Yeah, it would. I wish somebody would get on that. Right. Yeah, that&#x27;s a good question. There&#x27;s some bigger names using Pgrx, and the Timescale is one. Supabase is one. We recently released plrust, and that&#x27;s found its way out on RDS. So that&#x27;s exciting for us. What we see popping up are small extensions that are written in Pgrx, and we see a lot of people writing I don&#x27;t want to call them one off extensions, but one off extensions that are just, like, specific to their business use case and solve some interesting data domain problem that only they would have. But now they have the ability to build that business logic or data manipulation or what have you into their database and into the database itself.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000227---ry"><em>[00:02:27]<!-- --> - Ry</em><a href="#000227---ry" class="hash-link" aria-label="Direct link to 000227---ry" title="Direct link to 000227---ry">​</a></h5><p>Without having to go find a C programmer that&#x27;s willing to do such work. Right?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000231---eric"><em>[00:02:31]<!-- --> - Eric</em><a href="#000231---eric" class="hash-link" aria-label="Direct link to 000231---eric" title="Direct link to 000231---eric">​</a></h5><p>Yeah. And that was one of the motivators for developing Pgrx, was I guess I had been working on postgres extensions in some form or fashion since postgres 8.0, and I think that was even before the extension packaging and create extension command and all that came into existence not long before. But I think that that was before and yeah, I mean, just over the years, I got tired of working in C. When you&#x27;re developing a postgres extension in C, you&#x27;re not only putting on your C programmer hat, but you&#x27;re trying to put on the hat of a postgres hacker. Right. You need to understand postgres sources just as much as you do the language itself. So Rust was becoming a popular a number of years ago. So I was like, you know what, I&#x27;m going to try to do this.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000322---ry"><em>[00:03:22]<!-- --> - Ry</em><a href="#000322---ry" class="hash-link" aria-label="Direct link to 000322---ry" title="Direct link to 000322---ry">​</a></h5><p>Well, it&#x27;s interesting. It&#x27;s like how a lot of games, if they have mods, the language for the mods has to be easier than the language for the core game. Right. So a game might be written in something like Unity, but then they give you, like, Lua as a tool or JavaScript or something simple to build. But in Postgres, that wasn&#x27;t true. Now, is Rust as simple as Lua or JavaScript? Maybe not, but it&#x27;s still like very beloved people who try to learn it. In my experience so far, it&#x27;s 100% like anyone who tries to learn Rust learns it and loves it. I haven&#x27;t found someone yet and I have a small sample size, but, yeah, seems like it&#x27;s a pretty good hit rate in terms of the perfect mix of control and speed with the ease of onboarding.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000410---eric"><em>[00:04:10]<!-- --> - Eric</em><a href="#000410---eric" class="hash-link" aria-label="Direct link to 000410---eric" title="Direct link to 000410---eric">​</a></h5><p>If you&#x27;re not a C programmer, then writing the postgres extension in C is going to be difficult again, because C and then also because you&#x27;re really programming Postgres&#x27;s version of C, which is great, but it&#x27;s not JavaScript, it&#x27;s not Ruby, it&#x27;s not Java. If you&#x27;re not a Rust programmer, first you&#x27;ve got to learn Rust, and Rust is different enough from all the other languages to make that a point. But what we&#x27;re trying to do with Pgrx, and it&#x27;s going to be a multi year effort to do this, it may never get done, but we&#x27;re trying to present the postgres internals in the most idiomatic way possible to Rust. Right. So that if you are a Rust programmer or you are beginning to learn Rust, it&#x27;ll be pretty obvious what you need to do in order to make your postgres extension useful.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000510---ry"><em>[00:05:10]<!-- --> - Ry</em><a href="#000510---ry" class="hash-link" aria-label="Direct link to 000510---ry" title="Direct link to 000510---ry">​</a></h5><p>So you said you were working on extensions as early as Postgres Eight. Were you a Postgres user or our developer even earlier than that, or was that sort of when you got involved?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000521---eric"><em>[00:05:21]<!-- --> - Eric</em><a href="#000521---eric" class="hash-link" aria-label="Direct link to 000521---eric" title="Direct link to 000521---eric">​</a></h5><p>Yeah, Postgres user, I think we started using Postgres at work in the year 2000 and that might have been I mean, is that 7.1, 7.2? It&#x27;s quite a long time ago and we&#x27;ve been using it every day since. And, yeah, somewhere along the way we needed to do some work inside the database. So here we are today.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000546---ry"><em>[00:05:46]<!-- --> - Ry</em><a href="#000546---ry" class="hash-link" aria-label="Direct link to 000546---ry" title="Direct link to 000546---ry">​</a></h5><p>Yeah. For me, when I think about when did I start using Postgres, it&#x27;s like thinking about when did I first start using a laptop, it&#x27;s like I don&#x27;t remember exactly when, but definitely transitioned to having a laptop at some point. But, yeah, it didn&#x27;t seem monumental to start using Postgres back then, but obviously it&#x27;s come a long way and it&#x27;s a pretty exciting ecosystem right now. So, yeah. What do you think the most powerful thing about extensions are? Do you have any thoughts on what are the most powerful things you can do with extensions, out of curiosity?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000619---eric"><em>[00:06:19]<!-- --> - Eric</em><a href="#000619---eric" class="hash-link" aria-label="Direct link to 000619---eric" title="Direct link to 000619---eric">​</a></h5><p>It&#x27;s an interesting question.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000621---ry"><em>[00:06:21]<!-- --> - Ry</em><a href="#000621---ry" class="hash-link" aria-label="Direct link to 000621---ry" title="Direct link to 000621---ry">​</a></h5><p>What&#x27;s the coolest part of, I guess what API? Or maybe another good question is what hasn&#x27;t been exposed yet that should be or needs to be in Pgrx? That would be powerful.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000632---eric"><em>[00:06:32]<!-- --> - Eric</em><a href="#000632---eric" class="hash-link" aria-label="Direct link to 000632---eric" title="Direct link to 000632---eric">​</a></h5><p>Yeah, I&#x27;ll start there and then work backwards. There&#x27;s a lot of internal APIs within Postgres, and there&#x27;s a number of interesting ones. There&#x27;s the index access method API, which is really easy to implement. We haven&#x27;t added safe wrappers around that to Pgrx, but it&#x27;s real easy to implement. It&#x27;s really just a handful of functions. There&#x27;s the Foreign Data Wrapper API, which Supabase released a project that they call Wrappers that&#x27;ll let you create foreign data wrappers using Rust backed up by Pgrx. So kind of the next big API around that genre of internals. There would be the Table Access Method APIs, and we haven&#x27;t exposed these at all yet. They&#x27;re actually difficult to get at even through our bindings just because of the way they&#x27;re set up in the postgres sources. So when we get around to doing that, and I hope that we will, there&#x27;s going to be some development effort on our part to safely expose these or safely expose the Table Access Method APIs. But that&#x27;s the API that would let you write your own heap storage engineer system in Rust.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000749---ry"><em>[00:07:49]<!-- --> - Ry</em><a href="#000749---ry" class="hash-link" aria-label="Direct link to 000749---ry" title="Direct link to 000749---ry">​</a></h5><p>Tell me about I mean, probably not everybody knows what ZomboDB is. Maybe quickly describe what it does and what it doesn&#x27;t do and what&#x27;s coming next with it.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000759---eric"><em>[00:07:59]<!-- --> - Eric</em><a href="#000759---eric" class="hash-link" aria-label="Direct link to 000759---eric" title="Direct link to 000759---eric">​</a></h5><p>Yeah, it&#x27;s the worst named software product.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000803---ry"><em>[00:08:03]<!-- --> - Ry</em><a href="#000803---ry" class="hash-link" aria-label="Direct link to 000803---ry" title="Direct link to 000803---ry">​</a></h5><p>First off, why&#x27;d you call it Zombo, everyone wants to know.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000806---eric"><em>[00:08:06]<!-- --> - Eric</em><a href="#000806---eric" class="hash-link" aria-label="Direct link to 000806---eric" title="Direct link to 000806---eric">​</a></h5><p>I think, Ry, you&#x27;re old enough to remember Zombo.com. If you don&#x27;t remember it, then that just means you weren&#x27;t playing on the internet. You&#x27;re probably doing real work. It still exists so listeners can go and check it out, but the name just came from that. So ZomboDB is a postgres extension, and it&#x27;s been through numerous iterations over the past eight years, but it has always been postgres extension that lets you create an index on a table that&#x27;s backed by Elasticsearch. Typically the usage pattern is you create the index indexing all of the columns in the table and you point it to an Elasticsearch endpoint over Http or Https, and the ZomboDB keeps that index up to date. It keeps the index MVCC correct. All of your search results are you only see results that would otherwise be visible within the executing transaction has its own query language for doing full text queries, so users don&#x27;t have to learn the Elasticsearch query DSL, which is pretty intense.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000914---ry"><em>[00:09:14]<!-- --> - Ry</em><a href="#000914---ry" class="hash-link" aria-label="Direct link to 000914---ry" title="Direct link to 000914---ry">​</a></h5><p>Can you use the Elasticsearch DSL with it, though?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000917---eric"><em>[00:09:17]<!-- --> - Eric</em><a href="#000917---eric" class="hash-link" aria-label="Direct link to 000917---eric" title="Direct link to 000917---eric">​</a></h5><p>You can, and there&#x27;s a number of ways to do that. The query language itself allows you to just insert as part of an expression. You can insert a JSON block to represent a query DSL node. There&#x27;s a full set of SQL builder functions, so you can build query DSL through SQL statements. You can mix and match these things together. It&#x27;s pretty sophisticated on that front, and it also exposes nearly all of Elasticsearch&#x27;s aggregate endpoints to enable you to do really interesting aggregations with your full text. And since all the fields of a table are also stored in the Elasticsearch index, you can do some really interesting things that involve full text queries and aggregating on various metadata fields and do all this with a large distributed elastic search cluster behind the scenes and do it in near real time. It&#x27;s really slick. The downside to ZomboDB is that you now have an Elastic search cluster running alongside your postgres cluster. And ES is a living breathing system. It requires significant attention and maintenance in production. It gives you a lot of capabilities to scale out horizontally very easily, but it is its own living breathing system there.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001042---ry"><em>[00:10:42]<!-- --> - Ry</em><a href="#001042---ry" class="hash-link" aria-label="Direct link to 001042---ry" title="Direct link to 001042---ry">​</a></h5><p>Yeah, it&#x27;d be great if you can build a version of this without requiring elastic.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001046---eric"><em>[00:10:46]<!-- --> - Eric</em><a href="#001046---eric" class="hash-link" aria-label="Direct link to 001046---eric" title="Direct link to 001046---eric">​</a></h5><p>Yeah, I know a guy that&#x27;s working on that. I know a company that&#x27;s working.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001050---ry"><em>[00:10:50]<!-- --> - Ry</em><a href="#001050---ry" class="hash-link" aria-label="Direct link to 001050---ry" title="Direct link to 001050---ry">​</a></h5><p>Yeah, someday that&#x27;d be possible.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001053---eric"><em>[00:10:53]<!-- --> - Eric</em><a href="#001053---eric" class="hash-link" aria-label="Direct link to 001053---eric" title="Direct link to 001053---eric">​</a></h5><p>Yeah, well, you had asked where the name came from and I said all that to say that the name came from. Once we kind of got ZomboDB working, we were like, whoa, it&#x27;s really amazing what you can do with this and how easy it is to use. And one of the mantras from Zombo.com is the only limit is yourself. And ZomboDB really kind of makes it feel that way because it makes querying your data, especially real dense text data, just super simple.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001126---ry"><em>[00:11:26]<!-- --> - Ry</em><a href="#001126---ry" class="hash-link" aria-label="Direct link to 001126---ry" title="Direct link to 001126---ry">​</a></h5><p>And so you use Zombo pretty aggressively within TCDI, which is where you work, right?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001133---eric"><em>[00:11:33]<!-- --> - Eric</em><a href="#001133---eric" class="hash-link" aria-label="Direct link to 001133---eric" title="Direct link to 001133---eric">​</a></h5><p>Yeah, TCDI is my employer. Yeah. We&#x27;ve had Zombo in production since 2013 and we didn&#x27;t open source until 2015. Yeah, I don&#x27;t want to give away numbers, but we have more ZomboDB installations and Elasticsearch instances than we probably want.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001153---ry"><em>[00:11:53]<!-- --> - Ry</em><a href="#001153---ry" class="hash-link" aria-label="Direct link to 001153---ry" title="Direct link to 001153---ry">​</a></h5><p>Is it sort of a competitive advantage for the business? The power that I know, you guys, it&#x27;s like legal documents. I might get it wrong, but like searching legal documents to some degree, right? Is it a competitive advantage for the business? The fact that Zombo is inside, would you say?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001208---eric"><em>[00:12:08]<!-- --> - Eric</em><a href="#001208---eric" class="hash-link" aria-label="Direct link to 001208---eric" title="Direct link to 001208---eric">​</a></h5><p>Yeah, absolutely. Our industry is ediscovery litigation support and among many other areas within that domain, searching large volumes of text is a key thing. And we&#x27;re the only player in our industry that has text search capabilities to the degree that we do. And I&#x27;m not going to go name or other competitors or anything, but their abilities to do complicated text search that involves fuzzy queries plus regular expressions, plus boolean expressions, plus long tail proximity queries hit highlighting it&#x27;s our abilities to do that just far exceed our competitors because of ZomboDB, because of postgres, and because of Elasticsearch.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001255---ry"><em>[00:12:55]<!-- --> - Ry</em><a href="#001255---ry" class="hash-link" aria-label="Direct link to 001255---ry" title="Direct link to 001255---ry">​</a></h5><p>Do you use the extension in both transactional use cases as well as analytical? Or is it mostly just powering the search bar inside the product or is there some back end? I guess I call it like analytical type use cases for it as well.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001312---eric"><em>[00:13:12]<!-- --> - Eric</em><a href="#001312---eric" class="hash-link" aria-label="Direct link to 001312---eric" title="Direct link to 001312---eric">​</a></h5><p>Yeah. So with postgres. Right. Everything is transactional.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001315---ry"><em>[00:13:15]<!-- --> - Ry</em><a href="#001315---ry" class="hash-link" aria-label="Direct link to 001315---ry" title="Direct link to 001315---ry">​</a></h5><p>Yeah.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001316---eric"><em>[00:13:16]<!-- --> - Eric</em><a href="#001316---eric" class="hash-link" aria-label="Direct link to 001316---eric" title="Direct link to 001316---eric">​</a></h5><p>We expose search in a very complex manner. I guess, to our users. Users, it&#x27;s much more than just a search box. They can search by particular fields and design proximity queries, and they can do term lookups. They can create real time dashboards and whatnot through our software. That&#x27;s all backed by ZomboDB. One interesting use case is in the world of litigation. The plaintiffs will provide the defendants with a list of keywords that need to be searched in order to find documents that are responsive to particular to these topics. And these keywords are sometimes just literally a keyword one word. Sometimes they&#x27;re phrases, sometimes they&#x27;re wild card terms. Sometimes they&#x27;re phrases with embedded wildcards. Sometimes they&#x27;re patterns that need to be recognized. And so, like an analytics side of what we use ZomboDB for is taking these ginormous lists of things and kicking it off and getting back a list of the 6 million documents out of the 200 million that might match this set of keywords that the plaintiffs have requested production for.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001425---ry"><em>[00:14:25]<!-- --> - Ry</em><a href="#001425---ry" class="hash-link" aria-label="Direct link to 001425---ry" title="Direct link to 001425---ry">​</a></h5><p>Yeah, that&#x27;s intense. Could see the power of that. What are your other favorite extensions? Probably all the other ones you&#x27;ve made, but give me your top five postgres extensions. zombos, one. What are a couple of others that you like?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001439---eric"><em>[00:14:39]<!-- --> - Eric</em><a href="#001439---eric" class="hash-link" aria-label="Direct link to 001439---eric" title="Direct link to 001439---eric">​</a></h5><p>I don&#x27;t use PostGIS or PostGIS, but I am super impressed with it. I think of it as kind of like the gold standard of what a postgres extension ought to look like. ZomboDB does integrate with it, but the data world that I live in doesn&#x27;t involve the need to do geographical type queries. But I&#x27;ve always been really impressed with it. I think the postgres foreign data wrapper as an extension is really great, and that comes from the core community, but pretty impressed with that. Citus has always been interesting to me. I guess they&#x27;ve long since been bought out by Microsoft and are still going strong. I think that Citus really shows off the power of what a postgres extension can do, and it also shows off the power of having committers on the hackers and hackers to be able to help move the extension system in postgres forward so that you can then implement something like Citus on top of it.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001536---ry"><em>[00:15:36]<!-- --> - Ry</em><a href="#001536---ry" class="hash-link" aria-label="Direct link to 001536---ry" title="Direct link to 001536---ry">​</a></h5><p>When they were building that, did they have to add things to extensions in order to build that? I don&#x27;t know the whole history of Citus, but was that kind of like.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001546---eric"><em>[00:15:46]<!-- --> - Eric</em><a href="#001546---eric" class="hash-link" aria-label="Direct link to 001546---eric" title="Direct link to 001546---eric">​</a></h5><p>Yeah, they&#x27;ve had a number of changes in postgres, I think, especially in the planner and executor to be able to support the ability to extend it better. And I think some of that came from the original Citus company people. That&#x27;s great, right?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001603---ry"><em>[00:16:03]<!-- --> - Ry</em><a href="#001603---ry" class="hash-link" aria-label="Direct link to 001603---ry" title="Direct link to 001603---ry">​</a></h5><p>Yeah, that&#x27;s awesome.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001605---eric"><em>[00:16:05]<!-- --> - Eric</em><a href="#001605---eric" class="hash-link" aria-label="Direct link to 001605---eric" title="Direct link to 001605---eric">​</a></h5><p>What I like to see are people using Pgrx to just solve a problem that they have with their application. I see things like somebody just needed to talk to an S3 bucket, and so they put together a little Pgrx extension to do that. Little things like that are what get me excited about Postgres extensions.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001626---ry"><em>[00:16:26]<!-- --> - Ry</em><a href="#001626---ry" class="hash-link" aria-label="Direct link to 001626---ry" title="Direct link to 001626---ry">​</a></h5><p>Yeah, it&#x27;s pretty timely. I have a co-op that started literally today. Shout out to Jay and I told him to build a clerk FDW using the Supabase Wrappers SDK. And he&#x27;s like, what the hell do you say to me? Just try read the docs, we&#x27;ll see where it goes. But I&#x27;ll report back how that goes. But yeah, Clerk, we&#x27;re using Clerk for Auth for our company, and I just need a simple read access to three collections. So I figure he should be able to get it done by the end of the day, but I might be pushing too hard.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001700---eric"><em>[00:17:00]<!-- --> - Eric</em><a href="#001700---eric" class="hash-link" aria-label="Direct link to 001700---eric" title="Direct link to 001700---eric">​</a></h5><p>Well, it&#x27;s possible. And that&#x27;s a great example of where having a simple framework for making an extension is really powerful. Right. I mean, once you figure out the documentation and how to tie the two things together, it probably is just an afternoon&#x27;s worth of work. And now you&#x27;ve got something that solves a problem and you can move on.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001721---ry"><em>[00:17:21]<!-- --> - Ry</em><a href="#001721---ry" class="hash-link" aria-label="Direct link to 001721---ry" title="Direct link to 001721---ry">​</a></h5><p>Yeah, I figure his second one maybe will take an afternoon, first one might take a few days, but we&#x27;ll see.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001726---eric"><em>[00:17:26]<!-- --> - Eric</em><a href="#001726---eric" class="hash-link" aria-label="Direct link to 001726---eric" title="Direct link to 001726---eric">​</a></h5><p>Well, sure, yeah.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001728---ry"><em>[00:17:28]<!-- --> - Ry</em><a href="#001728---ry" class="hash-link" aria-label="Direct link to 001728---ry" title="Direct link to 001728---ry">​</a></h5><p>Well, that&#x27;s great. Yeah, we&#x27;re super excited, obviously, by all the possibilities that Pgrx brings to Postgres, and the great work you guys have done historically to get us to this point is much appreciated.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001742---eric"><em>[00:17:42]<!-- --> - Eric</em><a href="#001742---eric" class="hash-link" aria-label="Direct link to 001742---eric" title="Direct link to 001742---eric">​</a></h5><p>Well, thanks. That&#x27;s one of the reasons why we, TCDI donated Pgrx to the PG Central Foundation is to provide it a long term home for the Postgres community. TCDI is a litigation support company. We&#x27;re not a database company, so to speak. So we wanted to get this stuff in the hands of a foundation that can help shepherd it forward and make sure that it can survive.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001809---ry"><em>[00:18:09]<!-- --> - Ry</em><a href="#001809---ry" class="hash-link" aria-label="Direct link to 001809---ry" title="Direct link to 001809---ry">​</a></h5><p>I imagine you have some open issues there that you could use help with. They&#x27;re probably pretty hard to do, right? Like building a framework is a lot harder to building a thing with a framework. But are you looking for additional help from people to build out Pgrx?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001823---eric"><em>[00:18:23]<!-- --> - Eric</em><a href="#001823---eric" class="hash-link" aria-label="Direct link to 001823---eric" title="Direct link to 001823---eric">​</a></h5><p>Yeah, for sure. I can&#x27;t even tell you off the top of my head how many contributions we&#x27;ve had over the past four years that Pgrx has been alive. And it seems like every couple of weeks somebody new comes by with a new contribution. But yeah, one of the things that we&#x27;re focused on right now is I guess it&#x27;s two things kind of concurrently. One is we&#x27;re improving Pgrx, is testing fundamentals, and it&#x27;s both tying in more interesting things in CI like Valgrind, to different approaches to unit testing, which includes we&#x27;re doing a big push on property testing right now within Pgrx. I think there&#x27;s going to be some pull request landing in the next week or so with that. And we&#x27;re also focused on improving some of the memory safety and soundness impedance mismatches between Postgres internals and Rust&#x27;s compiler. So it&#x27;s a big concerted effort to take a look at these issues.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001925---ry"><em>[00:19:25]<!-- --> - Ry</em><a href="#001925---ry" class="hash-link" aria-label="Direct link to 001925---ry" title="Direct link to 001925---ry">​</a></h5><p>Well, it seems like contributing to Pgrx could be like a gateway drug towards getting closer to helping with postgres itself. Right. Because you need to understand the internals to do anything in know, at least unless you&#x27;re working on tests or yeah, I mean in general, adding new features to Pgrx means understanding postgres well enough to create that interface, which is big challenge.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001948---eric"><em>[00:19:48]<!-- --> - Eric</em><a href="#001948---eric" class="hash-link" aria-label="Direct link to 001948---eric" title="Direct link to 001948---eric">​</a></h5><p>It does. And we myself and the others that on the decor development team there, we spend probably as much time in the postgres sources as we do actually writing code for it in.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002003---ry"><em>[00:20:03]<!-- --> - Ry</em><a href="#002003---ry" class="hash-link" aria-label="Direct link to 002003---ry" title="Direct link to 002003---ry">​</a></h5><p>You guys. If you come up with a big new release of Pgrx or any other extensions that you can think of, I&#x27;d love to have you back. Eric, it was great catching up with you.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002012---eric"><em>[00:20:12]<!-- --> - Eric</em><a href="#002012---eric" class="hash-link" aria-label="Direct link to 002012---eric" title="Direct link to 002012---eric">​</a></h5><p>Yeah, sure. Likewise. Thank you so much for having me.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/postgres">postgres</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/hacking-postgres">hacking_postgres</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/blog/tags/postgres/page/2"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a href="https://tembo.breezy.hr/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://pgt.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Trunk<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a class="footer__link-item" href="/docs">Docs</a><span class="footer__link-separator">·</span><a href="https://twitter.com/tembo_io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://www.linkedin.com/company/tembo-inc/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Tembo. All Rights Reserved</div></div></div></footer></div>
<script src="/assets/js/runtime~main.ef584dc9.js"></script>
<script src="/assets/js/main.75ceccb8.js"></script>
</body>
</html>