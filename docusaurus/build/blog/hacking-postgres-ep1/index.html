<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Hacking Postgres Ep. 1: Marco Slot | Tembo</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://tembo.io/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://tembo.io/img/social-card.png"><meta data-rh="true" property="og:url" content="https://tembo.io/blog/hacking-postgres-ep1"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Hacking Postgres Ep. 1: Marco Slot | Tembo"><meta data-rh="true" name="description" content="Episode Notes"><meta data-rh="true" property="og:description" content="Episode Notes"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-10-16T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/ericankenman"><meta data-rh="true" property="article:tag" content="postgres,hacking_postgres"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://tembo.io/blog/hacking-postgres-ep1"><link data-rh="true" rel="alternate" href="https://tembo.io/blog/hacking-postgres-ep1" hreflang="en"><link data-rh="true" rel="alternate" href="https://tembo.io/blog/hacking-postgres-ep1" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Tembo RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Tembo Atom Feed">





<script id="hs-script-loader" src="//js.hs-scripts.com/23590420.js"></script>
<link rel="preconnect" href="https://cdn.segment.io">
<script>!function(){var e=window.analytics=window.analytics||[];if(!e.initialize)if(e.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{e.invoked=!0,e.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"],e.factory=function(t){return function(){if(window.analytics.initialized)return window.analytics[t].apply(window.analytics,arguments);var n=Array.prototype.slice.call(arguments);return n.unshift(t),e.push(n),e}};for(var t=0;t<e.methods.length;t++){var n=e.methods[t];e[n]=e.factory(n)}e.load=function(t,n){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(a,i),e._loadOptions=n},e._writeKey="YT4AfD2TuYaN7DiGR20tAnstYP1ujjyE",e.SNIPPET_VERSION="4.16.1",e.load("YT4AfD2TuYaN7DiGR20tAnstYP1ujjyE"),e.page()}}()</script>
<link key="docusaurus-plugin-plausible-preconnect" rel="preconnect" href="https://plausible.io">
<script key="docusaurus-plugin-plausible-script" async defer="defer" data-domain="tembo.io" src="https://plausible.io/js/plausible.js"></script>
<script key="docusaurus-plugin-plausible-custom-events">window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)}</script>

<script>prefinery=window.prefinery||function(){(window.prefinery.q=window.prefinery.q||[]).push(arguments)}</script>
<script src="https://widget.prefinery.com/widget/v2/yisnnyak.js" defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.92bb70b2.css">
<link rel="preload" href="/assets/js/runtime~main.ef584dc9.js" as="script">
<link rel="preload" href="/assets/js/main.75ceccb8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/title-logo.svg" alt="Tembo Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/title-logo.svg" alt="Tembo Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" href="/docs">Docs</a><a class="navbar__item navbar__link" target="_blank" href="/blog">Blog</a><a href="https://cloud.tembo.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Tembo Cloud<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/tembo-io/tembo-stacks" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/hacking-postgres-ep8">Hacking Postgres, Ep. 8: Philippe Noël</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/pgmq-self-regulating-queue">PGMQ: Lightweight Message Queue on Postgres with No Background Worker</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/hacking-postgres-ep7">Hacking Postgres Ep. 7: Burak Yucesoy</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/tembo-operator-apps">Application Services: Helping Postgres Do More, Faster</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/hacking-postgres-ep6">Hacking Postgres, Ep. 6: Regina Obe and Paul Ramsey</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/tembo-operator">Tembo Operator: A Rust-based Kubernetes Operator for Postgres</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/anon-dump">Anonymized dump of your Postgres data</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/hacking-postgres-ep5">Hacking Postgres, Ep. 5: Alexander Korotkov</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/hacking-postgres-ep4">Hacking Postgres, Ep. 4: Pavlo Golub</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/hacking-postgres-ep3">Hacking Postgres, Ep. 3: Eric Ridge</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/hacking-postgres-ep2">Hacking Postgres, Ep. 2: Adam Hendel</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/pgvector-and-embedding-solutions-with-postgres">Unleashing the power of vector embeddings with PostgreSQL</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/hacking-postgres-ep1">Hacking Postgres Ep. 1: Marco Slot</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/introducing-terraform-provider-for-tembo">Introducing Terraform Provider for Tembo</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/clerk-fdw">Unlocking value from your Clerk User Management platform with Postgres</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/table-version-history">Version History and Lifecycle Policies for Postgres Tables</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/postgres-extension-in-rust-pgmq">Anatomy of a Postgres extension written in Rust: pgmq</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/postgres-16">Postgres 16: The exciting and the unnoticed</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/four-types-of-extensions">Enter the matrix: the four types of Postgres extensions</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/tembo-stacks-intro">Tembo Stacks: Making Postgres the Everything Database</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/optimizing-postgres-auto-vacuum">Optimizing Postgres&#x27;s Autovacuum for High-Churn Tables</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/pgmq-with-python">Using pgmq with Python</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/introducing-pg-later">Introducing pg_later: Asynchronous Queries for Postgres, Inspired by Snowflake</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/introducing-pgmq">Introducing PGMQ: Simple Message Queues built on Postgres</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/tembo-manifesto">Tembo Manifesto</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/introducing-tembo">Introducing Tembo</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">Hacking Postgres Ep. 1: Marco Slot</h1><div class="container_mt6G margin-vert--md"><time datetime="2023-10-16T00:00:00.000Z" itemprop="datePublished">October 16, 2023</time> · <!-- -->26 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ericankenman" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ericankenman.png" alt="Eric Ankenman"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ericankenman" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Eric Ankenman</span></a></div></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="episode-notes">Episode Notes<a href="#episode-notes" class="hash-link" aria-label="Direct link to Episode Notes" title="Direct link to Episode Notes">​</a></h2><p>In this episode, Ry and Marco talk about the early days of Citus and its development, creating pg_cron (on a plane!), and the new possibilities on the horizon for extensions in the Postgres landscape. If you haven’t seen or listened to it yet, you can play the video below, or listen on Apple/Spotify (or your podcast platform of choice). Special thanks to Marco for joining us today!</p><iframe width="560" height="315" src="https://www.youtube.com/embed/UxUrn6bKDfU?si=JMm_cMMPToh1K2KK" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe><p>Want to know more about something they mentioned? Here’s a starting point:</p><ul><li>CloudFront - <a href="https://aws.amazon.com/cloudfront/" target="_blank" rel="noopener noreferrer">https://aws.amazon.com/cloudfront/</a></li><li>Citus - <a href="https://www.citusdata.com/" target="_blank" rel="noopener noreferrer">https://www.citusdata.com/</a></li><li>pg_cron - <a href="https://github.com/citusdata/pg_cron" target="_blank" rel="noopener noreferrer">https://github.com/citusdata/pg_cron</a></li><li>pg_timetable - <a href="https://github.com/cybertec-postgresql/pg_timetable" target="_blank" rel="noopener noreferrer">https://github.com/cybertec-postgresql/pg_timetable</a></li><li>pgrx - <a href="https://github.com/pgcentralfoundation/pgrx" target="_blank" rel="noopener noreferrer">https://github.com/pgcentralfoundation/pgrx</a></li><li>PostGIS - <a href="https://postgis.net/" target="_blank" rel="noopener noreferrer">https://postgis.net/</a></li><li>PostgresML - <a href="https://postgresml.org/" target="_blank" rel="noopener noreferrer">https://postgresml.org/</a></li><li>pgvector - <a href="https://github.com/pgvector/pgvector" target="_blank" rel="noopener noreferrer">https://github.com/pgvector/pgvector</a></li><li>pg_embedding - <a href="https://github.com/neondatabase/pg_embedding" target="_blank" rel="noopener noreferrer">https://github.com/neondatabase/pg_embedding</a></li></ul><p>Did you enjoy the episode? Have ideas for someone else we should invite? Let us know your thoughts on X at <a href="https://twitter.com/tembo_io" target="_blank" rel="noopener noreferrer">@tembo_io</a> or share them with the team in our <a href="https://join.slack.com/t/tembocommunity/shared_invite/zt-23o25qt91-AnZoC1jhLMLubwia4GeNGw" target="_blank" rel="noopener noreferrer">Slack Community</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="transcript">Transcript<a href="#transcript" class="hash-link" aria-label="Direct link to Transcript" title="Direct link to Transcript">​</a></h2><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000012---ry"><em>[00:00:12]<!-- --> - Ry</em><a href="#000012---ry" class="hash-link" aria-label="Direct link to 000012---ry" title="Direct link to 000012---ry">​</a></h5><p>Welcome to Hacking Postgres. Today we have Marco Slot joining us. I&#x27;m meeting Marco for the first time today. I&#x27;m super excited to be meeting you, Marco. Welcome to the show.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000025---marco"><em>[00:00:25]<!-- --> - Marco</em><a href="#000025---marco" class="hash-link" aria-label="Direct link to 000025---marco" title="Direct link to 000025---marco">​</a></h5><p>Hey Ry. Yeah, very nice to meet you. Yeah. So I&#x27;m Marco, I work at Microsoft and I&#x27;ve been working on Postgres extensions for about nine years now, starting with Citus, pgCron, and a bunch of other ones. Yeah.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000044---ry"><em>[00:00:44]<!-- --> - Ry</em><a href="#000044---ry" class="hash-link" aria-label="Direct link to 000044---ry" title="Direct link to 000044---ry">​</a></h5><p>That&#x27;s awesome.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000045---marco"><em>[00:00:45]<!-- --> - Marco</em><a href="#000045---marco" class="hash-link" aria-label="Direct link to 000045---marco" title="Direct link to 000045---marco">​</a></h5><p>Yeah.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000045---ry"><em>[00:00:45]<!-- --> - Ry</em><a href="#000045---ry" class="hash-link" aria-label="Direct link to 000045---ry" title="Direct link to 000045---ry">​</a></h5><p>So this is not really supposed to be an interview. It&#x27;s more just us geeking out about Postgres, extensions, what they mean to users and opinions about anything and everything related to our work is fair game. Yeah, sounds good. So what&#x27;d you do before you got into Postgres stuff, out of curiosity?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000109---marco"><em>[00:01:09]<!-- --> - Marco</em><a href="#000109---marco" class="hash-link" aria-label="Direct link to 000109---marco" title="Direct link to 000109---marco">​</a></h5><p>Yeah. My background is more in distributed systems, so I spent a few years at AWS. It was quite early days in AWS when I think I joined. There were three Web Services. S3, SQS and EC2.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000124---ry"><em>[00:01:24]<!-- --> - Ry</em><a href="#000124---ry" class="hash-link" aria-label="Direct link to 000124---ry" title="Direct link to 000124---ry">​</a></h5><p>Wow.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000125---marco"><em>[00:01:25]<!-- --> - Marco</em><a href="#000125---marco" class="hash-link" aria-label="Direct link to 000125---marco" title="Direct link to 000125---marco">​</a></h5><p>And then we built number Four, which was CloudFront, which gives people started using S3 for websites, which it wasn&#x27;t really built for. But then we were asked to solve this and we built the CDN, and then we also built Route 53 for the DNS.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000140---ry"><em>[00:01:40]<!-- --> - Ry</em><a href="#000140---ry" class="hash-link" aria-label="Direct link to 000140---ry" title="Direct link to 000140---ry">​</a></h5><p>Wow.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000141---marco"><em>[00:01:41]<!-- --> - Marco</em><a href="#000141---marco" class="hash-link" aria-label="Direct link to 000141---marco" title="Direct link to 000141---marco">​</a></h5><p>And then yeah, I did a PhD in sort of self driving cars, but specifically like, cooperation between self driving cars, like, what if they can communicate with each other and sort of coordinate? So it&#x27;s sort of advanced distributed systems in a way as well. Yeah. So that led to me joining Citus, which is sort of founded by former Amazon folks.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000205---ry"><em>[00:02:05]<!-- --> - Ry</em><a href="#000205---ry" class="hash-link" aria-label="Direct link to 000205---ry" title="Direct link to 000205---ry">​</a></h5><p>Got it. So building Citus was probably easy compared to all other stuff, actually.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000212---marco"><em>[00:02:12]<!-- --> - Marco</em><a href="#000212---marco" class="hash-link" aria-label="Direct link to 000212---marco" title="Direct link to 000212---marco">​</a></h5><p>Yeah. If you do self driving cooperation between self driving cars, which is this kind of like life critical system distribute where your nodes kind of just move around and they move away from each other, it does make things relatively easy. But then yeah, building databases is never actually very easy.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000231---ry"><em>[00:02:31]<!-- --> - Ry</em><a href="#000231---ry" class="hash-link" aria-label="Direct link to 000231---ry" title="Direct link to 000231---ry">​</a></h5><p>No, I know. How good do you want to make it right? Is how hard it becomes.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000238---marco"><em>[00:02:38]<!-- --> - Marco</em><a href="#000238---marco" class="hash-link" aria-label="Direct link to 000238---marco" title="Direct link to 000238---marco">​</a></h5><p>Yeah. I guess the challenge is always everything sort of in the word relational. Right. Like everything relates to everything else. There&#x27;s not like a feature you can implement without considering all the other aspects of the database and all the things that can happen concurrently with the operation that you&#x27;re working on and all the possible ways in which things can fail. Especially if you&#x27;re in a kind of distributed setup.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000301---ry"><em>[00:03:01]<!-- --> - Ry</em><a href="#000301---ry" class="hash-link" aria-label="Direct link to 000301---ry" title="Direct link to 000301---ry">​</a></h5><p>Yeah, I think that&#x27;s really interesting perspective. You think of all of the configuration options, too. Adding a new configuration option adds complexity, adds flexibility, adds potential complex, and it&#x27;s tough.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000320---marco"><em>[00:03:20]<!-- --> - Marco</em><a href="#000320---marco" class="hash-link" aria-label="Direct link to 000320---marco" title="Direct link to 000320---marco">​</a></h5><p>Yeah, definitely. I think one thing we learned is there&#x27;s a sort of certain danger in creating modes where every setting you add, which can be on/off now you have two modes in your system. You add another setting that can be on/off. Now you have four modes in your system. It&#x27;s kind of this exponential explosion of possible ways in which your database might be running. And so that&#x27;s hard learned lesson that&#x27;s, like, don&#x27;t introduce major modes. Sometimes you have to because of backwards compatibility reasons, maybe, but you want to get rid of them over time.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000357---ry"><em>[00:03:57]<!-- --> - Ry</em><a href="#000357---ry" class="hash-link" aria-label="Direct link to 000357---ry" title="Direct link to 000357---ry">​</a></h5><p>Were you one of the first team members on Citus? Actually, I don&#x27;t really know the full history. Did it start as a fork and made its way as an extension, or was it always an extension?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000410---marco"><em>[00:04:10]<!-- --> - Marco</em><a href="#000410---marco" class="hash-link" aria-label="Direct link to 000410---marco" title="Direct link to 000410---marco">​</a></h5><p>Yeah, I was one of the first, though I think Samay was already there. I think he&#x27;s joined Tembo. So but yeah, we started out as a fork and then we called it CitusDB, and then we made it an extension and called it Citus. Though I think the name CitusDB kind of stuck around for...I still hear it sometimes. But yeah, it was very pretty early days for extensions. Like 2015 PostGIS obviously existed. It was one of the first major ones. But yeah, we were lucky at the time. We had Andres Freund working for us. Well, he&#x27;s also now working for Microsoft, but he&#x27;s like one of the top Postgres committers, and we put him in a room for a while, know, can you turn this into an extension, please? And he came up with some terrible, terrible hacks. But over time, those also drove some of the extension APIs in Postgres itself, where things that used to require really terrible hacks are now kind of more structured and you can introduce your own sort of data structures into Postgres without doing lots of weird stuff.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000522---ry"><em>[00:05:22]<!-- --> - Ry</em><a href="#000522---ry" class="hash-link" aria-label="Direct link to 000522---ry" title="Direct link to 000522---ry">​</a></h5><p>Well, I was thinking probably not everybody knows what Citus is. Maybe if you could give a quick I&#x27;d love to hear a quick overview of what it is and then maybe a couple of things that maybe you can think of that are unusual, that people might not know about it, that are part of it. I don&#x27;t know if that&#x27;s a stupid question, but yeah, if you could try no.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000541---marco"><em>[00:05:41]<!-- --> - Marco</em><a href="#000541---marco" class="hash-link" aria-label="Direct link to 000541---marco" title="Direct link to 000541---marco">​</a></h5><p>Yeah, so it comes from basically this denotion that Postgres is ultimately limited to a single machine. I mean, you can read replicas, but you definitely cannot scale the writes. Usually if you have read replicas, they&#x27;ll kind of end up having the same stuff in memory. So you cannot really scale the memory either. And so Citus is a solution to basically adds sharding to Postgres in a very transparent way, where you can have tables that are sort of transparently sharded across many nodes, you still connect to a Postgres server. There&#x27;s just a table, looks, walks, and talks like a table. But if you insert into it, it actually gets rooted to a particular node. And if you insert another value, it might get rooted into another node that uses this hash distribution. And that way you can scale across infinitely many machines and have some users have petabytes of data in their Citus cluster part of the advantage is also that queries can get paralyzed on these tables because we can use all the nodes at the same time and multiple cores per node. But more and more it&#x27;s also actually being used for LTP workloads.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000655---marco"><em>[00:06:55]<!-- --> - Marco</em><a href="#000655---marco" class="hash-link" aria-label="Direct link to 000655---marco" title="Direct link to 000655---marco">​</a></h5><p>And particularly the most popular use case is actually multitenancy, where you have this kind of B2B app where you have lots of relatively independent users and you kind of want to just transparently spread those across different machines without having to actually manage that yourself and figure out how to move data around. Because that was all very kind of automated. You can just ask it to rebalance your data and it does that using logical replication. And so then you have the advantage of just as much memory as you need to make your application fast and as much disk IOPS as you need by just adding more machines with more disks and so that helps you scale. And then we have a sort of managed service in Azure around that. But yeah, we use every hook that&#x27;s available in Postgres to achieve things like starting with the planner hook. That&#x27;s one of the interesting things about Postgres. It&#x27;s like you just replace the whole planner with something else. You get a parsed query tree and then you can do whatever you want with it. You can just do some like okay, look at this query and log something interesting and then just go to the regular planner.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000812---marco"><em>[00:08:12]<!-- --> - Marco</em><a href="#000812---marco" class="hash-link" aria-label="Direct link to 000812---marco" title="Direct link to 000812---marco">​</a></h5><p>Or you could just do something completely different. And so we use all these hooks to kind of create this facade around Postgres tables where it&#x27;s like Postgres table is still there, you just cannot touch it. We just intercept everything that&#x27;s going on. The most recent and most terrible hack we did it was like the give it as this hack in Postgres so we can figure out so we have shards. Like the writes go into shards but then if you do logical decoding you see writes on shards, you don&#x27;t see writes on these what we call distributed tables. But the user doesn&#x27;t even know about shards probably. So how can we fix that? And there wasn&#x27;t really any kind of hook we could use to change the way that the logical decoding process works except that we realized that the client specifies a decoder name usually just hard coded like Pgoutput or Wal2json or test_decoding and that actually refers to the name of a .so,  like a shared library. And we realized we could create a .so with the same name and put it in a different directory and then change the dynamic library path to be prefixed with that directory so it would load our library instead.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000934---marco"><em>[00:09:34]<!-- --> - Marco</em><a href="#000934---marco" class="hash-link" aria-label="Direct link to 000934---marco" title="Direct link to 000934---marco">​</a></h5><p>This is kind of the worst thing we did. But it works nicely actually. I mean, that new .so file calls the original .so file and it kind of makes some changes to hide the sharding from the coding. But yeah, it is a hack. It&#x27;s very much a hack. But it&#x27;s nice that Postgres ultimately lets you do these kind of things.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="000959---ry"><em>[00:09:59]<!-- --> - Ry</em><a href="#000959---ry" class="hash-link" aria-label="Direct link to 000959---ry" title="Direct link to 000959---ry">​</a></h5><p>I think, like Citus says, there&#x27;s like a requirement that Citus loads first as an extension. Is that true? I&#x27;m trying to remember if I&#x27;m making that up.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001008---marco"><em>[00:10:08]<!-- --> - Marco</em><a href="#001008---marco" class="hash-link" aria-label="Direct link to 001008---marco" title="Direct link to 001008---marco">​</a></h5><p>It is true. I mean, maybe it&#x27;s a bit of laziness on our part, but it&#x27;s also.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001013---ry"><em>[00:10:13]<!-- --> - Ry</em><a href="#001013---ry" class="hash-link" aria-label="Direct link to 001013---ry" title="Direct link to 001013---ry">​</a></h5><p>Because...</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001016---marco"><em>[00:10:16]<!-- --> - Marco</em><a href="#001016---marco" class="hash-link" aria-label="Direct link to 001016---marco" title="Direct link to 001016---marco">​</a></h5><p>We generate very weird plans that wouldn&#x27;t make any sense to other extensions. So if you have multiple layers of planner hooks, you kind of want Citus to be but by putting it first, it actually becomes the last because everyone else overwrites Citus. And then hopefully when you go through the chain of planner hook, Citus is the last one remaining and it can produce some quirky distributed query plan that doesn&#x27;t make sense to anyone else and pick that up.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001048---ry"><em>[00:10:48]<!-- --> - Ry</em><a href="#001048---ry" class="hash-link" aria-label="Direct link to 001048---ry" title="Direct link to 001048---ry">​</a></h5><p>Are there known extensions that aren&#x27;t compatible with Citus that you&#x27;re aware of or as far as you know? It kind of works with most everything.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001056---marco"><em>[00:10:56]<!-- --> - Marco</em><a href="#001056---marco" class="hash-link" aria-label="Direct link to 001056---marco" title="Direct link to 001056---marco">​</a></h5><p>Yeah, I mean, Citus is a little bit of a paradigm shift because now you have many servers and some extensions just don&#x27;t make sense if you&#x27;re on many servers because they keep their state on one of them and then they&#x27;re not aware of others. But most things just work. But I kind of feel like there&#x27;s this notion of a deep extension, if you will, like timescaleDB or Citus. They kind of go really deep into planner hooks and change behavioral characteristics. Whereas something like PostGIS and a lot of extensions that just introduce new types and functions. They&#x27;re sitting on top of this much more clean interface and usually the interoperability of those things is pretty good. But Timescale has this notion of a hyper table inside as a distributed table and you cannot really make a distributed hyper table. But yeah, compatibility, it comes down to sometimes also the individual features. It&#x27;s not like if you install one, then the other doesn&#x27;t work anymore. I mean, that happens for some extensions, but for Citus, most other things just kind of work with it. Yeah.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001208---ry"><em>[00:12:08]<!-- --> - Ry</em><a href="#001208---ry" class="hash-link" aria-label="Direct link to 001208---ry" title="Direct link to 001208---ry">​</a></h5><p>So let&#x27;s talk about pg_Cron. How early were you involved in that project?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001213---marco"><em>[00:12:13]<!-- --> - Marco</em><a href="#001213---marco" class="hash-link" aria-label="Direct link to 001213---marco" title="Direct link to 001213---marco">​</a></h5><p>Well, I created it. I used to have this thing where I am much more productive on flights and I flew to San Francisco a lot for a while and then I had a few of these projects that I was just working on on flights and pg_Cron was one of them. And so at the time we had customers who did kind of this real time analytics scenarios on Postgres on Citus. And those involve a lot of materialization. So a bunch of raw data keeps coming in like time series data. And at some point you want to take all the new data and kind of pre aggregate it inside of the database and that needs to happen periodically. I think the background worker concept was pretty new at the time. I don&#x27;t know. This was many years ago. And so I realized you could do something like Cron. It maybe also comes from the Amazon background because Amazon, at least at the time, was all like glued together with Cron, Perl and R Sync. There were Cron jobs that would R sync metadata files to other servers and it was all pretty hacky. But anyway, I figured it would be pretty useful to have this kind of thing in Postgres also for just vacuuming or calling certain stored procedures that, I don&#x27;t know, delete your old data.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001342---marco"><em>[00:13:42]<!-- --> - Marco</em><a href="#001342---marco" class="hash-link" aria-label="Direct link to 001342---marco" title="Direct link to 001342---marco">​</a></h5><p>Like those kind of maintenance tasks. It was just much easier if that&#x27;s like you run a command once and then it works forever, rather than I need to maintain this separate infrastructure that periodically connects to the database and does that. So that became quite popular. I think pretty much all major managed services have pg_Cron now. Yeah, I kind of built it as a very I mean, it was definitely my side project. So I also built it as a very low maintenance thing that I wouldn&#x27;t have to constantly fix bugs in. Also a little bit selective about adding new features. For a long time I resisted adding people want like, can I run a job every few seconds? And normally Cron is like at the minute, granularity. But recently I caved and I added doing it every few seconds because I realized it&#x27;s kind of feature if there&#x27;s some kind of issue, some kind of memory leak or whatever, if you run it every few seconds, it&#x27;s going to be way worse than if you run it once a minute. So you need to be more careful in that case. But you can now also do like every second, for example, which is kind of useful.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001456---ry"><em>[00:14:56]<!-- --> - Ry</em><a href="#001456---ry" class="hash-link" aria-label="Direct link to 001456---ry" title="Direct link to 001456---ry">​</a></h5><p>That&#x27;s awesome. Yeah, I was looking at we&#x27;re just building a new data warehouse, trying to use Postgres to do that. I&#x27;m exploring all the columnar extension as well, which sort of is part of Citus. I don&#x27;t know if you did any work on that, but yeah, looking at pg_cron versus pg_timetable, have you had the question of what about have you looked at timetable and its features and yeah, I&#x27;m kind of curious to get your assessment of the two.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001528---marco"><em>[00:15:28]<!-- --> - Marco</em><a href="#001528---marco" class="hash-link" aria-label="Direct link to 001528---marco" title="Direct link to 001528---marco">​</a></h5><p>Yeah, I&#x27;ve looked at it a mean for a long time. It wasn&#x27;t so much an extension. I think nowadays it is more or less an autonomous extension, I think. Yeah, I mean, it&#x27;s somewhat more complex in a way. I don&#x27;t feel like competitive of like you should use pg_cron or use pg_timetable. I think pg_cron is just intentionally simple such just this very simple thing that just works and does what you&#x27;d expect it to mean almost unless your time zone is in a different unless you&#x27;re not in GMT, then it sort of doesn&#x27;t quite do what you&#x27;d expect it to anyway. So yeah, I think Cron is just simpler. But if you need some more specific, I guess it comes down to do you need the extra features that pg_timetable adds? But I think for most people, pg_cron is good enough because you can also just I&#x27;ve also seen people do their own kind of job queues on top of pg_cron, where you just have this thing that runs. Every few seconds or every minute, and then looks are there some jobs to do? And it actually executes the stuff that&#x27;s in the job state.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001639---marco"><em>[00:16:39]<!-- --> - Marco</em><a href="#001639---marco" class="hash-link" aria-label="Direct link to 001639---marco" title="Direct link to 001639---marco">​</a></h5><p>So it&#x27;s kind of composable as well. You can build your own things on top if you want. Yeah.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001645---ry"><em>[00:16:45]<!-- --> - Ry</em><a href="#001645---ry" class="hash-link" aria-label="Direct link to 001645---ry" title="Direct link to 001645---ry">​</a></h5><p>And especially if you could trigger it every second to check for work. Yeah, that&#x27;s just fine. Yeah, I&#x27;m coming from my previous company was doing Apache Airflow and so it&#x27;s like kind of getting back to some of the stuff. I mean, obviously that&#x27;s a very complicated system with a lot of capabilities and dag like chaining of tasks and fanning out and all that kind of stuff. But yeah, I think it&#x27;s interesting to try to do some of that stuff inside of Postgres without requiring we&#x27;re trying to go with the mantra of like just use Postgres for everything.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001729---marco"><em>[00:17:29]<!-- --> - Marco</em><a href="#001729---marco" class="hash-link" aria-label="Direct link to 001729---marco" title="Direct link to 001729---marco">​</a></h5><p>It&#x27;s not a bad mantra. You&#x27;ve got, I guess, different levels of commitment to that idea of how much of our backend can we shove into Postgres? And there&#x27;s these GraphQL extensions where you pretty much put your entire backend in Postgres. Yeah.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001751---ry"><em>[00:17:51]<!-- --> - Ry</em><a href="#001751---ry" class="hash-link" aria-label="Direct link to 001751---ry" title="Direct link to 001751---ry">​</a></h5><p>Your API, is there?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001752---marco"><em>[00:17:52]<!-- --> - Marco</em><a href="#001752---marco" class="hash-link" aria-label="Direct link to 001752---marco" title="Direct link to 001752---marco">​</a></h5><p>Yeah, I guess Supabase is going pretty long way in that direction, but at some point you want to debug stuff or you want to have certain rollout procedures. And sometimes Postgres is not as mature a tool as just shipping Python files somewhere. There&#x27;s just better CI tools for most normal programming languages than for Postgres. So you have to find the right balance, I think.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001824---ry"><em>[00:18:24]<!-- --> - Ry</em><a href="#001824---ry" class="hash-link" aria-label="Direct link to 001824---ry" title="Direct link to 001824---ry">​</a></h5><p>Yeah, we&#x27;re building and maybe this shouldn&#x27;t have happened, but apparently yesterday we were working on a new FDW and I think it hit an exception that wasn&#x27;t handled and it appeared to shut down the Postgres server. This is kind of fun. Should that have happened? Should that be possible? Should an extension error take it down? But we&#x27;re still investigating that. But yeah, I think there&#x27;s always risk with trying to do a lot inside, but I think with a mature extension that&#x27;s well tested and battle tested, it should be. I mean, if you think about everything that&#x27;s happening, there&#x27;s no SRP in Postgres, right? It&#x27;s not just doing one thing, it&#x27;s got a vacuum. There&#x27;s like lots of processes running and so then the question is, is it a sin to add one more thing? Especially if it has the capability to have a background worker? It&#x27;s just like staring you in the face. Like use me.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="001929---marco"><em>[00:19:29]<!-- --> - Marco</em><a href="#001929---marco" class="hash-link" aria-label="Direct link to 001929---marco" title="Direct link to 001929---marco">​</a></h5><p>Like the extension APIs are slowly evolving from just a complete hacky approach for people to try out their Postgres batches before merging them into core. To some, I guess Extensibility was there from the start. But that&#x27;s more too for custom types and custom functions than it is for planner hooks and background workers and those kind of things. Those are a little bit more what if we add this function pointer to see maybe extensions can do something interesting with it. And it&#x27;s not very extremely well structured, but I mean the whole rust like pgrx and building extensions in rust, it does create an opportunity to have a little bit more of a well defined method of developing extensions.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002025---ry"><em>[00:20:25]<!-- --> - Ry</em><a href="#002025---ry" class="hash-link" aria-label="Direct link to 002025---ry" title="Direct link to 002025---ry">​</a></h5><p>Yeah, I think what&#x27;s interesting to me about Postgres is like the history of forks and it sucks to be on the true fork, as I&#x27;m sure you were aware. Creating the extension framework helps people out of the land of forks, but it does create the possibility for even more risk extensions in terms of all that. So it&#x27;s like a double edged sword. I think it&#x27;s great though, that to me is the reason why Postgres is doing so well now, is all that freedom that the core team has given the community in terms of how to use it. It&#x27;s unprecedented, almost dangerous, but I also think empowering to developers who want to have some fun with their database.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002121---marco"><em>[00:21:21]<!-- --> - Marco</em><a href="#002121---marco" class="hash-link" aria-label="Direct link to 002121---marco" title="Direct link to 002121---marco">​</a></h5><p>Yeah, definitely. What we also often find is just an extension versus an external tool. At least we&#x27;re sort of in the business of running a Postgres managed service. But even if you have just your own Postgres servers, it has a fairly straightforward deployment model, right? Like you don&#x27;t have to create a whole separate cluster with its own configuration that connects to your Postgres database and does things with it. You just shove it into your existing Postgres server and it&#x27;ll restart the background workers and you don&#x27;t have to worry about all those things. It does have a lot of merit, actually, to develop a software as a Postgres extension. I mean, it comes with its own protocol. I think the most interesting thing is just like you get all this synergy between all these different extensions, that the sum of the parts is greater than the or what is it? The whole is greater than the sum of the parts. But also things like PostGIS and Citus, they kind of layer like you can distribute it, geospatial joins, whatever. But then also maybe you have some interesting function and you can run it periodically using pg_cron.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002239---marco"><em>[00:22:39]<!-- --> - Marco</em><a href="#002239---marco" class="hash-link" aria-label="Direct link to 002239---marco" title="Direct link to 002239---marco">​</a></h5><p>And it&#x27;s like all these things kind of give you this little platform where you can just by running SQL queries, do increasingly interesting things. Maybe you have an FTW that does an Http call and you run it using pg_cron, for example. And now your Postgres server is not just pg_cron, is not just Postgres cron, it&#x27;s actually anything cron. Like you can reach out to other systems. So that plugability.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002310---ry"><em>[00:23:10]<!-- --> - Ry</em><a href="#002310---ry" class="hash-link" aria-label="Direct link to 002310---ry" title="Direct link to 002310---ry">​</a></h5><p>I literally have a co-op that started last week and his first task was, I said create an FDW for this API and use pg_cron and ingest that data. And he&#x27;s like, well, how do I do it? Just brand new to data warehousing in general, but he&#x27;s got the FDW built and now he&#x27;s working on if he has any problems, I&#x27;ll send him your way. Kidding. I won&#x27;t. Kidding, kidding. I won&#x27;t do that.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002341---marco"><em>[00:23:41]<!-- --> - Marco</em><a href="#002341---marco" class="hash-link" aria-label="Direct link to 002341---marco" title="Direct link to 002341---marco">​</a></h5><p>If there&#x27;s bugs open issues like I&#x27;d like to know, of course.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002344---ry"><em>[00:23:44]<!-- --> - Ry</em><a href="#002344---ry" class="hash-link" aria-label="Direct link to 002344---ry" title="Direct link to 002344---ry">​</a></h5><p>But there&#x27;s no bugs. No. So do you have any long flights coming up where you have some new extensions coming?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002351---marco"><em>[00:23:51]<!-- --> - Marco</em><a href="#002351---marco" class="hash-link" aria-label="Direct link to 002351---marco" title="Direct link to 002351---marco">​</a></h5><p>No, we had a baby last year. It&#x27;s like my flight budget is very low at the moment. That&#x27;s true.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002358---ry"><em>[00:23:58]<!-- --> - Ry</em><a href="#002358---ry" class="hash-link" aria-label="Direct link to 002358---ry" title="Direct link to 002358---ry">​</a></h5><p>Your latest extension is human.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002401---marco"><em>[00:24:01]<!-- --> - Marco</em><a href="#002401---marco" class="hash-link" aria-label="Direct link to 002401---marco" title="Direct link to 002401---marco">​</a></h5><p>Yeah, but yeah, I&#x27;d like to play more with Rust because that the problem with extensions in the past. Like developing them in C has always been like c doesn&#x27;t have any good sort of dependency framework. There&#x27;s these old established library like, I don&#x27;t know, LibZ and LibXML or something, like something that was developed 20 years ago and now, okay, every system has it, you can use it, but for anything newer than ten years, it&#x27;s extremely annoying and hard to use a C library. And then even if you can figure out your configure and your make files, the memory allocation is probably going to not play nicely with Postgres. So that&#x27;s where Rust is kind of interesting. Now there&#x27;s this whole ecosystem of open source libraries that can potentially become extensions and we&#x27;re still sort of at the very start of that, what&#x27;s going to happen?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002505---ry"><em>[00:25:05]<!-- --> - Ry</em><a href="#002505---ry" class="hash-link" aria-label="Direct link to 002505---ry" title="Direct link to 002505---ry">​</a></h5><p>It&#x27;s kind of scary because it could be very much of a Cambrian explosion. What happens if there are 300 new extensions that are worth adding? It&#x27;s sort of a pain for the managed service providers.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002519---marco"><em>[00:25:19]<!-- --> - Marco</em><a href="#002519---marco" class="hash-link" aria-label="Direct link to 002519---marco" title="Direct link to 002519---marco">​</a></h5><p>Yeah, definitely. Yeah. And they can have funny incompatibilities. It helps that then Rust is a little bit more safe and a little bit more not managed, but the memory allocation is a bit more sort of safe as well. But then, yeah, you can have a lot of weird bugs if you combine all these unknown bits of code.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002546---ry"><em>[00:25:46]<!-- --> - Ry</em><a href="#002546---ry" class="hash-link" aria-label="Direct link to 002546---ry" title="Direct link to 002546---ry">​</a></h5><p>That&#x27;s great. Are there any extensions that you&#x27;ve run across either recently or in the past that you love, that you would mention as exciting? I mean, you mentioned PostGIS and anything else that you can think of. It&#x27;s no big deal if not.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002604---marco"><em>[00:26:04]<!-- --> - Marco</em><a href="#002604---marco" class="hash-link" aria-label="Direct link to 002604---marco" title="Direct link to 002604---marco">​</a></h5><p>Yeah, there&#x27;s many. I&#x27;m sort of intrigued by Postgres_ML. It&#x27;s like this just machine learning extension that they seem to be doing a lot of interesting things. I don&#x27;t have a good use case for it myself yet, but I really like what you&#x27;re doing. Also in Rust, I think MIT licensed, so it can be used in a lot of places. There&#x27;s of course a lot of buzz around pg_vector and more recently pg_embedding, which is sort of an interesting kind of development because now I think they both added this HNSW indexes which are faster than the IFV flat indexes that pgvector provided. But then it also means they are now incompatible with the latest versions. You can create one or the other, not both, which is a little awkward. But I think that is where, of course, one of the most fastest moving areas and I think some of these things will be figured out.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002706---ry"><em>[00:27:06]<!-- --> - Ry</em><a href="#002706---ry" class="hash-link" aria-label="Direct link to 002706---ry" title="Direct link to 002706---ry">​</a></h5><p>Have you gotten those extensions added to the Citus managed service?</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002711---marco"><em>[00:27:11]<!-- --> - Marco</em><a href="#002711---marco" class="hash-link" aria-label="Direct link to 002711---marco" title="Direct link to 002711---marco">​</a></h5><p>Yeah, we definitely have pg_vector. Yeah, I mean, I think that took the landscape by storm. I think they&#x27;re pretty much on every managed service now.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002719---ry"><em>[00:27:19]<!-- --> - Ry</em><a href="#002719---ry" class="hash-link" aria-label="Direct link to 002719---ry" title="Direct link to 002719---ry">​</a></h5><p>It&#x27;s interesting, we&#x27;re working on this thing called Trunk where we&#x27;re trying to maybe I don&#x27;t know if we can get you guys to participate, but the idea would be to send some metadata to some sort of central repository that we&#x27;d know, like which extensions are trending, waning, completely dead or not. I just think it&#x27;s interesting as a new person coming into the Postgres ecosystem, there&#x27;s just this library of potential extensions that it&#x27;s pretty expansive and kind of trails off in a know because you can find them loosely here or there on GitHub. But I think having a better directory of them would be good for the community.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002804---marco"><em>[00:28:04]<!-- --> - Marco</em><a href="#002804---marco" class="hash-link" aria-label="Direct link to 002804---marco" title="Direct link to 002804---marco">​</a></h5><p>Yeah, I guess. One thing that&#x27;s also tricky about extensions, it&#x27;s like you&#x27;d want it in an ideal world, you write it once and then it works forever. In the real world, every Postgres version potentially breaks your extension, so someone has to actually go and fix it. For new Postgres versions, sometimes it&#x27;s okay. I think with pg_cron, I had like once or twice. It&#x27;s like I think Postgres 16 didn&#x27;t actually no, it did require some fixes. I think there was one Postgres version which didn&#x27;t require any fixes. Maybe PG 15, I was already happy. But usually C is a bit of this wild west of programming languages. But yeah, sometimes just some function header changes, there&#x27;s an extra argument and then none of the extensions that use that function compile you have to have some level of maintenance behind each extension. Well, not every extension does well. Great.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002903---ry"><em>[00:29:03]<!-- --> - Ry</em><a href="#002903---ry" class="hash-link" aria-label="Direct link to 002903---ry" title="Direct link to 002903---ry">​</a></h5><p>I mean, it was great to chat with you. Happy to have you back on again. If you have a big new release of Citus, I don&#x27;t know, do you guys have any big plans for it or has it reached a certain point of stability where it is what it is? Yeah, I&#x27;m kind of curious.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002919---marco"><em>[00:29:19]<!-- --> - Marco</em><a href="#002919---marco" class="hash-link" aria-label="Direct link to 002919---marco" title="Direct link to 002919---marco">​</a></h5><p>Well, our most recent major release added this kind of notion of Schema based Sharding, where so far it&#x27;s always been like you have distributed tables and you have a distribution column and you need to pick which columns you use. But the Schema based Sharding is just like every Schema becomes its own group, own Shard, essentially, so it might be on a different node. So for apps that use Schema per tenant, that&#x27;s a very nice model. And so we&#x27;re investing more in that at the moment.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002949---ry"><em>[00:29:49]<!-- --> - Ry</em><a href="#002949---ry" class="hash-link" aria-label="Direct link to 002949---ry" title="Direct link to 002949---ry">​</a></h5><p>Well, great. Good to meet you. Looking forward to continuing to get to know you. And thanks for joining us on the show.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="002956---marco"><em>[00:29:56]<!-- --> - Marco</em><a href="#002956---marco" class="hash-link" aria-label="Direct link to 002956---marco" title="Direct link to 002956---marco">​</a></h5><p>Yeah, it was great. Thanks for having me.</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/postgres">postgres</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/hacking-postgres">hacking_postgres</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/tembo-io/website/blob/main/blog/2023-10-16-hacking-postgres-ep1/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/pgvector-and-embedding-solutions-with-postgres"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Unleashing the power of vector embeddings with PostgreSQL</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/introducing-terraform-provider-for-tembo"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Introducing Terraform Provider for Tembo</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#episode-notes" class="table-of-contents__link toc-highlight">Episode Notes</a></li><li><a href="#transcript" class="table-of-contents__link toc-highlight">Transcript</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a href="https://tembo.breezy.hr/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://pgt.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Trunk<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a class="footer__link-item" href="/docs">Docs</a><span class="footer__link-separator">·</span><a href="https://twitter.com/tembo_io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://www.linkedin.com/company/tembo-inc/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Tembo. All Rights Reserved</div></div></div></footer></div>
<script src="/assets/js/runtime~main.ef584dc9.js"></script>
<script src="/assets/js/main.75ceccb8.js"></script>
</body>
</html>