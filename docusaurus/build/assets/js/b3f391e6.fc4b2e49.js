"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6268],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>d});var o=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=o.createContext({}),l=function(e){var t=o.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=l(e.components);return o.createElement(u.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},g=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,u=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=l(n),g=a,d=p["".concat(u,".").concat(g)]||p[g]||m[g]||r;return n?o.createElement(d,i(i({ref:t},c),{},{components:n})):o.createElement(d,i({ref:t},c))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=g;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s[p]="string"==typeof e?e:a,i[1]=s;for(var l=2;l<r;l++)i[l]=n[l];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}g.displayName="MDXCreateElement"},85162:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(67294),a=n(86010);const r={tabItem:"tabItem_Ymn6"};function i(e){let{children:t,hidden:n,className:i}=e;return o.createElement("div",{role:"tabpanel",className:(0,a.Z)(r.tabItem,i),hidden:n},t)}},74866:(e,t,n)=>{n.d(t,{Z:()=>w});var o=n(87462),a=n(67294),r=n(86010),i=n(12466),s=n(16550),u=n(91980),l=n(67392),c=n(50012);function p(e){return function(e){return a.Children.map(e,(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:n,attributes:o,default:a}}=e;return{value:t,label:n,attributes:o,default:a}}))}function m(e){const{values:t,children:n}=e;return(0,a.useMemo)((()=>{const e=t??p(n);return function(e){const t=(0,l.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function g(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function d(e){let{queryString:t=!1,groupId:n}=e;const o=(0,s.k6)(),r=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,u._X)(r),(0,a.useCallback)((e=>{if(!r)return;const t=new URLSearchParams(o.location.search);t.set(r,e),o.replace({...o.location,search:t.toString()})}),[r,o])]}function f(e){const{defaultValue:t,queryString:n=!1,groupId:o}=e,r=m(e),[i,s]=(0,a.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!g({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const o=n.find((e=>e.default))??n[0];if(!o)throw new Error("Unexpected error: 0 tabValues");return o.value}({defaultValue:t,tabValues:r}))),[u,l]=d({queryString:n,groupId:o}),[p,f]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[o,r]=(0,c.Nk)(n);return[o,(0,a.useCallback)((e=>{n&&r.set(e)}),[n,r])]}({groupId:o}),b=(()=>{const e=u??p;return g({value:e,tabValues:r})?e:null})();(0,a.useLayoutEffect)((()=>{b&&s(b)}),[b]);return{selectedValue:i,selectValue:(0,a.useCallback)((e=>{if(!g({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);s(e),l(e),f(e)}),[l,f,r]),tabValues:r}}var b=n(72389);const h={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function v(e){let{className:t,block:n,selectedValue:s,selectValue:u,tabValues:l}=e;const c=[],{blockElementScrollPositionUntilNextRender:p}=(0,i.o5)(),m=e=>{const t=e.currentTarget,n=c.indexOf(t),o=l[n].value;o!==s&&(p(t),u(o))},g=e=>{let t=null;switch(e.key){case"Enter":m(e);break;case"ArrowRight":{const n=c.indexOf(e.currentTarget)+1;t=c[n]??c[0];break}case"ArrowLeft":{const n=c.indexOf(e.currentTarget)-1;t=c[n]??c[c.length-1];break}}t?.focus()};return a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":n},t)},l.map((e=>{let{value:t,label:n,attributes:i}=e;return a.createElement("li",(0,o.Z)({role:"tab",tabIndex:s===t?0:-1,"aria-selected":s===t,key:t,ref:e=>c.push(e),onKeyDown:g,onClick:m},i,{className:(0,r.Z)("tabs__item",h.tabItem,i?.className,{"tabs__item--active":s===t})}),n??t)})))}function y(e){let{lazy:t,children:n,selectedValue:o}=e;const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=r.find((e=>e.props.value===o));return e?(0,a.cloneElement)(e,{className:"margin-top--md"}):null}return a.createElement("div",{className:"margin-top--md"},r.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==o}))))}function k(e){const t=f(e);return a.createElement("div",{className:(0,r.Z)("tabs-container",h.tabList)},a.createElement(v,(0,o.Z)({},e,t)),a.createElement(y,(0,o.Z)({},e,t)))}function w(e){const t=(0,b.Z)();return a.createElement(k,(0,o.Z)({key:String(t)},e))}},37560:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>u,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var o=n(87462),a=(n(67294),n(3905)),r=n(74866),i=n(85162);const s={sidebar_position:3,tags:["api","configuration"]},u="Postgres Configuration",l={unversionedId:"tembo-cloud/configuration-and-management/postgres-configuration",id:"tembo-cloud/configuration-and-management/postgres-configuration",title:"Postgres Configuration",description:"Postgres allows for setting a wide range of configuration options. These configurations include settings for memory, vacuum,",source:"@site/docs/tembo-cloud/configuration-and-management/postgres-configuration.md",sourceDirName:"tembo-cloud/configuration-and-management",slug:"/tembo-cloud/configuration-and-management/postgres-configuration",permalink:"/docs/tembo-cloud/configuration-and-management/postgres-configuration",draft:!1,editUrl:"https://github.com/tembo-io/website/blob/main/docs/tembo-cloud/configuration-and-management/postgres-configuration.md",tags:[{label:"api",permalink:"/docs/tags/api"},{label:"configuration",permalink:"/docs/tags/configuration"}],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,tags:["api","configuration"]},sidebar:"tutorialSidebar",previous:{title:"Configuration and Management",permalink:"/docs/category/configuration-and-management"},next:{title:"Backup and restore",permalink:"/docs/tembo-cloud/configuration-and-management/backup-and-restore"}},c={},p=[{value:"Setting Postgres Configuration Values via the Tembo Cloud API",id:"setting-postgres-configuration-values-via-the-tembo-cloud-api",level:2},{value:"Confirming Configuration Values are Applied",id:"confirming-configuration-values-are-applied",level:2},{value:"Setting Postgres Configuration Values via the Tembo Cloud UI",id:"setting-postgres-configuration-values-via-the-tembo-cloud-ui",level:2}],m={toc:p},g="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(g,(0,o.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"postgres-configuration"},"Postgres Configuration"),(0,a.kt)("p",null,"Postgres allows for setting a wide range of configuration options. These configurations include settings for memory, vacuum,\nextensions, logging, and more."),(0,a.kt)("p",null,"This document will guide you through the process of setting Postgres configuration values on Tembo Cloud.\nFor a full list of configuration options, visit ",(0,a.kt)("a",{parentName:"p",href:"https://postgresqlco.nf/doc/en/param/"},"https://postgresqlco.nf/doc/en/param/"),"."),(0,a.kt)("h2",{id:"setting-postgres-configuration-values-via-the-tembo-cloud-api"},"Setting Postgres Configuration Values via the Tembo Cloud API"),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Configuration values set via API are not validated. Please ensure the configuration value you're setting is valid.\nMore information on valid Postgres configuration values can be found at ",(0,a.kt)("a",{parentName:"p",href:"https://postgresqlco.nf/doc/en/param/"},"https://postgresqlco.nf/doc/en/param/"),".")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Generate an API token for communicating with your Tembo instance. Navigate to ",(0,a.kt)("a",{parentName:"li",href:"https://cloud.tembo.io/generate-jwt"},"https://cloud.tembo.io/generate-jwt")," and follow the instructions to generate a token.")),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Set the following environment variables:"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"export TEMBO_TOKEN=<your token>\nexport TEMBO_ORG=<your organization id>\nexport TEMBO_INST=<your instance id>\n")))),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"Patch your existing Tembo instance with new configuration values using the ",(0,a.kt)("a",{parentName:"li",href:"https://tembo.io/docs/tembo-cloud/openapi"},"Tembo Cloud Platform API"),":")),(0,a.kt)(r.Z,{mdxType:"Tabs"},(0,a.kt)(i.Z,{value:"curl",label:"Curl",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},'curl -X \'PATCH\' \\\n  "https://api.tembo.io/api/v1/orgs/$TEMBO_ORG/instances/$TEMBO_INST" \\\n  -H "accept: application/json" \\\n  -H "Authorization: Bearer $TEMBO_TOKEN" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n  "postgres_configs": [\n    {\n      "name": "max_connections",\n      "value": "500"\n    },\n    {\n      "name": "log_connections",\n      "value": "on"\n    },\n    {\n      "name": "log_disconnections",\n      "value": "on"\n    }\n  ]\n}\'\n')))),(0,a.kt)("h2",{id:"confirming-configuration-values-are-applied"},"Confirming Configuration Values are Applied"),(0,a.kt)("p",null,"You can confirm that your configuration values are applied by connecting to your Postgres instance and running ",(0,a.kt)("inlineCode",{parentName:"p"},"SHOW <configuration-name>"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"postgres=# SHOW max_connections;\n max_connections\n-----------------\n 500\n(1 row)\n\npostgres=# SHOW log_connections;\n log_connections\n-----------------\n on\n(1 row)\n\npostgres=# SHOW log_disconnections;\n log_disconnections\n--------------------\n on\n(1 row)\n")),(0,a.kt)("h2",{id:"setting-postgres-configuration-values-via-the-tembo-cloud-ui"},"Setting Postgres Configuration Values via the Tembo Cloud UI"),(0,a.kt)("p",null,"Log in to the ",(0,a.kt)("a",{parentName:"p",href:"https://cloud.tembo.io/"},"Tembo Cloud UI"),' and select the "Database" tab in the navigation bar. In the "Configurations" view, you can tune a set of configuration parameters.'),(0,a.kt)("p",null,"The form is not an exhaustive list of parameters. If you need to tune a parameter that is not in the form, you can add a custom entry at the bottom. If the value has an associated unit, please include it in the format ",(0,a.kt)("inlineCode",{parentName:"p"},"<number><unit>")," e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"1GB")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"128KB"),"."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"If you enter an invalid field or value in the custom configurations section, your instance may get stuck in the configuring state. If this happens, please delete the erroneous field and save your changes to restore it.")))}d.isMDXComponent=!0}}]);