"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1517],{3905:(e,t,a)=>{a.d(t,{Zo:()=>h,kt:()=>y});var o=a(67294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,o,i=function(e,t){if(null==e)return{};var a,o,i={},n=Object.keys(e);for(o=0;o<n.length;o++)a=n[o],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)a=n[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=o.createContext({}),u=function(e){var t=o.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},h=function(e){var t=u(e.components);return o.createElement(l.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},p=o.forwardRef((function(e,t){var a=e.components,i=e.mdxType,n=e.originalType,l=e.parentName,h=s(e,["components","mdxType","originalType","parentName"]),d=u(a),p=i,y=d["".concat(l,".").concat(p)]||d[p]||m[p]||n;return a?o.createElement(y,r(r({ref:t},h),{},{components:a})):o.createElement(y,r({ref:t},h))}));function y(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var n=a.length,r=new Array(n);r[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:i,r[1]=s;for(var u=2;u<n;u++)r[u]=a[u];return o.createElement.apply(null,r)}return o.createElement.apply(null,a)}p.displayName="MDXCreateElement"},6343:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>m,frontMatter:()=>n,metadata:()=>s,toc:()=>u});var o=a(87462),i=(a(67294),a(3905));const n={slug:"hacking-postgres-ep7",title:"Hacking Postgres Ep. 7: Burak Yucesoy",authors:["eric"],tags:["postgres","hacking_postgres"]},r=void 0,s={permalink:"/blog/hacking-postgres-ep7",editUrl:"https://github.com/tembo-io/website/blob/main/blog/2023-11-03-hacking-postgres-ep7/index.md",source:"@site/blog/2023-11-03-hacking-postgres-ep7/index.md",title:"Hacking Postgres Ep. 7: Burak Yucesoy",description:"Postgres for everything? How about building a new cloud provider? In episode 7 of Hacking Postgres, Ry talks with Burak Yucesoy of Ubicloud about new clouds, getting attached to extensions, and the future potential of Postgres.",date:"2023-11-03T00:00:00.000Z",formattedDate:"November 3, 2023",tags:[{label:"postgres",permalink:"/blog/tags/postgres"},{label:"hacking_postgres",permalink:"/blog/tags/hacking-postgres"}],readingTime:24.815,hasTruncateMarker:!1,authors:[{name:"Eric Ankenman",url:"https://github.com/ericankenman",email:"noreply@tembo.io",imageURL:"https://github.com/ericankenman.png",key:"eric"}],frontMatter:{slug:"hacking-postgres-ep7",title:"Hacking Postgres Ep. 7: Burak Yucesoy",authors:["eric"],tags:["postgres","hacking_postgres"]},prevItem:{title:"PGMQ: Lightweight Message Queue on Postgres with No Background Worker",permalink:"/blog/pgmq-self-regulating-queue"},nextItem:{title:"Application Services: Helping Postgres Do More, Faster",permalink:"/blog/tembo-operator-apps"}},l={authorsImageUrls:[void 0]},u=[{value:"Transcript",id:"transcript",level:2},{value:"<em>00:00:12 - Ry</em>",id:"000012---ry",level:5},{value:"<em>00:00:23 - Burak</em>",id:"000023---burak",level:5},{value:"<em>00:00:24 - Ry</em>",id:"000024---ry",level:5},{value:"<em>00:00:33 - Burak</em>",id:"000033---burak",level:5},{value:"<em>00:00:36 - Ry</em>",id:"000036---ry",level:5},{value:"<em>00:00:48 - Burak</em>",id:"000048---burak",level:5},{value:"<em>00:01:46 - Ry</em>",id:"000146---ry",level:5},{value:"<em>00:01:55 - Burak</em>",id:"000155---burak",level:5},{value:"<em>00:02:07 - Ry</em>",id:"000207---ry",level:5},{value:"<em>00:02:15 - Burak</em>",id:"000215---burak",level:5},{value:"<em>00:02:42 - Ry</em>",id:"000242---ry",level:5},{value:"<em>00:02:50 - Burak</em>",id:"000250---burak",level:5},{value:"<em>00:02:52 - Ry</em>",id:"000252---ry",level:5},{value:"<em>00:02:57 - Burak</em>",id:"000257---burak",level:5},{value:"<em>00:04:37 - Burak</em>",id:"000437---burak",level:5},{value:"<em>00:05:18 - Ry</em>",id:"000518---ry",level:5},{value:"<em>00:05:31 - Burak</em>",id:"000531---burak",level:5},{value:"<em>00:06:12 - Ry</em>",id:"000612---ry",level:5},{value:"<em>00:06:22 - Burak</em>",id:"000622---burak",level:5},{value:"<em>00:06:50 - Ry</em>",id:"000650---ry",level:5},{value:"<em>00:06:57 - Burak</em>",id:"000657---burak",level:5},{value:"<em>00:07:11 - Ry</em>",id:"000711---ry",level:5},{value:"<em>00:07:25 - Burak</em>",id:"000725---burak",level:5},{value:"<em>00:07:45 - Ry</em>",id:"000745---ry",level:5},{value:"<em>00:08:19 - Burak</em>",id:"000819---burak",level:5},{value:"<em>00:09:48 - Ry</em>",id:"000948---ry",level:5},{value:"<em>00:10:19 - Burak</em>",id:"001019---burak",level:5},{value:"<em>00:12:04 - Burak</em>",id:"001204---burak",level:5},{value:"<em>00:13:09 - Ry</em>",id:"001309---ry",level:5},{value:"<em>00:13:24 - Burak</em>",id:"001324---burak",level:5},{value:"<em>00:13:38 - Ry</em>",id:"001338---ry",level:5},{value:"<em>00:13:40 - Burak</em>",id:"001340---burak",level:5},{value:"<em>00:14:17 - Ry</em>",id:"001417---ry",level:5},{value:"<em>00:14:25 - Burak</em>",id:"001425---burak",level:5},{value:"<em>00:15:24 - Ry</em>",id:"001524---ry",level:5},{value:"<em>00:15:47 - Burak</em>",id:"001547---burak",level:5},{value:"<em>00:16:19 - Ry</em>",id:"001619---ry",level:5},{value:"<em>00:16:25 - Burak</em>",id:"001625---burak",level:5},{value:"<em>00:16:45 - Ry</em>",id:"001645---ry",level:5},{value:"<em>00:17:01 - Burak</em>",id:"001701---burak",level:5},{value:"<em>00:17:10 - Ry</em>",id:"001710---ry",level:5},{value:"<em>00:17:12 - Burak</em>",id:"001712---burak",level:5},{value:"<em>00:19:06 - Ry</em>",id:"001906---ry",level:5},{value:"<em>00:19:14 - Burak</em>",id:"001914---burak",level:5},{value:"<em>00:20:45 - Ry</em>",id:"002045---ry",level:5},{value:"<em>00:21:50 - Burak</em>",id:"002150---burak",level:5},{value:"<em>00:22:55 - Ry</em>",id:"002255---ry",level:5},{value:"<em>00:23:11 - Burak</em>",id:"002311---burak",level:5},{value:"<em>00:24:03 - Ry</em>",id:"002403---ry",level:5},{value:"<em>00:24:35 - Burak</em>",id:"002435---burak",level:5},{value:"<em>00:24:45 - Ry</em>",id:"002445---ry",level:5},{value:"<em>00:24:48 - Burak</em>",id:"002448---burak",level:5},{value:"<em>00:25:04 - Ry</em>",id:"002504---ry",level:5},{value:"<em>00:25:14 - Burak</em>",id:"002514---burak",level:5},{value:"<em>00:26:14 - Ry</em>",id:"002614---ry",level:5},{value:"<em>00:27:38 - Ry</em>",id:"002738---ry",level:5},{value:"<em>00:27:40 - Burak</em>",id:"002740---burak",level:5},{value:"<em>00:29:19 - Burak</em>",id:"002919---burak",level:5},{value:"<em>00:29:36 - Ry</em>",id:"002936---ry",level:5},{value:"<em>00:30:25 - Burak</em>",id:"003025---burak",level:5},{value:"<em>00:31:21 - Ry</em>",id:"003121---ry",level:5},{value:"<em>00:32:17 - Burak</em>",id:"003217---burak",level:5},{value:"<em>00:33:10 - Ry</em>",id:"003310---ry",level:5},{value:"<em>00:33:41 - Burak</em>",id:"003341---burak",level:5},{value:"<em>00:34:18 - Ry</em>",id:"003418---ry",level:5},{value:"<em>00:34:50 - Burak</em>",id:"003450---burak",level:5},{value:"<em>00:35:10 - Ry</em>",id:"003510---ry",level:5},{value:"<em>00:35:24 - Burak</em>",id:"003524---burak",level:5}],h={toc:u},d="wrapper";function m(e){let{components:t,...a}=e;return(0,i.kt)(d,(0,o.Z)({},h,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Postgres for everything? How about building a new cloud provider? In episode 7 of Hacking Postgres, Ry talks with Burak Yucesoy of Ubicloud about new clouds, getting attached to extensions, and the future potential of Postgres."),(0,i.kt)("p",null,"Watch below, or listen on Apple/Spotify (or your podcast platform of choice). Special thanks to Regina and Paul for joining us today!"),(0,i.kt)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/_f4WZwkrXQw?si=V2H6vs_e86Aq2xJt",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:!0}),(0,i.kt)("p",null,"Want to know more about something they mentioned? Here\u2019s a starting point:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Ubicloud - ",(0,i.kt)("a",{parentName:"li",href:"https://www.ubicloud.com/"},"https://www.ubicloud.com/")),(0,i.kt)("li",{parentName:"ul"},"Citus Data - ",(0,i.kt)("a",{parentName:"li",href:"https://www.citusdata.com/"},"https://www.citusdata.com/")),(0,i.kt)("li",{parentName:"ul"},"PostgreSQL HLL - ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/citusdata/postgresql-hll"},"https://github.com/citusdata/postgresql-hll")),(0,i.kt)("li",{parentName:"ul"},"JSONB - ",(0,i.kt)("a",{parentName:"li",href:"https://www.postgresql.org/docs/current/datatype-json.html"},"https://www.postgresql.org/docs/current/datatype-json.html")),(0,i.kt)("li",{parentName:"ul"},"hstore -",(0,i.kt)("a",{parentName:"li",href:"https://www.postgresql.org/docs/current/hstore.html"},"https://www.postgresql.org/docs/current/hstore.html"))),(0,i.kt)("p",null,"Did you enjoy the episode? Have ideas for someone else we should invite? Let us know your thoughts on X at @tembo_io or share them with the team in our ",(0,i.kt)("a",{parentName:"p",href:"https://join.slack.com/t/tembocommunity/shared_invite/zt-23o25qt91-AnZoC1jhLMLubwia4GeNGw"},"Slack Community"),"."),(0,i.kt)("h2",{id:"transcript"},"Transcript"),(0,i.kt)("h5",{id:"000012---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:00:12]"," - Ry")),(0,i.kt)("p",null,"Hello. I'm Ry Walker, founder of Tembo, a managed Postgres company. And today I have Burak from Ubicloud. How do you say UB? Ubi."),(0,i.kt)("h5",{id:"000023---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:00:23]"," - Burak")),(0,i.kt)("p",null,"Ubicloud."),(0,i.kt)("h5",{id:"000024---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:00:24]"," - Ry")),(0,i.kt)("p",null,"Yeah, UB. Welcome to the podcast Burak."),(0,i.kt)("h5",{id:"000033---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:00:33]"," - Burak")),(0,i.kt)("p",null,"Yeah, thanks a lot for having me here."),(0,i.kt)("h5",{id:"000036---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:00:36]"," - Ry")),(0,i.kt)("p",null,"Yeah, well I'd love to start with giving us a quick background. I'm curious where'd you grow up and what were you doing before?"),(0,i.kt)("h5",{id:"000048---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:00:48]"," - Burak")),(0,i.kt)("p",null,"Well, well hello everyone, this is Burak and I work as a software developer and I guess in reverse chronological order I worked at Microsoft, Citus Data and SAP on distributed databases in all three and currently I worked at a startup called Ubicloud. We are basically building a new cloud provider and the primary thing we do differently than other providers is that well all the code is open. You can think it as open alternative to existing cloud providers. You can go to GitHub, check out the code, set it up on a bare meta server and then you can have your own cloud or you can use our managed offering of course. So yeah, this is brief history of me working professionally."),(0,i.kt)("h5",{id:"000146---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:01:46]"," - Ry")),(0,i.kt)("p",null,"Yeah, nice. So you're open sourcing, essentially open sourcing and what AWS and GCP and Azure have done."),(0,i.kt)("h5",{id:"000155---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:01:55]"," - Burak")),(0,i.kt)("p",null,"Yeah, definitely, I'm seeing it what Linux is to proprietary operating systems. This is what we are doing for the cloud providers."),(0,i.kt)("h5",{id:"000207---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:02:07]"," - Ry")),(0,i.kt)("p",null,"Yeah, and you only have to build 300 different services on top of it. Right, but luckily a lot of those are open source too."),(0,i.kt)("h5",{id:"000215---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:02:15]"," - Burak")),(0,i.kt)("p",null,"Kind of. Well, I guess our current plan is not building all 200 render services because most of the time people use only ten at most 20. If you implement 20 of them, I guess you have 80% of the use cases. So I guess this is our initial plan but we never know what would feature show."),(0,i.kt)("h5",{id:"000242---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:02:42]"," - Ry")),(0,i.kt)("p",null,"Yeah, I think it's a great idea. I'm excited to watch it evolve and hopefully partner with you guys at some point."),(0,i.kt)("h5",{id:"000250---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:02:50]"," - Burak")),(0,i.kt)("p",null,"Yeah, that would be awesome."),(0,i.kt)("h5",{id:"000252---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:02:52]"," - Ry")),(0,i.kt)("p",null,"Do you remember when you first started using Postgres?"),(0,i.kt)("h5",{id:"000257---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:02:57]"," - Burak")),(0,i.kt)("p",null,"Yeah, I do. Well to be honest, when I start programming I started as a web developer and at that time Lamp stack was very common. So my first database was MySQL but then I started working at Citus Data and which is the place that I started working development part of the Postgres. So basically for people who don't know Site, the Sitestata was the company behind many popular extensions such as Citus or Pgcron or PostgreSQL HLL. So when I first joined Citus Data, I initially worked on building Citus extension and while doing that you need to dig to the Postgres code first you need to understand and then you build your extension on top of it. And then we built our own managed service. So I switched to that team to build a Postgres managed service and some of our customers were well, they were heavily using PostgresQL HLL extension and at that time the original authors of the PostgreSQL HLL extension, they went through an acquisition process and they didn't have enough time at their hand to maintain the extension. And well, we know the people and at that time PostgreSQL Community was much smaller."),(0,i.kt)("h5",{id:"000437---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:04:37]"," - Burak")),(0,i.kt)("p",null,"So we just called them and said that, hey, we want to maintain this extension, what do you think about? And they were pretty happy to find a new maintainer. So, long story short, I found myself as the maintainer of the PostgreSQL extension and then the Citus Data got acquired by Microsoft and then well, I continued my Postgres journey on Microsoft. Like we also build a managed server stash. Yeah, I guess that's how I start with Postgres development. Well, not just start like till the almost whole journey."),(0,i.kt)("h5",{id:"000518---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:05:18]"," - Ry")),(0,i.kt)("p",null,"Yeah. And are you taking a little bit of a break from it right now or are you working on Postgres stuff over at Ubicloud?"),(0,i.kt)("h5",{id:"000531---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:05:31]"," - Burak")),(0,i.kt)("p",null,"Yeah, well, first of all, we use Postgres in Ubicloud as like most of my professional community, like the friends, and they are from Postgres Community, so there's no way I can leave that community at all. But as a cloud provider, Ubicloud also needs to offer a Postgres service. So we are planning some things like it's not very well defined yet, but I think eventually we will have something for Postgres as well."),(0,i.kt)("h5",{id:"000612---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:06:12]"," - Ry")),(0,i.kt)("p",null,"Out of curiosity, are you guys I'm sure this is a hotly debated topic, but Kubernetes or no Kubernetes inside of UBI Cloud?"),(0,i.kt)("h5",{id:"000622---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:06:22]"," - Burak")),(0,i.kt)("p",null,"Well, in our case right now, no Kubernetes. We have pretty simple control plane, which if you want, I think you can move it to Kubernetes. But right now we don't use it. Not that we have anything against Kubernetes, it's just I guess right now we don't need that complexity, I believe."),(0,i.kt)("h5",{id:"000650---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:06:50]"," - Ry")),(0,i.kt)("p",null,"Yeah, well, and I imagine you'll have managed Kubernetes. You'd have to have that. That'll be one of your 1st 20 most likely."),(0,i.kt)("h5",{id:"000657---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:06:57]"," - Burak")),(0,i.kt)("p",null,"Yeah, definitely. Because managed Kubernetes is quite one of the most demanded products, so it needs to be one of the first."),(0,i.kt)("h5",{id:"000711---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:07:11]"," - Ry")),(0,i.kt)("p",null,"Well, so again, you were working on Citus...When you started working on it, was it an extension or was it, I don't know the full history? Was it a fork at any point and then became extension?"),(0,i.kt)("h5",{id:"000725---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:07:25]"," - Burak")),(0,i.kt)("p",null,"Yeah, at the beginning it was a fork and just before I joined the team it become an extension. So basically Citus become an extension and become an open source at the same time. And I think I joined Citus team in like one month after that. "),(0,i.kt)("h5",{id:"000745---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:07:45]"," - Ry")),(0,i.kt)("p",null,"Got it. So you never were part of that previous era. Were a lot of the hard problems already solved, would you say, with Citus? Usually. I just did a talk with the PostGIS team and they said early on is where they solved the most of the problems and it was more gradual after that. Is that the case with Citus too, or was there a big project that happened after you joined well, I think."),(0,i.kt)("h5",{id:"000819---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:08:19]"," - Burak")),(0,i.kt)("p",null,"Most of the difficult problems were already solved and to be honest, I think one of the problems with the extension development is that there isn't good documentation about it. Like for Postgres has pretty good documentation for user facing features. But if you want to as a developer, there isn't that much resources so you usually need to read lots of Postgres code. And to be honest, I think Postgres code is pretty readable for a project at its size and that big and that old, so I think that's a huge plus. But still you need to read lots of code to understand what you need to do. And in our case, thankfully, Citrus hired one of the most prominent contributors of the Postgres Andres Freund and he primarily lead the effort to make Citus an extension. And I think at that time I believe Postgres extension framework also didn't have some of the features we need. So we had to do some hacky workaround. But eventually Postgres extension framework also got improved and we had chance to remove those hacky workaround."),(0,i.kt)("h5",{id:"000948---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:09:48]"," - Ry")),(0,i.kt)("p",null,"Yeah, that's great. Yeah, it sounds like that's happening now with lots know a lot of the innovation in Postgres happens as a fork with the hope that in a version or two can become an extension and then maybe a couple of versions. After that it becomes a less hacky extension. Right? You can streamline it, but it's a four year journey or so. Tell me about PostgreSQL HLL. Tell me what's HLL stand for."),(0,i.kt)("h5",{id:"001019---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:10:19]"," - Burak")),(0,i.kt)("p",null,"Yeah, well, HLL stands for Hyperlog log and it is an extension to make a cardinality estimation, which is a fancy way of saying doing count distinct but approximately. Let me first explain why approximately. The reason is doing count distinct as an accurate number is pretty difficult. Well, not difficult, but maybe unfeasible. If your data size is small, that's okay. But if you have lots of data, the usual way is keeping a hash map or hash set. Every time you see an item you put it to hash set and at the end you count number of items in it. But if you have lots of data that becomes unfeasible. If you have a distributed system, like if you are doing count testing in two different nodes, that becomes even more difficult. Because let's say you bite the bullet and calculate the counter stick in one node and the other node, it's not possible to merge the result. Because there might be common elements, you cannot just sum them up. So what Hyperlog log does is it uses an approximation algorithm. I can go into detail of it as well to have an internal representation of the number of unique elements which is both memory efficient compared to doing a hash map which is also easy to merge."),(0,i.kt)("h5",{id:"001204---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:12:04]"," - Burak")),(0,i.kt)("p",null,"So it allows you to do like the parallel computing. And the only gotcha is it is not an exact number, it's an approximation, but it turns out that we don't need exact number most of the time. Like for example, especially in analytical use cases, let's say you want to count the number of unique users that visit your website. It doesn't matter if they are 4 million or 4.1 million, like you want a ballpark number. And also the good thing is the error rate of hyperlog log is quite small. It is usually around 2% and you can make it even smaller if you give it a bit more memory like you can make it more accurate while this hyperlog log algorithm is just out there. And what PostgreSQL hyperlog log does is it implements this algorithm for PostgreSQL."),(0,i.kt)("h5",{id:"001309---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:13:09]"," - Ry")),(0,i.kt)("p",null,"So how much of a resource reduction would you estimate that using an approximation? So you lose a percentage or two of accuracy, but you get how much less compute required?"),(0,i.kt)("h5",{id:"001324---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:13:24]"," - Burak")),(0,i.kt)("p",null,"Well, usually it's about 1.5 KB. So the hyperlogo data structure on default it takes about 1.5 KB memory."),(0,i.kt)("h5",{id:"001338---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:13:38]"," - Ry")),(0,i.kt)("p",null,"Orders of magnitude smaller."),(0,i.kt)("h5",{id:"001340---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:13:40]"," - Burak")),(0,i.kt)("p",null,"Yeah, actually log log parts come from that. So if you are dealing with 32 bit integers, it can go up to two to the 32. You get the log of that, it is 32. You get another log that you get five. So you need five bits of memory to be able to store one bucket. And then what hyperlog log does is it keeps multiple buckets to increase the accuracy. So at the end it end up about like 1.5 kilobyte."),(0,i.kt)("h5",{id:"001417---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:14:17]"," - Ry")),(0,i.kt)("p",null,"Got it. So how involved were you in that extension? Did you start it or did you inherit it?"),(0,i.kt)("h5",{id:"001425---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:14:25]"," - Burak")),(0,i.kt)("p",null,"I inherited it. So actually another startup called Aggregate Knowledge built that extension. Then I think they got acquired by New Star and at that time the project was not maintained frequently. So there were some boxes we need to be merged in and our customers were also using it. So we contacted the original authors and said that hey, we want to maintain this. And they were happy to hand over the maintainership to us. And then after that we did bug fixes, we did regular releases. I presented a few conference talks about hyperlog log  in Pgcomp EU and Pgcomp US. Yeah, that's the overall story."),(0,i.kt)("h5",{id:"001524---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:15:24]"," - Ry")),(0,i.kt)("p",null,"I'm curious, have you been able to disconnect from I imagine it's easier to disconnect from Citus as an extension after leaving Microsoft, but disconnecting from this extension PostgreSQL HLL. Are you still kind of watching that because you have that knowledge?"),(0,i.kt)("h5",{id:"001547---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:15:47]"," - Burak")),(0,i.kt)("p",null,"Yeah, I have a little bit of emotional bond to that extension. Well, for example, there were few improvements that I wanted to do, but I didn't have time while working at Microsoft and it just, itched me from time to time and it is open source. So I guess at some point in near future I'll open a pull request and hopefully it would get merged. I hope."),(0,i.kt)("h5",{id:"001619---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:16:19]"," - Ry")),(0,i.kt)("p",null,"Yeah, but Microsoft team controls that extension as it sits."),(0,i.kt)("h5",{id:"001625---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:16:25]"," - Burak")),(0,i.kt)("p",null,"Yeah, right now Microsoft team controls, they continue to do regular releases and every time new PostgreSQL version comes up they ensure that it works well and they update the packages, release new packages. If there's a bug report, they are the one who fixes it."),(0,i.kt)("h5",{id:"001645---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:16:45]"," - Ry")),(0,i.kt)("p",null,"How many extensions, I mean, obviously there's the Citus extension, this one. How many total extensions would you say like Microsoft has in Postgres? I know maybe it's hard to nail down a number, but there are a bunch of others too."),(0,i.kt)("h5",{id:"001701---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:17:01]"," - Burak")),(0,i.kt)("p",null,"There are there's Citus, there's PostgresQL HLL. There is Pgcron which is also quite popular. It is a Chrome based job scheduler."),(0,i.kt)("h5",{id:"001710---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:17:10]"," - Ry")),(0,i.kt)("p",null,"Yeah, I just started using that."),(0,i.kt)("h5",{id:"001712---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:17:12]"," - Burak")),(0,i.kt)("p",null,"Yeah, that's pretty cool. It is primarily developed by Marco Slot. There is one extension to ensure that Postgres works. Postgres is well integrated with Azure. So there's like an extension called PG Azure. I think it's not open source but if you start a Postgres instance from Azure and check the extensions, if there's that extension there is TopN which is also approximation based extension. It gives you top N elements of a sorted list. And if you think about it is also expensive operation to do on big data set because you need to sort them first and take the top N. And I think there are more optimized algorithms that where you can keep heap which is more memory efficient but you still need to go over lots of data at that time. At Citus we also developed this TopN extension. Actually, if you look at it, the general team is about being able to do things at scale because Postgres is already pretty good at doing things in a single node. And like the title primary use case was make. A distributed PostgreSQL and we developed few extensions to make some operations that are not feasible to do at scale and find a ways to make them more feasible."),(0,i.kt)("h5",{id:"001906---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:19:06]"," - Ry")),(0,i.kt)("p",null,"So I'm curious, are there some big milestones in Postgres that you're looking forward to?"),(0,i.kt)("h5",{id:"001914---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:19:14]"," - Burak")),(0,i.kt)("p",null,"Yeah, well, actually I was looking forward for Postgres 16 release mostly because of the logical replication improvement. There are few and I think there will be more upcoming because I think logical replication is a very powerful concept but it's still a bit cumbersome to use it with PostgreSQL, especially when there's a change in the data, like if when you run a DDL command or when you have a failover. So there are few gotcha and I think with the Postgres 16 some of these are less problematic and maybe I hope in the upcoming versions it would be even easier to use. Well, when you have a very solid logical replication, it opens up lots of cool features. Well, one thing that I personally invested in is being able to do zero downtime failovers and when I say zero time downtime, I mean like the real zero downtime. Not just like 1 second downtime, but real zero downtime. And I think logical replication, solid logical replication would open up that yeah, I agree."),(0,i.kt)("h5",{id:"002045---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:20:45]"," - Ry")),(0,i.kt)("p",null,"It's one thing to do that too with a single node versus a Citus cluster too right. Zero downtime gets complicated the more complicated your deployment is. But I agree on a single deployment I have this idea where we could basically build scaffolding around the existing thing, whatever it takes, like get another one working. In other words, temporarily have replication happening and then somehow seamlessly up above you have to have some fulcrum that you can so it's a complicated thing to figure out but I think it'd be great for a managed service provider to basically build up temporary infrastructure that helps the zero downtime thing happen. If that's true, then you can restart for all kinds of reasons with impunity like auto scaling is possible, stuff like that."),(0,i.kt)("h5",{id:"002150---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:21:50]"," - Burak")),(0,i.kt)("p",null,"Yeah, and one reason I especially interested in was that in our previous managed service we do lots of operations via failover. Like for example, if you want to scale up what we would do is we create another server with higher number of cores and then we would do failover. Or if you want to like for example, we might need to do maintenance like maybe we found a security vulnerability or there is the regular maintenance. What we would do is instead of going and patching the existing server we would create a new one and then we do a failover to that one and each of those failovers. It takes some amount of downtime which is not obviously not preferable and not a good experience for customers but if they were virtually free from the perspective of customer if they don't even notice that there's a failover then you can do as many failovers as you want."),(0,i.kt)("h5",{id:"002255---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:22:55]"," - Ry")),(0,i.kt)("p",null,"You share the same vision as I do there. I think it would be exciting to get there. So I'm curious though, if there was one thing that you could if you had a magic wand and this weekend something new would be in Postgres core, what would it be? What would you use that wand on?"),(0,i.kt)("h5",{id:"002311---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:23:11]"," - Burak")),(0,i.kt)("p",null,"Yeah, that's difficult. I want lots of things like picking one is difficult but I guess one thing that bothers me is that for high availability and backups you always need to depend the third party tool I would really love that to be sold in Postgres. Like for example, for Redis it comes with very good default settings that you can use for high availability. But for Postgres there are solutions. There are good solutions but I would love them to be in the core."),(0,i.kt)("h5",{id:"002403---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:24:03]"," - Ry")),(0,i.kt)("p",null,"Yeah, I get that for sure. It's tricky when you have to buy a product or let's say you adopt a product and you immediately have to adopt x additional products right off the bat and that's not a good feeling. It feels complex, right? Yeah, that's cool, I would say. Do you have any opinions about Postgres that almost nobody agrees with you about? Are you a contrarian in any area that you can think of?"),(0,i.kt)("h5",{id:"002435---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:24:35]"," - Burak")),(0,i.kt)("p",null,"Let me see. I don't think so. Well."),(0,i.kt)("h5",{id:"002445---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:24:45]"," - Ry")),(0,i.kt)("p",null,"Maybe that's one of the areas that put that you think backrupt should be inside."),(0,i.kt)("h5",{id:"002448---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:24:48]"," - Burak")),(0,i.kt)("p",null,"There is that. But I know there are people who also share that opinion. Yeah, I'm not sure it's okay."),(0,i.kt)("h5",{id:"002504---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:25:04]"," - Ry")),(0,i.kt)("p",null,"Yeah, I was just curious. It's always fun to talk about those things, if they exist. Give you a soapbox."),(0,i.kt)("h5",{id:"002514---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:25:14]"," - Burak")),(0,i.kt)("p",null,"Actually, there is one thing, but that's also even I think Tembo kind of agrees with me on that one, is that I think many different use cases can be implemented in Postgres. So instead of having a lot of specialized databases, you can have Postgres. And with some configuration and maybe few extensions, you can implement, like you can implement Kafka in Postgres, you can implement Redis, you can implement like the NoSQL in Postgres. I guess if I said this maybe two, three years ago, probably I would get more raised eye growth. But now I think more people start thinking to think like that. I think Tembo is also thinking things along similar lines, right?"),(0,i.kt)("h5",{id:"002614---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:26:14]"," - Ry")),(0,i.kt)("p",null,"Yeah, I think there's openness to it. I talked to a lot of people, and the question is how people are Postgres for everything. Or question is what percentage of developers are actually on that bandwagon? Obviously on Twitter, it just takes one person, and it's a big community, too, especially if it's a contrarian view. But I'm kind of curious. One of the things I want to find out over the next few months is what percentage of developers would actually if this Postgres for Everything was real, would they actually use it versus still saying \"Ehh.\" And I think it all comes down to like I think, yeah, you can do Kafka, like work on Postgres right now, but it doesn't feel as clean as buying Confluent. That seems like a very safe decision. And doing something like Kafka on Postgres seems like you're just kind of stringing together a Rube Goldberg machine and it doesn't feel like a solid. But the question is, if those solutions were solid, would people use them? And that's our big thesis, is that if they were solid, people would use them. But I just don't know what percentage of people would do that."),(0,i.kt)("h5",{id:"002738---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:27:38]"," - Ry")),(0,i.kt)("p",null,"A big percentage or a small percentage?"),(0,i.kt)("h5",{id:"002740---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:27:40]"," - Burak")),(0,i.kt)("p",null,"Yeah, I'm not sure. But there is one interesting thing that come into my mind, is, well, today Postgres supports JSONB type, but it was not like that all the time. So in the earlier days, if you want to store JSON data, we had an extension called hstore, which we still have, but not as commonly used as before. And what hstore does is, and this is one of the very powerful part of PostgreSQL extension framework, hstore defined the data type, and on top of it, they defined how you can hash this data type and how you can compare this data type. And when you do this in Postgres, Postgres allows you to create index on that data type. So suddenly you are not only able to store JSON data, but you can index it. And at that time this is kind of rare things even for NoSQL database. So I think it's a bit funny. And also it shows the power of PostgreSQL extension framework is that suddenly you are able to do what NoSQL database does but better. I mean, not in all perspectives, like connection scaling was still a problem, but being able to index NoSQL data, being able to index JSON, it was a rare feature even for NoSQL databases."),(0,i.kt)("h5",{id:"002919---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:29:19]"," - Burak")),(0,i.kt)("p",null,"But you had it in Postgres. I don't know, maybe some of these other databases or other use cases Postgres might have something unexpected that would make it better."),(0,i.kt)("h5",{id:"002936---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:29:36]"," - Ry")),(0,i.kt)("p",null,"An unexpected advantage. Yeah, it's the same way with pgvector right now the great thing about doing vector embeddings inside of Postgres is that you don't have to move the data out of Postgres as part of the process. Right. You can just add a column and keep it where it is, whereas anybody else has if it's an external vector database that's specific for that use case, you have to have data pipelines and all that kind of machinery. Which that's to me, one of the big benefits of keeping it all in Postgres is less data movement. And less data movement can mean much like no data delays and all that kind of stuff go away. So yeah, I agree with you, there's a lot of unexpected benefits for keeping things together."),(0,i.kt)("h5",{id:"003025---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:30:25]"," - Burak")),(0,i.kt)("p",null,"Yeah, I guess since Postgres provides pretty strong asset guarantees, it allows you to build things on top of that. And when you have asset, then you can be much more free to develop complex features. Because what I realize is like while developing software, most of the time as a developer, I try to ensure that hey, what I'm doing is atomic or what I'm doing does not it is isolate. So it's not caused any problems if something is coming and not in the expected order. But you have chance to delegate all this to Postgres, I think that gives you quite a bit of advantage."),(0,i.kt)("h5",{id:"003121---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:31:21]"," - Ry")),(0,i.kt)("p",null,"Well, one of the things I love too is that because the Postgres core team is quite separated from the commercial products, is that I just think it seems like a very stable chassis to build these things on top of. And you really can't if it's more of a captive, open source project, say, like what Kafka is to Confluent. They can move Kafka quickly if they need to for commercial to help their commercial product, but that could introduce more instability. I just don't see this Postgres team doing anything very risky, which to me is a great counterbalance to people developers trying to move fast and build crazy cool new things. It's just nice to have that as a stability factor, I think, inside the product."),(0,i.kt)("h5",{id:"003217---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:32:17]"," - Burak")),(0,i.kt)("p",null,"I think so, yeah. Well, I guess historically I think the Postgres community kind of divided into camps and some of them would want to implement new shiny thing and some of them would try to hey, just let's get stabilized. And I believe this JSONB support comes from the part who wants to innovate and try new things. And at the beginning, I think they got some hesitation from the other company. But at the end, I guess what they do proved itself to be very valuable. And then now JSONB support is one of the most widely used features of Postgres. Yeah, so I guess there is some sort of balance to try risky things and also try being stabilized."),(0,i.kt)("h5",{id:"003310---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:33:10]"," - Ry")),(0,i.kt)("p",null,"If you look at the number of the change log for Postgres 16 they did a lot of things. It's almost more than anyone can keep in their head. That's what I'm saying. The good stuff gets through, it's just the bar is high and then with a lot of assurances that they didn't break any part of Postgres in the process. I really appreciate that part of this thing and it's one of the reasons why I'm so excited to be building a product on top of it."),(0,i.kt)("h5",{id:"003341---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:33:41]"," - Burak")),(0,i.kt)("p",null,"Yeah, well, at the same time it is sometimes bit frustrating because sometimes you have a feature you want it to be merged in like you might be author or you might be just someone watching from the site and desperately need that feature. And then you see that there is a huge discussion going on and people cannot convince each other and it falls to the next cycle, which is like the one years later. So that's a bit frustrating but I guess yeah, it is kind of cost of having a quite stable system."),(0,i.kt)("h5",{id:"003418---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:34:18]"," - Ry")),(0,i.kt)("p",null,"It's the cost. And like I said, well, obviously I haven't been here for the 26 years watching the mailing lists and maybe I'm jumping in here relatively late in a cycle and I just appreciate all the efforts and all the debates and all the fights that have happened there because I think it's created such a great core engine. All right, well, so where can listeners find you online? I imagine you're on X. Yeah, they."),(0,i.kt)("h5",{id:"003450---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:34:50]"," - Burak")),(0,i.kt)("p",null,"Can find me at X, at LinkedIn. Yeah, I guess those two would be the places they could find me, but mostly at X. My alias is at BYucesoy. So basically my first letter of my name and my last name. Great."),(0,i.kt)("h5",{id:"003510---ry"},(0,i.kt)("em",{parentName:"h5"},"[00:35:10]"," - Ry")),(0,i.kt)("p",null,"Well, we're excited to see the outcome of as you guys are shipping Ubicloud. Excited to see that. And yeah, appreciate you joining us today."),(0,i.kt)("h5",{id:"003524---burak"},(0,i.kt)("em",{parentName:"h5"},"[00:35:24]"," - Burak")),(0,i.kt)("p",null,"Thanks a lot for having me here, it was great talk, I enjoyed a lot and I'm definitely looking for the other episodes to release so that I can listen."))}m.isMDXComponent=!0}}]);