"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[474],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>g});var s=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,s,i=function(e,t){if(null==e)return{};var n,s,i={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=s.createContext({}),l=function(e){var t=s.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=l(e.components);return s.createElement(d.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return s.createElement(s.Fragment,{},t)}},m=s.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,d=e.parentName,p=r(e,["components","mdxType","originalType","parentName"]),c=l(n),m=i,g=c["".concat(d,".").concat(m)]||c[m]||u[m]||a;return n?s.createElement(g,o(o({ref:t},p),{},{components:n})):s.createElement(g,o({ref:t},p))}));function g(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=m;var r={};for(var d in t)hasOwnProperty.call(t,d)&&(r[d]=t[d]);r.originalType=e,r[c]="string"==typeof e?e:i,o[1]=r;for(var l=2;l<a;l++)o[l]=n[l];return s.createElement.apply(null,o)}return s.createElement.apply(null,n)}m.displayName="MDXCreateElement"},85165:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>d,default:()=>g,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var s=n(87462),i=(n(67294),n(3905));const a=n.p+"assets/images/di-command-2995e9af87750f2f2698b57781129a8a.png",o=n.p+"assets/images/sql-query-c6b00ed87b41ced1cb873db8b0efa1c4.png",r={sidebar_position:2,tags:["Postgres Basics"]},d="Listing indexes in Postgres",l={unversionedId:"postgres_guides/listing-indexes-in-postgres/listing-indexes-in-postgres",id:"postgres_guides/listing-indexes-in-postgres/listing-indexes-in-postgres",title:"Listing indexes in Postgres",description:"Indexing is a technique in databases that can help speed up searches. When managing a database, depending on the workload that will run on the database, you might decide to create indexes for certain tables.",source:"@site/docs/postgres_guides/listing-indexes-in-postgres/listing-indexes-in-postgres.md",sourceDirName:"postgres_guides/listing-indexes-in-postgres",slug:"/postgres_guides/listing-indexes-in-postgres/",permalink:"/docs/postgres_guides/listing-indexes-in-postgres/",draft:!1,editUrl:"https://github.com/tembo-io/website/blob/main/docs/postgres_guides/listing-indexes-in-postgres/listing-indexes-in-postgres.md",tags:[{label:"Postgres Basics",permalink:"/docs/tags/postgres-basics"}],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,tags:["Postgres Basics"]},sidebar:"tutorialSidebar",previous:{title:"Listing all connections to Postgres",permalink:"/docs/postgres_guides/listing-all-connections-in-postgres/"},next:{title:"Working with JSON Data in Postgres",permalink:"/docs/postgres_guides/working-with-json-data-in-postgres/"}},p={},c=[{value:"The <code>di</code> command",id:"the-di-command",level:2},{value:"Using <code>pg_indexes</code> SQL query",id:"using-pg_indexes-sql-query",level:2},{value:"Conclusion",id:"conclusion",level:2}],u={toc:c},m="wrapper";function g(e){let{components:t,...n}=e;return(0,i.kt)(m,(0,s.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"listing-indexes-in-postgres"},"Listing indexes in Postgres"),(0,i.kt)("p",null,"Indexing is a technique in databases that can help speed up searches. When managing a database, depending on the workload that will run on the database, you might decide to create indexes for certain tables."),(0,i.kt)("p",null,"In this example, let\u2019s imagine you manage a library, and thus we have tables to manage books, customers, and employees. Each of these tables may have indexes depending on their workloads."),(0,i.kt)("p",null,"Later you might want to see what indexes exist in that table. There are 2 different methods to list down all the indexes present in the Postgres database - using ",(0,i.kt)("inlineCode",{parentName:"p"},"\\di")," command and using ",(0,i.kt)("inlineCode",{parentName:"p"},"pg_indexes")," SQL query. In this tutorial, we will examine these two techniques and understand their differences."),(0,i.kt)("h2",{id:"the-di-command"},"The ",(0,i.kt)("inlineCode",{parentName:"h2"},"\\di")," command"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Step 1")," - Open your terminal and connect it to your desired Postgres database. Follow our ",(0,i.kt)("a",{parentName:"p",href:"https://tembo.io/docs/postgres_guides/how-to-connect-to-postgres/"},"guide to set up the connection with the database"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Step 2")," - To list down all the indexes, use the ",(0,i.kt)("inlineCode",{parentName:"p"},"\\di")," command."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"\\di\n")),(0,i.kt)("img",{src:a,width:"600",alt:"DiCommand"}),(0,i.kt)("p",null,"This command returns the table of all indexes present in the database consisting of details like ",(0,i.kt)("em",{parentName:"p"},"Schema"),", ",(0,i.kt)("em",{parentName:"p"},"Name"),", ",(0,i.kt)("em",{parentName:"p"},"Type"),", ",(0,i.kt)("em",{parentName:"p"},"Owner"),", and ",(0,i.kt)("em",{parentName:"p"},"Table"),"."),(0,i.kt)("p",null,"The ",(0,i.kt)("a",{parentName:"p",href:"https://www.postgresql.org/docs/current/app-psql.html#APP-PSQL-META-COMMAND-DE"},(0,i.kt)("inlineCode",{parentName:"a"},"\\di")," command (docs)")," can accept a pattern parameter, where only indexes matching that pattern will be listed."),(0,i.kt)("h2",{id:"using-pg_indexes-sql-query"},"Using ",(0,i.kt)("inlineCode",{parentName:"h2"},"pg_indexes")," SQL query"),(0,i.kt)("p",null,"Postgres comes with a system view ",(0,i.kt)("inlineCode",{parentName:"p"},"pg_indexes")," that can be used to list down all the indexes. You can use this SQL query to display the list of all indexes."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Step 1")," - Open your terminal and connect it to your desired Postgres database. Follow our ",(0,i.kt)("a",{parentName:"p",href:"https://tembo.io/docs/postgres_guides/how-to-connect-to-postgres/"},"guide to setup the connection with the database"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Step 2")," - To list down all the indexes, use this sql query:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"SELECT indexname AS index_name,\n       tablename AS table_name\nFROM pg_indexes\nWHERE schemaname = 'public';\n")),(0,i.kt)("img",{src:o,width:"400",alt:"SqlQuery"}),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"You can run this same command in the pgAdmin tool and it will return the same results.")),(0,i.kt)("p",null,"Here we have defined ",(0,i.kt)("inlineCode",{parentName:"p"},"index_name")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"table_name")," as alias names, but it\u2019s totally optional. If you want, you can avoid using them."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"index_name")," shows the name of the index stored and ",(0,i.kt)("inlineCode",{parentName:"p"},"table_name")," shows the name of the table stored at that particular index."),(0,i.kt)("p",null,"Here, we have displayed the ",(0,i.kt)("em",{parentName:"p"},"indexname")," and ",(0,i.kt)("em",{parentName:"p"},"tablename")," from the ",(0,i.kt)("inlineCode",{parentName:"p"},"pg_indexes"),". However, it also retains some additional data too. To know more about it, ",(0,i.kt)("a",{parentName:"p",href:"https://www.postgresql.org/docs/current/view-pg-indexes.html"},"check their official documentation"),"."),(0,i.kt)("h2",{id:"conclusion"},"Conclusion"),(0,i.kt)("p",null,"In this guide, we discussed different methods to list down all the indexes present in Postgres."),(0,i.kt)("p",null,"Want to expand your knowledge of Postgres? Explore our additional ",(0,i.kt)("a",{parentName:"p",href:"https://tembo.io/docs/category/postgres-guides"},"guides"),"."),(0,i.kt)("p",null,"Curious about extensions? Check out our ",(0,i.kt)("a",{parentName:"p",href:"https://tembo.io/blog/"},"blog posts")," to delve into Tembo's extensions."))}g.isMDXComponent=!0}}]);