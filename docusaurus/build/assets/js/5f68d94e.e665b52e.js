"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7083],{3905:(e,a,t)=>{t.d(a,{Zo:()=>u,kt:()=>k});var n=t(67294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function s(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?s(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function i(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var o=n.createContext({}),p=function(e){var a=n.useContext(o),t=a;return e&&(t="function"==typeof e?e(a):l(l({},a),e)),t},u=function(e){var a=p(e.components);return n.createElement(o.Provider,{value:a},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},c=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,s=e.originalType,o=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=p(t),c=r,k=m["".concat(o,".").concat(c)]||m[c]||d[c]||s;return t?n.createElement(k,l(l({ref:a},u),{},{components:t})):n.createElement(k,l({ref:a},u))}));function k(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var s=t.length,l=new Array(s);l[0]=c;var i={};for(var o in a)hasOwnProperty.call(a,o)&&(i[o]=a[o]);i.originalType=e,i[m]="string"==typeof e?e:r,l[1]=i;for(var p=2;p<s;p++)l[p]=t[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,t)}c.displayName="MDXCreateElement"},65780:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>p});var n=t(87462),r=(t(67294),t(3905));const s={sidebar_position:3,tags:["JSONB"]},l="JSONB",i={unversionedId:"postgres_guides/postgres-basics/jsonb",id:"postgres_guides/postgres-basics/jsonb",title:"JSONB",description:"Why JSONB?",source:"@site/docs/postgres_guides/postgres-basics/jsonb.md",sourceDirName:"postgres_guides/postgres-basics",slug:"/postgres_guides/postgres-basics/jsonb",permalink:"/docs/postgres_guides/postgres-basics/jsonb",draft:!1,editUrl:"https://github.com/tembo-io/website/blob/main/docs/postgres_guides/postgres-basics/jsonb.md",tags:[{label:"JSONB",permalink:"/docs/tags/jsonb"}],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,tags:["JSONB"]},sidebar:"tutorialSidebar",previous:{title:"Basic PostgreSQL Queries",permalink:"/docs/postgres_guides/postgres-basics/basic_sql_queries"},next:{title:"Connection Examples",permalink:"/docs/category/connection-examples"}},o={},p=[{value:"Why JSONB?",id:"why-jsonb",level:2},{value:"Creating a table",id:"creating-a-table",level:2},{value:"Inserting",id:"inserting",level:2},{value:"Querying",id:"querying",level:2},{value:"Updating",id:"updating",level:2},{value:"Checking if keys are present",id:"checking-if-keys-are-present",level:2},{value:"Creating indexes for JSONB data",id:"creating-indexes-for-jsonb-data",level:2},{value:"Types of indexes",id:"types-of-indexes",level:3},{value:"Index query example",id:"index-query-example",level:3}],u={toc:p},m="wrapper";function d(e){let{components:a,...t}=e;return(0,r.kt)(m,(0,n.Z)({},u,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"jsonb"},"JSONB"),(0,r.kt)("h2",{id:"why-jsonb"},"Why JSONB?"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Flexibility"),": JSONB allows for schema-less data storage, which can be useful for situations where the data structure is not fixed."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Query Capabilities"),": With JSONB, you can query specific fields, use array functions, and even join on JSONB fields."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Performance"),": JSONB data is stored in a binary format, making it faster to query compared to the textual JSON type. It also supports indexing, which can further speed up queries.")),(0,r.kt)("h2",{id:"creating-a-table"},"Creating a table"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE users (\n    id serial PRIMARY KEY,\n    data jsonb\n);\n")),(0,r.kt)("h2",{id:"inserting"},"Inserting"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'INSERT INTO users(data) VALUES\n(\'{"name": "John", "age": 28, "contacts": {"email": "john@example.com", "phone": "1234567890"}}\');\n')),(0,r.kt)("h2",{id:"querying"},"Querying"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Query a field:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT data->>'name' as name FROM users WHERE data->>'name' = 'John';\n")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"->")," operator returns data as the jsonb type. The operator ",(0,r.kt)("inlineCode",{parentName:"p"},"->>")," returns the data as text.")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Query a nested field:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT data->'contacts'->>'email' as email FROM users WHERE data->'contacts'->>'phone' = '1234567890';\n")),(0,r.kt)("h2",{id:"updating"},"Updating"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Peforming an update on one of the fields")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"UPDATE users SET data = jsonb_set(data, '{contacts,email}', '\"new_email@example.com\"') WHERE data->>'name' = 'John';\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Using another query to check it was updated")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT data->'contacts'->>'email' as email FROM users WHERE data->>'name' = 'John';\n")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Updating one field of JSONB data also rewrites the column to disk.")),(0,r.kt)("h2",{id:"checking-if-keys-are-present"},"Checking if keys are present"),(0,r.kt)("p",null,"With unstructured documents, you'll often want to check for the prescence of particular keys."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Checking for the existence of a key"),":")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT id FROM users WHERE data ? 'name';\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Checking for the existence of multiple keys"),":")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT id FROM users WHERE data ?& array['name', 'age'];\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Checking for the existence of any given key"),":")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT id FROM users WHERE data ?| array['name', 'nickname'];\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},'Checking for a particular value ("containment")'),":")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'SELECT data FROM users WHERE data @> \'{"name": "John"}\';\n')),(0,r.kt)("p",null,"There are also additional operators, read more details about JSON functions and operators in the Postgres documentation ",(0,r.kt)("a",{parentName:"p",href:"https://www.postgresql.org/docs/current/functions-json.html#FUNCTIONS-JSONB-OP-TABLE"},"here"),"."),(0,r.kt)("h2",{id:"creating-indexes-for-jsonb-data"},"Creating indexes for JSONB data"),(0,r.kt)("p",null,'Generalized Inverted Indexes ("GIN") can be used to efficiently search for keys or key/value pairs occurring within a large number of JSONB documents. Two GIN operator classes are provided, offering different performance and flexibility trade-offs.'),(0,r.kt)("h3",{id:"types-of-indexes"},"Types of indexes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Two primary GIN operator classes exist for ",(0,r.kt)("inlineCode",{parentName:"li"},"jsonb"),":",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Default (jsonb_ops)"),":",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Supports: ",(0,r.kt)("inlineCode",{parentName:"li"},"?"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"?|"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"?&"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"@>"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"@?"),", and ",(0,r.kt)("inlineCode",{parentName:"li"},"@@"),"."),(0,r.kt)("li",{parentName:"ul"},"Typical use:",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE INDEX idxgin ON users USING GIN (data);\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"idxgin")," is an arbitrary name for our index"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"jsonb_path_ops"),":",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Doesn't support key-exists operators but does support: ",(0,r.kt)("inlineCode",{parentName:"li"},"@>"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"@?"),", and ",(0,r.kt)("inlineCode",{parentName:"li"},"@@"),"."),(0,r.kt)("li",{parentName:"ul"},"Typically more performant and space-efficient than default."),(0,r.kt)("li",{parentName:"ul"},"Typical use:",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE INDEX idxginp ON users USING GIN (data jsonb_path_ops);\n")))))))),(0,r.kt)("h3",{id:"index-query-example"},"Index query example"),(0,r.kt)("p",null,"For example, you may want to search a large database for users by phone number. That can be done like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT id, data->>'name' as name, data->'contacts'->>'email' as email FROM users WHERE data @> '{\"contacts\": {\"phone\": \"1234567890\"}}';\n")),(0,r.kt)("p",null,"Let's try populating our database with a million rows, and compare the performance with and without the index."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"You can list currently active indexes with"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT tablename, indexname, indexdef\nFROM pg_indexes\nWHERE schemaname = 'public';\n"))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Let's drop the index, to be sure we are not using it")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"DROP INDEX IF EXISTS idxgin;\nDROP INDEX IF EXISTS idxginp;\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Generate 1 million rows in the users table. We'll do this using PL/pgSQL")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"PL/pgSQL stands for \"Procedural Language / PostgreSQL\", and it's the PostgreSQL database's default procedural language.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"-- Generate the data\n\nDO $$\nDECLARE\n    counter INTEGER := 0;\nBEGIN\n    WHILE counter < 1000000 LOOP\n        INSERT INTO users(data) VALUES\n        (jsonb_build_object('name', 'User' || counter, 'contacts', jsonb_build_object('email', 'user' || counter || '@example.com', 'phone', '12345' || counter)));\n        counter := counter + 1;\n    END LOOP;\nEND $$;\n\n-- The above command takes about a minute to run on the author's laptop\n\n-- Show a sample of the data\n\nSELECT * FROM users LIMIT 10;\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Let's add another user to search for")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'INSERT INTO users(data) VALUES\n(\'{"name": "Steven", "age": 31, "contacts": {"email": "steven@example.com", "phone": "8675309"}}\');\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Let's perform a search query by phone number, without the index")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT id, data->>'name' as name, data->'contacts'->>'email' as email FROM users WHERE data @> '{\"contacts\": {\"phone\": \"8675309\"}}';\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"On the author's laptop, this query takes about 1 second"),(0,r.kt)("li",{parentName:"ul"},"Let's check the query plan to understand what is performed when that query was running")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Prefixing a command by ",(0,r.kt)("inlineCode",{parentName:"p"},"EXPLAIN ANALYZE")," will run the query and show the query plan.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"EXPLAIN ANALYZE SELECT id, data->>'name' as name, data->'contacts'->>'email' as email FROM users WHERE data @> '{\"contacts\": {\"phone\": \"8675309\"}}';\n")),(0,r.kt)("p",null,"Sample output:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'postgres=# EXPLAIN ANALYZE SELECT id, data->>\'name\' as name, data->\'contacts\'->>\'email\' as email FROM users WHERE data @> \'{"contacts": {"phone": "8675309"}}\';\n                                                       QUERY PLAN\n------------------------------------------------------------------------------------------------------------------------\n Gather  (cost=1000.00..23667.84 rows=101 width=68) (actual time=820.331..834.720 rows=1 loops=1)\n   Workers Planned: 2\n   Workers Launched: 2\n   ->  Parallel Seq Scan on users  (cost=0.00..22657.74 rows=42 width=68) (actual time=761.228..761.250 rows=0 loops=3)\n         Filter: (data @> \'{"contacts": {"phone": "8675309"}}\'::jsonb)\n         Rows Removed by Filter: 336667\n Planning Time: 3.666 ms\n Execution Time: 836.048 ms\n(8 rows)\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"We can see it took 836ms. The query plan explains that this was performed in parallel by 2 workers, and each worker scanned 336,667 rows. In the author's table, there are 1,010,001 total rows. 336,667 times 3 is the total number of rows in the database, this shows how two background workers participate with the main thread to scan a table.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Let's try with an index"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE INDEX idxgin ON users USING GIN (data);\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"This command took about 1 minute on the author's laptop.")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Running ",(0,r.kt)("inlineCode",{parentName:"p"},"CREATE INDEX .. ON users ...")," locks the users table. Instead, use ",(0,r.kt)("inlineCode",{parentName:"p"},"CREATE INDEX CONCURRENTLY"),", which is mostly non-blocking. However, it's also slower to create the index, and if it fails part way through, it will leave behind an invalid index.")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Now, we can search by phone number, using the index")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"EXPLAIN ANALYZE SELECT id, data->>'name' as name, data->'contacts'->>'email' as email FROM users WHERE data @> '{\"contacts\": {\"phone\": \"1234567890\"}}';\n")),(0,r.kt)("p",null,"Sample output:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'postgres=# EXPLAIN ANALYZE SELECT id, data->>\'name\' as name, data->\'contacts\'->>\'email\' as email FROM users WHERE data @> \'{"contacts": {"phone": "8675309"}}\';\n                                                    QUERY PLAN\n------------------------------------------------------------------------------------------------------------------\n Bitmap Heap Scan on users  (cost=64.78..447.72 rows=101 width=68) (actual time=2.586..2.614 rows=1 loops=1)\n   Recheck Cond: (data @> \'{"contacts": {"phone": "8675309"}}\'::jsonb)\n   Heap Blocks: exact=1\n   ->  Bitmap Index Scan on idxgin  (cost=0.00..64.76 rows=101 width=0) (actual time=2.331..2.336 rows=1 loops=1)\n         Index Cond: (data @> \'{"contacts": {"phone": "8675309"}}\'::jsonb)\n Planning Time: 2.905 ms\n Execution Time: 3.312 ms\n(7 rows)\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"We can see this query only took 3ms, compared to more than 800ms in the previous example.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Let's check how big our table is, and how much of that is the index"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT\n  tablename,\n  pg_size_pretty(pg_total_relation_size(tablename)) AS total,\n  pg_size_pretty(pg_relation_size(tablename)) AS table,\n  pg_size_pretty(pg_indexes_size(tablename)) AS index\nFROM (SELECT ('\"' || table_schema || '\".\"' || table_name || '\"') AS tablename\n      FROM information_schema.tables WHERE table_name = 'users') AS subquery;\n")),(0,r.kt)("p",null,"Sample output:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"postgres=# SELECT\n  tablename,\n  pg_size_pretty(pg_total_relation_size(tablename)) AS total,\n  pg_size_pretty(pg_relation_size(tablename)) AS table,\n  pg_size_pretty(pg_indexes_size(tablename)) AS index\nFROM (SELECT ('\"' || table_schema || '\".\"' || table_name || '\"') AS tablename\n      FROM information_schema.tables WHERE table_name = 'users') AS subquery;\n\n    tablename     | total  | table  | index\n------------------+--------+--------+--------\n \"public\".\"users\" | 375 MB | 136 MB | 239 MB\n(1 row)\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Notably, the index is larger than the table itself!"),(0,r.kt)("li",{parentName:"ul"},"We can make this much smaller by only indexing the phone number.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"DROP INDEX idxgin;\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Create a new, limited index. Using an expression index like this will only index the phone number. In our case, we are using the default, binary tree index because we are only searching for a single text value, so the index does not need to use GIN indexes. Consider the use of GIN indexes if you want to do a JSONB query, for example if users have multiple phone number each, and you want to check all users for any phone number.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE INDEX idx_users_phone_btree ON users ((data->'contacts'->>'phone'));\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"We have to slightly modify our query so that it's not using the containment operator:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT id, data->>'name' as name, data->'contacts'->>'email' as email\nFROM users\nWHERE data->'contacts'->>'phone' = '8675309';\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"postgres=# explain analyze SELECT id, data->>'name' as name, data->'contacts'->>'email' as email\nFROM users\nWHERE data->'contacts'->>'phone' = '8675309';\n                                                          QUERY PLAN\n------------------------------------------------------------------------------------------------------------------------------\n Index Scan using idx_users_phone_btree on users  (cost=0.42..8.45 rows=1 width=68) (actual time=0.885..0.935 rows=1 loops=1)\n   Index Cond: (((data -> 'contacts'::text) ->> 'phone'::text) = '8675309'::text)\n Planning Time: 6.859 ms\n Execution Time: 1.976 ms\n(4 rows)\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"And, we can see the index is smaller.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\npostgres=# SELECT\n  tablename,\n  pg_size_pretty(pg_total_relation_size(tablename)) AS total,\n  pg_size_pretty(pg_relation_size(tablename)) AS table,\n  pg_size_pretty(pg_indexes_size(tablename)) AS index\nFROM (SELECT ('\"' || table_schema || '\".\"' || table_name || '\"') AS tablename\n      FROM information_schema.tables WHERE table_name = 'users') AS subquery;\n\n    tablename     | total  | table  | index\n------------------+--------+--------+-------\n \"public\".\"users\" | 198 MB | 136 MB | 62 MB\n(1 row)\n")))}d.isMDXComponent=!0}}]);