"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3683],{3905:(e,t,o)=>{o.d(t,{Zo:()=>c,kt:()=>h});var n=o(67294);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,n,a=function(e,t){if(null==e)return{};var o,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}var l=n.createContext({}),p=function(e){var t=n.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},c=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var o=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(o),m=a,h=u["".concat(l,".").concat(m)]||u[m]||d[m]||r;return o?n.createElement(h,i(i({ref:t},c),{},{components:o})):n.createElement(h,i({ref:t},c))}));function h(e,t){var o=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=o.length,i=new Array(r);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:a,i[1]=s;for(var p=2;p<r;p++)i[p]=o[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,o)}m.displayName="MDXCreateElement"},87258:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>u,contentTitle:()=>p,default:()=>g,frontMatter:()=>l,metadata:()=>c,toc:()=>d});var n=o(87462),a=(o(67294),o(3905));const r=o.p+"assets/images/headers-7f382edcfc05d2c9a1d966631418c02b.png",i=o.p+"assets/images/prompt-box-d87234f949696dc5fa36b91969b032a6.png",s=o.p+"assets/images/successfull-prompt-box-5d6920eeab80e8704d665a6780935444.png",l={sidebar_position:2,tags:["Postgres Basics"]},p="How to import a CSV file into Postgres",c={unversionedId:"postgres_guides/how-to-import-a-csv-file-in-postgres/how-to-import-a-csv-file-in-postgres",id:"postgres_guides/how-to-import-a-csv-file-in-postgres/how-to-import-a-csv-file-in-postgres",title:"How to import a CSV file into Postgres",description:"Imagine you are managing a large record of thousands of users having multiple details about users stored in a CSV (Comma Separated Value) file. Your objective is to load this entire repository of user data from the CSV file into a PostgreSQL table.",source:"@site/docs/postgres_guides/how-to-import-a-csv-file-in-postgres/how-to-import-a-csv-file-in-postgres.md",sourceDirName:"postgres_guides/how-to-import-a-csv-file-in-postgres",slug:"/postgres_guides/how-to-import-a-csv-file-in-postgres/",permalink:"/docs/postgres_guides/how-to-import-a-csv-file-in-postgres/",draft:!1,editUrl:"https://github.com/tembo-io/website/blob/main/docs/postgres_guides/how-to-import-a-csv-file-in-postgres/how-to-import-a-csv-file-in-postgres.md",tags:[{label:"Postgres Basics",permalink:"/docs/tags/postgres-basics"}],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,tags:["Postgres Basics"]},sidebar:"tutorialSidebar",previous:{title:"How to describe tables in Postgres",permalink:"/docs/postgres_guides/how-to-describe-tables-in-postgres/"},next:{title:"How to quit PSQL utility",permalink:"/docs/postgres_guides/how-to-quit-psql-utility/"}},u={},d=[{value:"Using SQL query",id:"using-sql-query",level:2},{value:"Using PgAdmin tool",id:"using-pgadmin-tool",level:2},{value:"Conclusion",id:"conclusion",level:2}],m={toc:d},h="wrapper";function g(e){let{components:t,...o}=e;return(0,a.kt)(h,(0,n.Z)({},m,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"how-to-import-a-csv-file-into-postgres"},"How to import a CSV file into Postgres"),(0,a.kt)("p",null,"Imagine you are managing a large record of thousands of users having multiple details about users stored in a CSV (Comma Separated Value) file. Your objective is to load this entire repository of user data from the CSV file into a PostgreSQL table."),(0,a.kt)("p",null,"Manually inserting details of each of these users in the Postgres table would be extremely tedious and error-prone. Fortunately, Postgres comes with the flexibility to directly import a CSV file to a table with a single command and within a few seconds."),(0,a.kt)("p",null,"There are mainly two ways to import the CSV file - Via a SQL query and via the Pgdmin tool."),(0,a.kt)("h2",{id:"using-sql-query"},"Using SQL query"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 1")," - Prepare your CSV file. Create the table in Excel and save your desired data of users in it."),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"Save your CSV file on the machine where your database is running. Postgres needs to access the CSV file on the filesystem to be able to load it.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 2")," - Open your terminal and connect it to your desired Postgres database. Check out our ",(0,a.kt)("a",{parentName:"p",href:"https://tembo.io/docs/postgres_guides/how-to-connect-to-postgres/"},"guide")," on how to connect to Postgres."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 3")," - Create a table in the Postgres database into which you want to copy the data. To create the table, run the following command in your terminal:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"CREATE TABLE table_name (column1 data_type, column2 data_type, column3 data_type, \u2026);\n")),(0,a.kt)("p",null,"A critical point to note is, the columns you will specify in this table should have the exact same name and data type and in the exact same order as created in the table in the CSV file."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 4")," - To import the CSV file, Postgres has a ",(0,a.kt)("inlineCode",{parentName:"p"},"COPY")," command. The ",(0,a.kt)("inlineCode",{parentName:"p"},"COPY")," command allows us to move/copy the data of a standard file into Postgres."),(0,a.kt)("p",null,"Execute the following ",(0,a.kt)("inlineCode",{parentName:"p"},"COPY")," command to copy the CSV file data to the Postgres table:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"COPY table_name FROM 'path' WITH (FORMAT CSV, HEADER)\n")),(0,a.kt)("p",null,"In this command-"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Replace the ",(0,a.kt)("inlineCode",{parentName:"li"},"table_name")," with the name of table you have previously created in the Postgres database"),(0,a.kt)("li",{parentName:"ul"},"Replace the ",(0,a.kt)("inlineCode",{parentName:"li"},"path")," with the path of CSV file"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"FORMAT CSV")," represents the file type of CSV file"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"HEADER")," represents the first row of the CSV file holding the names of the column. If there is not any headers in the CSV file, you can ignore adding ",(0,a.kt)("inlineCode",{parentName:"li"},"HEADER")," to the command")),(0,a.kt)("p",null,"In this example, we have passed just ",(0,a.kt)("inlineCode",{parentName:"p"},"table_name"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"path"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"FORMAT CSV"),", and ",(0,a.kt)("inlineCode",{parentName:"p"},"HEADER")," arguments in the ",(0,a.kt)("inlineCode",{parentName:"p"},"COPY")," command; however it can accept many other arguments to specify the file and data that you want to load into Postgres."),(0,a.kt)("p",null,"Check out the ",(0,a.kt)("a",{parentName:"p",href:"https://www.postgresql.org/docs/current/sql-copy.html"},"official documentation")," to learn more about the ",(0,a.kt)("inlineCode",{parentName:"p"},"COPY")," command."),(0,a.kt)("h2",{id:"using-pgadmin-tool"},"Using PgAdmin tool"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 1")," - Open the PgAdmin tool on your device and in it, open the Query tool in your desired database."),(0,a.kt)("p",null,"To do that, expand the Servers (on left sidebar) and direct to \u2192 PostgreSQL \u2192 Databases \u2192 Your_desired_database \u2192 Schemas."),(0,a.kt)("p",null,"Right Click on Schemas and select the Query tool option."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 2")," - Just like the previous method, you must create a table with the same columns and names as the data in the CSV file. To create the table, run the following command in query tool:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"CREATE TABLE table_name (column1 data_type, column2 data_type, column3 data_type, \u2026);\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 3")," - Right click on the created table (present under the tables section), and select the Import/Export Data option. The Import/Export Data Prompt box will appear on the sreen."),(0,a.kt)("img",{src:i,width:"600",alt:"PromptBox"}),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 4")," - Select your desired CSV file in the Filename option and select csv in Format option. Now, go to the Options section and toggle the Header option to On, if your CSV file table has headers in it."),(0,a.kt)("img",{src:r,width:"600",alt:"Headers"}),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 5")," - Click the OK button to initiate the import process. Upon successful completion of the data import, a prompt box will confirm the successful import of your data."),(0,a.kt)("img",{src:s,width:"600",alt:"SuccessfullPromptBox"}),(0,a.kt)("h2",{id:"conclusion"},"Conclusion"),(0,a.kt)("p",null,"In this guide, we understood the two different methods to import a CSV file into a Postgres table."),(0,a.kt)("p",null,"Interested to learn more about Postgres utilities? Check out our collection of ",(0,a.kt)("a",{parentName:"p",href:"https://tembo.io/docs/category/postgres-guides"},"guides")," to continue learning about Postgres."))}g.isMDXComponent=!0}}]);