"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9655],{3905:(e,t,o)=>{o.d(t,{Zo:()=>c,kt:()=>h});var n=o(67294);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,n,a=function(e,t){if(null==e)return{};var o,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}var p=n.createContext({}),i=function(e){var t=n.useContext(p),o=t;return e&&(o="function"==typeof e?e(t):s(s({},t),e)),o},c=function(e){var t=i(e.components);return n.createElement(p.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},b=n.forwardRef((function(e,t){var o=e.components,a=e.mdxType,r=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=i(o),b=a,h=u["".concat(p,".").concat(b)]||u[b]||m[b]||r;return o?n.createElement(h,s(s({ref:t},c),{},{components:o})):n.createElement(h,s({ref:t},c))}));function h(e,t){var o=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=o.length,s=new Array(r);s[0]=b;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[u]="string"==typeof e?e:a,s[1]=l;for(var i=2;i<r;i++)s[i]=o[i];return n.createElement.apply(null,s)}return n.createElement.apply(null,o)}b.displayName="MDXCreateElement"},95421:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>m,frontMatter:()=>r,metadata:()=>l,toc:()=>i});var n=o(87462),a=(o(67294),o(3905));const r={sidebar_position:8},s="Running the Tembo Operator Locally",l={unversionedId:"tembo-stacks/local-tembo-operator",id:"tembo-stacks/local-tembo-operator",title:"Running the Tembo Operator Locally",description:"The Tembo Operator allows you to run multiple Tembo Stacks on Kubernetes. This guide shows you how to set up the Tembo Operator on your local machine and provides an example of spinning up and connecting to a local Postgres instance hosted on Kubernetes.",source:"@site/docs/tembo-stacks/local-tembo-operator.md",sourceDirName:"tembo-stacks",slug:"/tembo-stacks/local-tembo-operator",permalink:"/docs/tembo-stacks/local-tembo-operator",draft:!1,editUrl:"https://github.com/tembo-io/website/blob/main/docs/tembo-stacks/local-tembo-operator.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"Tembo Stacks Roadmap",permalink:"/docs/tembo-stacks/roadmap"},next:{title:"Running the Tembo Operator on AWS EKS",permalink:"/docs/tembo-stacks/tembo-operator-eks"}},p={},i=[{value:"Step 1: Clone the repo",id:"step-1-clone-the-repo",level:2},{value:"Step 2: Navigate to the <code>tembo-operator</code> directory",id:"step-2-navigate-to-the-tembo-operator-directory",level:2},{value:"Step 3: Start the Kubernetes cluster",id:"step-3-start-the-kubernetes-cluster",level:2},{value:"Step 4: Install the Tembo Operator into the Kubernetes cluster",id:"step-4-install-the-tembo-operator-into-the-kubernetes-cluster",level:2},{value:"Step 5: Deploy a Tembo Stack instance",id:"step-5-deploy-a-tembo-stack-instance",level:2},{value:"Step 6: Obtain connection password",id:"step-6-obtain-connection-password",level:2},{value:"Step 7: Expose the service to localhost",id:"step-7-expose-the-service-to-localhost",level:2},{value:"Step 8: Connect",id:"step-8-connect",level:2},{value:"Step 9. Enjoy and ask questions!",id:"step-9-enjoy-and-ask-questions",level:2}],c={toc:i},u="wrapper";function m(e){let{components:t,...o}=e;return(0,a.kt)(u,(0,n.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"running-the-tembo-operator-locally"},"Running the Tembo Operator Locally"),(0,a.kt)("p",null,"The Tembo Operator allows you to run multiple Tembo Stacks on Kubernetes. This guide shows you how to set up the Tembo Operator on your local machine and provides an example of spinning up and connecting to a local Postgres instance hosted on Kubernetes."),(0,a.kt)("p",null,"This tutorial requires the following prerequisites:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/kubernetes-sigs/kind"},"KinD")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.docker.com/"},"Docker")," running locally"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/casey/just"},"just")," command runner installed"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://helm.sh/"},"helm")," package manager installed"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.rust-lang.org/tools/install"},"Rust")," installed")),(0,a.kt)("h2",{id:"step-1-clone-the-repo"},"Step 1: Clone the repo"),(0,a.kt)("p",null,"Clone the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/tembo-io/tembo-stacks/tree/main"},"Tembo Stacks Repo"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/tembo-io/tembo-stacks.git\n")),(0,a.kt)("h2",{id:"step-2-navigate-to-the-tembo-operator-directory"},"Step 2: Navigate to the ",(0,a.kt)("inlineCode",{parentName:"h2"},"tembo-operator")," directory"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"cd tembo-stacks/tembo-operator\n")),(0,a.kt)("h2",{id:"step-3-start-the-kubernetes-cluster"},"Step 3: Start the Kubernetes cluster"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"just start-kind\n")),(0,a.kt)("h2",{id:"step-4-install-the-tembo-operator-into-the-kubernetes-cluster"},"Step 4: Install the Tembo Operator into the Kubernetes cluster"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"just install-chart\n")),(0,a.kt)("h2",{id:"step-5-deploy-a-tembo-stack-instance"},"Step 5: Deploy a Tembo Stack instance"),(0,a.kt)("p",null,"Choose a Tembo Stack you would like to use. "),(0,a.kt)("p",null,"Here we are using ",(0,a.kt)("inlineCode",{parentName:"p"},"sample-machine-learning.yaml"),", but there are ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/tembo-io/tembo-stacks/tree/main/tembo-operator/yaml"},"other samples"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"kubectl apply -f yaml/sample-machine-learning.yaml\n")),(0,a.kt)("h2",{id:"step-6-obtain-connection-password"},"Step 6: Obtain connection password"),(0,a.kt)("p",null,"Get your connection password and save it as an environment variable."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"export PGPASSWORD=$(kubectl get secrets/sample-machine-learning-connection --template={{.data.password}} | base64 -D)\n")),(0,a.kt)("h2",{id:"step-7-expose-the-service-to-localhost"},"Step 7: Expose the service to localhost"),(0,a.kt)("p",null,"kubectl port-forward svc/sample-machine-learning-rw 5432:5432 "),(0,a.kt)("h2",{id:"step-8-connect"},"Step 8: Connect"),(0,a.kt)("p",null,"Connect to the running Postgres instance:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"psql postgres://postgres:$PGPASSWORD@localhost:5432\n")),(0,a.kt)("h2",{id:"step-9-enjoy-and-ask-questions"},"Step 9. Enjoy and ask questions!"),(0,a.kt)("p",null,"Any questions? Feel free to ask our team in our ",(0,a.kt)("a",{parentName:"p",href:"https://join.slack.com/t/tembocommunity/shared_invite/zt-23o25qt91-AnZoC1jhLMLubwia4GeNGw"},"Slack Community")," or email ",(0,a.kt)("a",{parentName:"p",href:"mailto:support@tembo.io"},"support@tembo.io"),"."))}m.isMDXComponent=!0}}]);