"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[658],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var s=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n,s,r={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=s.createContext({}),l=function(e){var t=s.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=l(e.components);return s.createElement(p.Provider,{value:t},e.children)},d="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return s.createElement(s.Fragment,{},t)}},u=s.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,p=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),d=l(n),u=r,m=d["".concat(p,".").concat(u)]||d[u]||g[u]||a;return n?s.createElement(m,o(o({ref:t},c),{},{components:n})):s.createElement(m,o({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,o=new Array(a);o[0]=u;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[d]="string"==typeof e?e:r,o[1]=i;for(var l=2;l<a;l++)o[l]=n[l];return s.createElement.apply(null,o)}return s.createElement.apply(null,n)}u.displayName="MDXCreateElement"},4598:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>p,metadata:()=>c,toc:()=>g});var s=n(87462),r=(n(67294),n(3905));const a=n.p+"assets/images/pgadmin-dashboard-72ee302ccdfd651f8c664a70a49ae757.png",o=n.p+"assets/images/pgadmin-dashboard-tables-125f01ba36ee9c35d4f5727efd182511.png",i=n.p+"assets/images/pgadmin-server-activity-cde429749bdc46481a7abd1c40c49b1b.png",p={sidebar_position:2,tags:["Postgres Basics"]},l="Listing all connections to Postgres",c={unversionedId:"postgres_guides/listing-all-connections-in-postgres/listing-all-connections-in-postgres",id:"postgres_guides/listing-all-connections-in-postgres/listing-all-connections-in-postgres",title:"Listing all connections to Postgres",description:"There are 2 different methods to list down all the connections present in Postgres database - using SQL query and using PgAdmin. In this guide, we will explore these two methods and discuss the step-by-step process to run them.",source:"@site/docs/postgres_guides/listing-all-connections-in-postgres/listing-all-connections-in-postgres.md",sourceDirName:"postgres_guides/listing-all-connections-in-postgres",slug:"/postgres_guides/listing-all-connections-in-postgres/",permalink:"/docs/postgres_guides/listing-all-connections-in-postgres/",draft:!1,editUrl:"https://github.com/tembo-io/website/blob/main/docs/postgres_guides/listing-all-connections-in-postgres/listing-all-connections-in-postgres.md",tags:[{label:"Postgres Basics",permalink:"/docs/tags/postgres-basics"}],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,tags:["Postgres Basics"]},sidebar:"tutorialSidebar",previous:{title:"How to work with matrices in Postgres",permalink:"/docs/postgres_guides/how-to-work-with-matrices-in-postgres/"},next:{title:"Listing indexes in Postgres",permalink:"/docs/postgres_guides/listing-indexes-in-postgres/"}},d={},g=[{value:"Using SQL query",id:"using-sql-query",level:2},{value:"Using PgAdmin",id:"using-pgadmin",level:2},{value:"Conclusion",id:"conclusion",level:2}],u={toc:g},m="wrapper";function h(e){let{components:t,...n}=e;return(0,r.kt)(m,(0,s.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"listing-all-connections-to-postgres"},"Listing all connections to Postgres"),(0,r.kt)("p",null,"There are 2 different methods to list down all the connections present in Postgres database - using SQL query and using PgAdmin. In this guide, we will explore these two methods and discuss the step-by-step process to run them."),(0,r.kt)("p",null,"Let\u2019s get started"),(0,r.kt)("h2",{id:"using-sql-query"},"Using SQL query"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 1")," - Open you terminal and connect it to the Postgres database. Check out guide to follow the steps, ",(0,r.kt)("a",{parentName:"p",href:"https://tembo.io/docs/postgres_guides/how-to-connect-to-postgres/"},"click here")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 2")," - To get the details of all connections created in each Postgres database, run this sql query"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT * FROM pg_stat_activity;\n")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("inlineCode",{parentName:"p"},"pg_stat_activity")," displays the information about the current activity of database connections present in PostgreSQL database server. Check out ",(0,r.kt)("a",{parentName:"p",href:"https://www.postgresql.org/docs/current/monitoring-stats.html#MONITORING-PG-STAT-ACTIVITY-VIEW"},"the official documentation to learn more about it"),".")),(0,r.kt)("img",{src:a,width:"800",alt:"PgadminDashboard"}),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"dataid")," - It shows the Object ID of the connected database.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"datname")," - It shows the names of the connected database. It gives the human-readabale name of the database connected with the session.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"pid")," - It shows the process ID (pid) of the backend server process associated with the session. There is a backend process for each individual active session.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"usesysid")," - It lists down the system identifier of all the users who has started the session.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"application_name")," - It shows the names of the client application that started the session. In many cases, it is defined by the client application while building a connection to the session.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"backend_start")," - This column represents the timestamp when the backend process was initiated."))),(0,r.kt)("h2",{id:"using-pgadmin"},"Using PgAdmin"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 1")," - Open the ",(0,r.kt)("strong",{parentName:"p"},"Databases")," by expanding the ",(0,r.kt)("strong",{parentName:"p"},"Servers")," in Object Explorer."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 2")," - Navigate to the ",(0,r.kt)("strong",{parentName:"p"},"Dashboard")," section present on the right-hand side."),(0,r.kt)("img",{src:o,width:"800",alt:"PgadminDashboardTables"}),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 3")," - There you will see the ",(0,r.kt)("strong",{parentName:"p"},"Sessions")," tab present in the ",(0,r.kt)("strong",{parentName:"p"},"Server activity")," section. It will display the list of all connections created in each database."),(0,r.kt)("img",{src:i,width:"800",alt:"PgadminServerActivity"}),(0,r.kt)("p",null,"Along with ",(0,r.kt)("em",{parentName:"p"},"Server Activity"),", it shows some other important statistics as well - Server Sessions, Transitions per Second, Tuples In and Tuples Out, Block IO."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Server Sessions")," - It shows the details about the sessions or connections that are currently goin on in the PostgreSQL server.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Transactions per Second")," - It represents the rate or time at which the transactions are being treated by the database server.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Tuples In and Tuples Out")," - Tuples In shows the number of rows added to the database. Tuples Out shows the number of rows fetched from the database.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Block IO")," - It shows the input and output operations performed on the disk blocks."))),(0,r.kt)("h2",{id:"conclusion"},"Conclusion"),(0,r.kt)("p",null,"In this guide, we discussed different methods to list down all the connections present in Postgres"),(0,r.kt)("p",null,"If you are interested to learn more about Postgres, we highly recommend you to check out other ",(0,r.kt)("a",{parentName:"p",href:"https://tembo.io/docs/category/postgres-guides"},"guides"),"."),(0,r.kt)("p",null,"Do check out the ",(0,r.kt)("a",{parentName:"p",href:"https://tembo.io/blog/"},"Tembo blogs")," for more launches and interesting news."))}h.isMDXComponent=!0}}]);